<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>manjaro环境配置 | Fayy&amp;Fc's Blog</title><meta name=keywords content="manjaro"><meta name=description content="manjaro环境配置"><meta name=author content="since"><link rel=canonical href=https://blog.thend03.com/posts/manjaro-env-config/><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.js onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://blog.thend03.com/img/logo.jpg><link rel=icon type=image/png sizes=16x16 href=https://blog.thend03.com/img/logo.jpg><link rel=icon type=image/png sizes=32x32 href=https://blog.thend03.com/img/logo.jpg><link rel=apple-touch-icon href=https://blog.thend03.com/img/logo.jpg><link rel=mask-icon href=https://blog.thend03.com/img/logo.jpg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh href=https://blog.thend03.com/posts/manjaro-env-config/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css><script src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><script src=https://cdn.jsdelivr.net/npm/jquery@3.6.3/dist/jquery.min.js></script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><meta property="og:title" content="manjaro环境配置"><meta property="og:description" content="manjaro环境配置"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.thend03.com/posts/manjaro-env-config/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-02-06T15:36:27+08:00"><meta property="article:modified_time" content="2024-02-06T15:36:27+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="manjaro环境配置"><meta name=twitter:description content="manjaro环境配置"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"📚文章","item":"https://blog.thend03.com/posts/"},{"@type":"ListItem","position":2,"name":"manjaro环境配置","item":"https://blog.thend03.com/posts/manjaro-env-config/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"manjaro环境配置","name":"manjaro环境配置","description":"manjaro环境配置","keywords":["manjaro"],"articleBody":"前言 在上一篇安装windows+manjaro中，安装好了双系统，那么安装好之后，需要更新下manjaro系统，安装好日常使用的环境和应用程序，方便后续的使用。\n本篇分为系统、应用程序、外观3个部分进行说明。\n更新系统 在安装好系统之后，由于系统是国外的发行版，一些安装包、应用程序啥的，都是国外的源，没代理的话可能会下载慢，甚至下载不下来，所以首要是要对系统进行更新，更换国内的镜像源。\n更换国内镜像源 打开kconsole终端，在命令行输入如下命令\nsudo pacman-mirrors -i -c China -m rank 执行命令之后会在命令行终端输出可用的列表，然后弹窗供选择，源选择一个就好，多了没啥用，还会降低速度\n添加archlinuxcn源 添加archlinuxcn的源，可以获得更多的包\n编辑配置文件\nsudo vi /etc/pacman.conf 在配置文件中添加如下配置\n[archlinuxcn] SigLevel = Optional TrustAll Server = https://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/$arch 安装yay包管理工具 yay是aur仓库的包管理助手，使用yay不用像使用pacman一样，需要sudo，而且包比官方仓库的全，官方仓库没有的包可以使用yay尝试安装\n打开命令行，输入如下命令安装yay\nsudo pacman -S yay 安装snap包管理工具 有些包只有snap有，所以也安装下snap\nsudo pacman -S snapd 然后执行如下命令\nsudo systemctl enable --now snapd.socket 创建链接\nsudo ln -s /var/lib/snapd/snap /snap 测试snap功能\n$ sudo snap install hello-world hello-world 6.3 from Canonical✓ installed $ hello-world Hello World! 更新系统 换好源，添加完源之后，执行以下命令更新系统\nsudo pacman -Syyu 安装base-devel 安装基础构建包\nsudo pacman -S base-devel 到这里系统层面的设置基本上差不多了，下面介绍一些常用应用程序\n一些常用的命令如vim等需要自行安装，使用命令行安装即可，不再多介绍。\n安装常用软件 科学上网 搞定了科学上网之后，下载包，访问google， github才会丝滑。所以先搞定科学上网\n科学上网有3个选项: Qv2ray、clash for windows、v2raya\n其中qv2ray停止运营了，clash删库跑路了，v2raya还在正常更新。\n我之前用过qv2ray和clash，目前一些历史版本还能用。所以也介绍下这2个的安装使用\nQv2ray qv2ray的项目解散后，连官网也不维护了，烟消云散，好歹github的仓库还在，还能下载安装包\n2.7.0下载地址: https://github.com/Qv2ray/Qv2ray/releases/tag/v2.7.0\n由于要安装在linux上，所以选择AppImage进行下载\n下载好之后，把AppImage拖到桌面，双击就能运行。由于这个版本比较老了，可能没对新的桌面框架做适配，所以桌面快捷方式会运行失败。\n然后需要下载v2ray-core，最新的v2ray-core版本和qv2ray不兼容，所以要下载老版本的v2ray-core，才能运行。经过测试,4.45.2版本可以兼容，所以我们下载4.45.2版本的v2ray-core。\nV2ray-core-4.45.2下载地址: https://github.com/v2fly/v2ray-core/releases/tag/v4.45.2\n下载64位的linux包即可。\n下载好v2ray-core之后解压，打开qv2ray首选项-内核设置，设置v2ray-core路径，然后点击检查v2ray核心设置，检查通过v2ray-core配对就成功了。\n接下来就是添加订阅链接，打开分组，添加新的组，或者修改默认分组，添加你的机场的订阅链接，添加之后更新订阅，如果更新失败，切换下订阅类型试试。\n如果是ssr之类的协议，可以去github下载对应的插件，放到本地的~/.config/qv2ray/plugins目录下，然后重启qv2ray，点击插件按钮即可加载插件。\nssr插件下载地址: https://github.com/Qv2ray/QvPlugin-SSR/releases/tag/v3.0.0\n其他插件可在github仓库自行搜索: https://github.com/orgs/Qv2ray/repositories?type=all\n最后需要去系统设置那手动设置下代理，让系统代理生效\n其他配置项不在赘述\nclash for windows 说是for windows，不过linux也能用。不过clash作者删库跑路了，所以github无法下载，yay也无法安装，只能找互联网残存版本安装。\n下载地址: https://archive.org/download/clash_for_windows_pkg\n下载linux 64位版本，解压之后就可以在命令行执行cfw命令启动clash\n也可以在桌面新建快捷方式，以下是我的clash桌面快捷方式配置, clash解压路径位/opt/app/clash-for-windows，路径需自行修改\n[Desktop Entry] Name=Clash for Windows Comment=Clash for Windows Exec=/opt/app/clash-for-windows/cfw Icon=/opt/app/clash-for-windows/logo.jpeg Terminal=false Type=Application Categories=Developer; 首先拿到clash订阅链接，然后点击profiles, 粘贴订阅链接，点击download，就会下载订阅配置到本地\n然后在proxy选择可用节点，策略选择rule(规则模式)\n最后再打开系统设置，设置代理为clash端口，代理就倒腾完了\nv2raya 上面的2个都已经停止维护和跑路了，v2raya还没跑路，且用且珍惜\n首先要安装v2ray-core，然后使用命令行安装v2raya\nyay -S v2raya 安装完成之后，可以使用命令行启动v2raya，端口是2017，注意看提示，root和非root启动有不同的启动方式\n启动之后，浏览器访问localhost:2017，创建一个管理员用户\n然后导入订阅\n导入订阅之后，就可以选择节点了\n命令行代理 有些任务需要在终端下进行，所以也需要设置命令行代理。命令行代理有2种方式，一种是设置环境变量，另一种是使用工具，让工具走\n代理。\n环境变量 临时的直接执行以下命令，终端窗口关闭，变量清除，端口看使用的是哪种代理方式\nexport https_proxy=http://127.0.0.1:7890 http_proxy=http://127.0.0.1:7890 all_proxy=socks5://127.0.0.1:7890 长期的就把配置想到配置文件里，manajaro默认用的是zsh，那么修改~/.zshrc文件, 添加如下2行命令\nalias setproxy=\"export ALL_PROXY=socks5://127.0.0.1:7890; echo 'SET PROXY SUCCESS!!!'\" alias unsetproxy=\"unset ALL_PROXY; echo 'UNSET PROXY SUCCESS!!!'\" 保存之后执行source命令source ~/.zshrc\n下次想用代理的时候，就在命令行执行setproxy，不想用代理就执行unsetproxy\nproxychains 另一个是使用proxychains，proxychains设置代理，然后执行命令都加上proxychains\n执行命令安装proxychains\nsudo pacman -S proxychains-ng 然后修改配置文件，设置代理, 最后一行将socks5代理设置为本地代理端口\nsudo vim /etc/proxychains.conf 安装好之后，如果需要代理，可以在所有命令之前都加上proxychains，如\nproxychains git clone xxx 输入法 在进行其他步骤之前首先是安装输入法，输入法我选择的是开源的rime框架，开源，安全，强大，可定制化程度高，但是也会带来不小的\n学习和解决问题的成本。\n本篇介绍我本人比较喜欢的一款基于rime的输入法，在manjaro可用，如需其他的比如搜狗linux输入法，本文不涉及。\n选这款输入法主要是被它的颜值吸引，基于rime封装之后，解决了大部分的问题，当然在linux下的开源项目，总归会遇到各种各样千奇\n百怪的bug。\n既然选择了linux，就直面恐惧，直面问题吧。\n这款输入法名字叫做四叶草输入法，好听颜值在我个人看来也很高\n输入法开源地址如下: https://github.com/fkxxyz/rime-cloverpinyin\nLinux安装教程地址如下: https://github.com/fkxxyz/rime-cloverpinyin/wiki/linux\n本部分基于项目的wiki，补充下安装过程，解决一些wiki上遗留的问题\n安装fcitx5 在manjaro可以直接使用pacman安装fcitx5，fcitx5是目前最新的输入法框架，内核轻量，功能强大。\nsudo pacman -S fcitx5 fcitx5-qt fcitx5-gtk fcitx5-configtool 然后需要修改配置，wiki上写着要将配置写入~/.xprofile，但是经过我的测试，光写到这个文件还不行，可能会导致无法展示这个输入法。\n最好是在/etc/environment里也写一份同样的配置\n配置项具体内容如下\nexport GTK_IM_MODULE=fcitx5 export QT_IM_MODULE=fcitx5 export XMODIFIERS=\"@im=fcitx5\" export LANG=\"zh_CN.UTF-8\" export LC_CTYPE=\"zh_CN.UTF-8\" 改完配置之后，重新登录桌面使配置生效，当然重启电脑最好。\n如上图所示，fcitx5就启用了\n安装rime 执行以下命令安装rime\nsudo pacman -S fcitx5-rime 然后右键托盘图标点开配置，将“中州韻”加入列表即可\n点击配置，然后选择右下角的添加输入法，点击中州韵添加到分组即可\n安装四叶草输入法 以上2步，安装好输入法框架，rime和fcitx5，就可以安装最终的输入法方案了，即四叶草输入法\nwiki上介绍使用yay安装，但是我这边没有成功，无法展示四叶草输入方案\nyay -S rime-cloverpinyin 所以我选择手动下载安装包到用户目录进行安装, 下载地址: https://github.com/fkxxyz/rime-cloverpinyin/releases\n将压缩包下载到~/.local/share/fcitx5/rime，然后解压，将文件夹里的文件复制到~/.local/share/fcitx5/rime目录下\n新增配置文件 在~/.local/share/fcitx5/rime文件夹下新建default.custom.yaml ，内容为\npatch: \"menu/page_size\": 8 schema_list: - schema: clover 其中 8 表示打字的时候输入面板的每一页的候选词数目，可以设置成 1~9 任意数字。\n写好该文件之后，点击右下角托盘图标右键菜单，点“重新部署”，然后再点右键，在方案列表里面应该就有“ 🍀️四叶草拼音输入法”的选项了。\n关于 default.custom.yaml 文件的更多解释，可以参考官方文档定制指南\n这里也有作者的一些配置供参考: 四叶草输入法基本配置\n使用四叶草输入法 写好该文件之后，点击右下角托盘图标右键菜单，点“重新部署”，然后再点右键，在方案列表里面应该就有🍀️四叶草拼音输入法的选项了。\n美化输入法 fcitx5可以使用搜狗皮肤美化，具体的可以参考如下的教程\nfcitx5使用搜狗皮肤\n这里就说一点，转换之后得到的皮肤，是需要放到指定用户目录下的，不同的输入法框架用户目录不同\n平台 rime用户资料夹位置 ibus ~/.config/ibus/rime fcitx ~/.config/fcitx/rime fcitx5 ~/.local/share/fcitx5/rime 我这里使用的是fcitx5，但是皮肤最终的路径是在~/.local/share/fcitx5/themes，这个要注意下\n教程里介绍的fcitx的皮肤路径，ibus的需要自行搜索解决\n其他关于用户资料夹的介绍，详见官方文档: Rime 中的数据文件分布及作用\n另外介绍2款做好的皮肤\nhttps://github.com/ayamir/fcitx5-nord\nhttps://github.com/ayamir/fcitx5-gruvbox\n输入法配置项修改 点击系统托盘-输入法-配置，或者从系统设置进入输入法配置页面，这里可以进行输入法的配置\n如果想修改输入法的字体和皮肤，可以选择经典用户界面设置，设置字体，字号，输入法皮肤等\n中州韵的配置在如下位置修改，红框圈出来的选项，如果选中的话，会导致光标一直固定在最前面，很别扭\n截图工具 下一个就是截图工具了，截图必不可少，推荐flameshot(火焰截图), 另一个我常用的截图工具snipaste，由于linux适配有问题，暂不推荐\n执行以下命令安装flameshot\nsudo pacman -S flameshot 安装好后可以在搜索栏搜索flameshot启动, 启动之后可以在系统托盘处点击火焰截图进行截图\n上面使用起来会有点不方便，需要为火焰截图设置快捷键截图\n打开系统设置，快捷键，如果搜不到火焰截图，就点击下方添加应用程序进行添加，添加好之后，设置截图快捷键，以后就可以使用快捷键截图了。\n转换deb包 有些只有deb包，没有manjaro安装包，为了能在manjaro上安装，所以要安装deb转换工具\n执行以下命令安装debtap\nsudo pacman -S debtap 执行转换之前，需要有一次更新行为，这里可能会超时或失败，记得上代理\nsudo debtap -u 转换deb包\nsudo debtap xxx.deb 安装转换完成的包\nsudo pacman -U xxx.pkg.tar.zst 安装ohmyzsh manjaro的默认shell是zsh，ohmyzsh对zsh做了进一步的封装\n执行以下命令安装ohmyzsh,为了防止网络不通，使用proxychains做代理, 实在下载不下来，只能手动下载install.sh，然后执行安装脚本\nproxychains sh -c \"$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)\" 然后下载如下的几个插件\n# 自动补全 git clone https://github.com/zsh-users/zsh-autosuggestions $ZSH_CUSTOM/plugins/zsh-autosuggestions git clone https://github.com/zsh-users/zsh-syntax-highlighting.git $ZSH_CUSTOM/plugins/zsh-syntax-highlighting # zsh-vi-mod git clone https://github.com/jeffreytse/zsh-vi-mode $ZSH_CUSTOM/plugins/zsh-vi-mode 下载好之后修改全新的~/.zshrc，历史的文件记得在安装的时候备份\nplugins=( git zsh-syntax-highlighting zsh-autosuggestions zsh-vi-mode ) 如果想修改主题的话，修改~/.zshrc文件里的如下配置，默认主题是robbyrussell\nZSH_THEME=\"robbyrussell\" 更多主题见如下地址: https://github.com/ohmyzsh/ohmyzsh/wiki/Themes\n安装typora typora是我个人比较喜欢的markdown编辑器\nsudo pacman -S typora 安装chrome 执行命令安装chrome, 安装好之后可以在命令行执行google-chrome-stable启动，也可以搜索chrome进行启动\nyay -S google-chrome chrome桌面快捷方式, 在桌面新建文本文件，写入如下配置\n[Desktop Entry] BinaryPattern=chrome; MimeType= Name=chrome Exec=google-chrome-stable Icon=/opt/app/chrome-logo.png Type=Application Terminal=0 安装vscode 进入下载页，点击下载64位的tar包，由于不支持deb和rpm，所以手动下载tar包安装\n下载地址: https://code.visualstudio.com/#alt-downloads\n桌面快捷方式如下，新建文本文件，写入如下配置然后保存\n[Desktop Entry] Name=Visual Studio Code Comment=Code Editing. Refined. GenericName=Text Editor Exec=/opt/app/vscode/bin/code --unity-launch %F Icon=/opt/app/vscode/logo.png Type=Application StartupNotify=false StartupWMClass=Code Categories=TextEditor;Development;IDE; MimeType=text/plain;inode/directory;application/x-visual-studio-code-workspace; Actions=new-empty-window; Keywords=vscode; wifi 使用linux开wifi，manjaro和arch的文档太复杂，找了个开源工具，可以创建wifi热点\n项目地址如下: https://github.com/lakinduakash/linux-wifi-hotspot\n执行命令安装\nyay -S linux-wifi-hotspot 安装之后可以在应用程序搜索wifi hotspot,即可启动\n5Ghz可能会有bug，建议使用2.4G, SSID是你的wifi名称，password是wifi密码，其他默认即可\n美化系统 kde的桌面ui排布和windows相似，本次美化的目标是把桌面美化成mac风格\n主题/应用程序/图标/窗口风格 先说主题，系统设置-外观-plasma视觉风格-获取新plasma视觉风格，搜索MacBreeze Shadowless，然后点击安装，安装完成之后点击使用此主题\n然后设置应用程序风格，系统设置-外观-应用程序风格-配置GNOME/GTK应用程序风格-获取新GNOME/GTK应用程序风格，搜索McMojave， 选择喜欢的类型，安装然后使用。\n修改图标，系统设置-外观-全局主题-图标, 获取新图标，搜索Mojave CT icons安装并使用\n系统设置-外观-窗口装饰元素-获取新窗口装饰，搜索McMojave Aurorae,安装并使用\n顶栏设置 Manjaro kde的任务面板和windows类似，是在底部，那么为了仿Mac，所以要删除底栏，添加一个顶栏\n点击面板然后右键，选择进入编辑模式，然后更多选项，选择移除面板，即可删除面板，删除底部面板即可，避免和latte-dock冲突\n在桌面右键选择，添加面板-应用程序菜单栏。\n下面进行顶栏的设置，点击添加部件，添加如下部件: 应用程序启动器，锁定/注销、系统托盘、数字时钟等\n然后为顶栏添加2个间距用于使用时钟分隔左右，2个蓝色的条就是间距，全局菜单就是其他应用的设置按钮菜单\n然后调整顶栏布局，将应用程序启动器放在顶栏的最左边，然后在它的右边放全局菜单，然后再右边放间隔，后面依次放数字时钟、间\n隔、锁定/注销、系统托盘。这样应用程序启动器就会固定在最左边\n最终效果如下\n应用程序启动器的图标要改成mac，右键点击应用程序启动器，选择配置应用程序启动器\n修改图标，选择本地图标即可\n附一个LOGO\n安装latte-dock 要想实现和mac一样的dock效果，需要安装latte-dock，安装好之后，应用程序搜索latte-dock启动即可\nsudo pacman -S latte-dock 启动之后效果如下，其他设置可以自行更改\n安装nautilus 安装nautilus替换dolphin，文件管理会更加美观\nsudo pacman -S nautilus 然后点击系统设置-应用程序-默认应用程序-文件管理器，选择文件即可\n更换壁纸 桌面右键-配置桌面和壁纸，选择喜欢的壁纸即可\n小结 经过如上的配置，一个基本可用的仿mac系统的manjaro就基本好了，后面有其他的更新就再补充\n参考链接 manjaro终端美化: https://segmentfault.com/a/1190000022863791 manjaro配置: https://zhuanlan.zhihu.com/p/114296129 manjaro配置: https://zhuanlan.zhihu.com/p/460826583 manjaro配置: https://zhuanlan.zhihu.com/p/656733028 manjaro配置: https://blog.lyh543.cn/posts/2021-09-30-config-manjaro.html kde仿mac美化: https://blog.csdn.net/Luo_Jin/article/details/88776326#t6 deb转换: https://www.redren.net/8146.html deb换源: https://www.cnblogs.com/bluestorm/p/16988840.html fcitx5介绍: https://wiki.archlinuxcn.org/wiki/Fcitx5 Clash: https://help.hitun.io/zh/article/linux-clash-for-windows-1xajysh/ ","wordCount":"5939","inLanguage":"zh","datePublished":"2024-02-06T15:36:27+08:00","dateModified":"2024-02-06T15:36:27+08:00","author":{"@type":"Person","name":"since"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.thend03.com/posts/manjaro-env-config/"},"publisher":{"@type":"Organization","name":"Fayy\u0026Fc's Blog","logo":{"@type":"ImageObject","url":"https://blog.thend03.com/img/logo.jpg"}}}</script></head><body id=top><script>(function(){let e,t=new RegExp("(^| )change-themes=([^;]*)(;|$)");(e=document.cookie.match(t))||((new Date).getHours()>=19||(new Date).getHours()<6?(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark")):(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")))})(),localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.thend03.com/ accesskey=h title="fayy&amp;fc (Alt + H)"><img src=https://blog.thend03.com/img/logo.jpg alt=logo aria-label=logo height=35>fayy&amp;fc</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)">
<svg id="moon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li></ul></div></div><ul id=menu><li><a href=https://blog.thend03.com/search title="🔍 搜索 (Alt + /)" accesskey=/><span>🔍 搜索</span></a></li><li><a href=https://blog.thend03.com/ title="🏠 主页"><span>🏠 主页</span></a></li><li><a href=https://blog.thend03.com/archives/ title="⏱️ 归档"><span>⏱️ 归档</span></a></li><li><a href=https://blog.thend03.com/tags title="🧩 标签"><span>🧩 标签</span></a></li><li><a href=https://blog.thend03.com/about title="🙋🏻‍♂️ 关于"><span>🙋🏻‍♂️ 关于</span></a></li><li><a href=https://blog.thend03.com/links title="🤝 友链"><span>🤝 友链</span></a></li></ul></nav></header><main class="main page"><style>i[id*=post_meta_style]{display:flex;align-items:center;margin:0 0 10px}</style><article class=post-single><div id=single-content><header class=post-header><div class=breadcrumbs><a href=https://blog.thend03.com/>🏠 主页</a>&nbsp;»&nbsp;<a href=https://blog.thend03.com/posts/>📚文章</a></div><h1 class=post-title>manjaro环境配置</h1><div class=post-description>manjaro环境配置</div><div class=post-meta><style>i[id*=post_meta_style]{display:flex;align-items:center;margin:0 0 10px}.parent-post-meta{display:flex;flex-wrap:wrap;opacity:.8}</style><span class=parent-post-meta><span id=post_meta_style_1><span class="fa fa-calendar-check-o"></span>
<span>2024-02-06
&nbsp;&nbsp;
</span></span><span id=post_meta_style_3><span class="fa fa-file-word-o"></span>
<span>5939字
&nbsp;&nbsp;
</span></span><span id=post_meta_style_4><span class="fa fa-clock-o"></span>
<span>12分钟
&nbsp;&nbsp;
</span></span><span id=post_meta_style_5><span class="fa fa-user-o"></span>
<span>since
&nbsp;&nbsp;
</span></span><span id=post_meta_style_6><span class="fa fa-tags" style=opacity:.8></span>
<span><span class=post-tags-meta><a href=https://blog.thend03.com/tags/manjaro/ style=color:var(--secondary)!important>Manjaro</a>
</span></span></span></span><span style=opacity:.8><span id=post_meta_style_7>&nbsp;&nbsp;
<span class="fa fa-eye"></span>
<span><span id=busuanzi_container_page_pv><span id=busuanzi_value_page_pv></span></span>
&nbsp;&nbsp;
</span></span><span id=post_meta_style_8><span class="fa fa-commenting-o"></span>
<span><script src=https://cdn.staticfile.org/twikoo/1.5.8/twikoo.all.min.js></script><script>let url=document.documentURI,dnsUrl="https://blog.thend03.com/",urlSplit=url.split(dnsUrl),finalUrl=urlSplit[1];finalUrl[0]!=="/"&&(finalUrl="/"+finalUrl),twikoo.getCommentsCount({envId:"https://twikoo-e1f2-2yfafx14j-thend03s-projects.vercel.app/",region:null,urls:[finalUrl],includeReply:!1}).then(function(e){let t=e[0].count;const n=document.getElementById("comment_count");n.innerText=t}).catch(function(e){console.error(e)})</script><span id=comment_count></span></span></span></span></div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><ul><li><a href=#%e5%89%8d%e8%a8%80 aria-label=前言>前言</a></li><li><a href=#%e6%9b%b4%e6%96%b0%e7%b3%bb%e7%bb%9f aria-label=更新系统>更新系统</a><ul><li><a href=#%e6%9b%b4%e6%8d%a2%e5%9b%bd%e5%86%85%e9%95%9c%e5%83%8f%e6%ba%90 aria-label=更换国内镜像源>更换国内镜像源</a></li><li><a href=#%e6%b7%bb%e5%8a%a0archlinuxcn%e6%ba%90 aria-label=添加archlinuxcn源>添加archlinuxcn源</a></li><li><a href=#%e5%ae%89%e8%a3%85yay%e5%8c%85%e7%ae%a1%e7%90%86%e5%b7%a5%e5%85%b7 aria-label=安装yay包管理工具>安装yay包管理工具</a></li><li><a href=#%e5%ae%89%e8%a3%85snap%e5%8c%85%e7%ae%a1%e7%90%86%e5%b7%a5%e5%85%b7 aria-label=安装snap包管理工具>安装snap包管理工具</a></li><li><a href=#%e6%9b%b4%e6%96%b0%e7%b3%bb%e7%bb%9f-1 aria-label=更新系统>更新系统</a></li><li><a href=#%e5%ae%89%e8%a3%85base-devel aria-label=安装base-devel>安装base-devel</a></li></ul></li><li><a href=#%e5%ae%89%e8%a3%85%e5%b8%b8%e7%94%a8%e8%bd%af%e4%bb%b6 aria-label=安装常用软件>安装常用软件</a><ul><li><a href=#%e7%a7%91%e5%ad%a6%e4%b8%8a%e7%bd%91 aria-label=科学上网>科学上网</a><ul><li><a href=#qv2ray aria-label=Qv2ray>Qv2ray</a></li><li><a href=#clash-for-windows aria-label="clash for windows">clash for windows</a></li><li><a href=#v2raya aria-label=v2raya>v2raya</a></li><li><a href=#%e5%91%bd%e4%bb%a4%e8%a1%8c%e4%bb%a3%e7%90%86 aria-label=命令行代理>命令行代理</a></li><li><a href=#%e7%8e%af%e5%a2%83%e5%8f%98%e9%87%8f aria-label=环境变量>环境变量</a></li><li><a href=#proxychains aria-label=proxychains>proxychains</a></li></ul></li><li><a href=#%e8%be%93%e5%85%a5%e6%b3%95 aria-label=输入法>输入法</a><ul><li><a href=#%e5%ae%89%e8%a3%85fcitx5 aria-label=安装fcitx5>安装fcitx5</a></li><li><a href=#%e5%ae%89%e8%a3%85rime aria-label=安装rime>安装rime</a></li><li><a href=#%e5%ae%89%e8%a3%85%e5%9b%9b%e5%8f%b6%e8%8d%89%e8%be%93%e5%85%a5%e6%b3%95 aria-label=安装四叶草输入法>安装四叶草输入法</a></li><li><a href=#%e6%96%b0%e5%a2%9e%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6 aria-label=新增配置文件>新增配置文件</a></li><li><a href=#%e4%bd%bf%e7%94%a8%e5%9b%9b%e5%8f%b6%e8%8d%89%e8%be%93%e5%85%a5%e6%b3%95 aria-label=使用四叶草输入法>使用四叶草输入法</a></li><li><a href=#%e7%be%8e%e5%8c%96%e8%be%93%e5%85%a5%e6%b3%95 aria-label=美化输入法>美化输入法</a></li><li><a href=#%e8%be%93%e5%85%a5%e6%b3%95%e9%85%8d%e7%bd%ae%e9%a1%b9%e4%bf%ae%e6%94%b9 aria-label=输入法配置项修改>输入法配置项修改</a></li></ul></li><li><a href=#%e6%88%aa%e5%9b%be%e5%b7%a5%e5%85%b7 aria-label=截图工具>截图工具</a></li><li><a href=#%e8%bd%ac%e6%8d%a2deb%e5%8c%85 aria-label=转换deb包>转换deb包</a></li><li><a href=#%e5%ae%89%e8%a3%85ohmyzsh aria-label=安装ohmyzsh>安装ohmyzsh</a></li><li><a href=#%e5%ae%89%e8%a3%85typora aria-label=安装typora>安装typora</a></li><li><a href=#%e5%ae%89%e8%a3%85chrome aria-label=安装chrome>安装chrome</a></li><li><a href=#%e5%ae%89%e8%a3%85vscode aria-label=安装vscode>安装vscode</a><ul><li><a href=#wifi aria-label=wifi>wifi</a></li></ul></li><li><a href=#%e7%be%8e%e5%8c%96%e7%b3%bb%e7%bb%9f aria-label=美化系统>美化系统</a><ul><li><a href=#%e4%b8%bb%e9%a2%98%e5%ba%94%e7%94%a8%e7%a8%8b%e5%ba%8f%e5%9b%be%e6%a0%87%e7%aa%97%e5%8f%a3%e9%a3%8e%e6%a0%bc aria-label=主题/应用程序/图标/窗口风格>主题/应用程序/图标/窗口风格</a></li><li><a href=#%e9%a1%b6%e6%a0%8f%e8%ae%be%e7%bd%ae aria-label=顶栏设置>顶栏设置</a></li><li><a href=#%e5%ae%89%e8%a3%85latte-dock aria-label=安装latte-dock>安装latte-dock</a></li><li><a href=#%e5%ae%89%e8%a3%85nautilus aria-label=安装nautilus>安装nautilus</a></li><li><a href=#%e6%9b%b4%e6%8d%a2%e5%a3%81%e7%ba%b8 aria-label=更换壁纸>更换壁纸</a></li></ul></li></ul></li><li><a href=#%e5%b0%8f%e7%bb%93 aria-label=小结>小结</a></li><li><a href=#%e5%8f%82%e8%80%83%e9%93%be%e6%8e%a5 aria-label=参考链接>参考链接</a></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{elements&&(activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")}))},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><h2 id=前言>前言<a hidden class=anchor aria-hidden=true href=#前言>#</a></h2><p>在<a href=https://blog.thend03.com/post/dual-system-installation-manjaro-and-windows/>上一篇安装windows+manjaro中</a>，安装好了双系统，那么安装好之后，需要更新下manjaro系统，安装好日常使用的环境和应用程序，方便后续的使用。</p><p>本篇分为系统、应用程序、外观3个部分进行说明。</p><h2 id=更新系统>更新系统<a hidden class=anchor aria-hidden=true href=#更新系统>#</a></h2><p>在安装好系统之后，由于系统是国外的发行版，一些安装包、应用程序啥的，都是国外的源，没代理的话可能会下载慢，甚至下载不下来，所以首要是要对系统进行更新，更换国内的镜像源。</p><h3 id=更换国内镜像源>更换国内镜像源<a hidden class=anchor aria-hidden=true href=#更换国内镜像源>#</a></h3><p>打开kconsole终端，在命令行输入如下命令</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo pacman-mirrors -i -c China -m rank
</span></span></code></pre></div><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402061554278.png alt=image-20240206155454245></p><p>执行命令之后会在命令行终端输出可用的列表，然后弹窗供选择，源选择一个就好，多了没啥用，还会降低速度</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402061556333.png alt=image-20240206155642311></p><h3 id=添加archlinuxcn源>添加archlinuxcn源<a hidden class=anchor aria-hidden=true href=#添加archlinuxcn源>#</a></h3><p>添加archlinuxcn的源，可以获得更多的包</p><p>编辑配置文件</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo vi /etc/pacman.conf
</span></span></code></pre></div><p>在配置文件中添加如下配置</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#f92672>[</span>archlinuxcn<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>SigLevel <span style=color:#f92672>=</span> Optional TrustAll
</span></span><span style=display:flex><span>Server <span style=color:#f92672>=</span> https://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/$arch
</span></span></code></pre></div><h3 id=安装yay包管理工具>安装yay包管理工具<a hidden class=anchor aria-hidden=true href=#安装yay包管理工具>#</a></h3><p>yay是aur仓库的包管理助手，使用yay不用像使用pacman一样，需要sudo，而且包比官方仓库的全，官方仓库没有的包可以使用yay尝试安装</p><p>打开命令行，输入如下命令安装yay</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo pacman -S yay
</span></span></code></pre></div><h3 id=安装snap包管理工具>安装snap包管理工具<a hidden class=anchor aria-hidden=true href=#安装snap包管理工具>#</a></h3><p>有些包只有snap有，所以也安装下snap</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo pacman -S snapd
</span></span></code></pre></div><p>然后执行如下命令</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo systemctl enable --now snapd.socket
</span></span></code></pre></div><p>创建链接</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo ln -s /var/lib/snapd/snap /snap
</span></span></code></pre></div><p>测试snap功能</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ sudo snap install hello-world
</span></span><span style=display:flex><span>hello-world 6.3 from Canonical✓ installed
</span></span><span style=display:flex><span>$ hello-world
</span></span><span style=display:flex><span>Hello World!
</span></span></code></pre></div><h3 id=更新系统-1>更新系统<a hidden class=anchor aria-hidden=true href=#更新系统-1>#</a></h3><p>换好源，添加完源之后，执行以下命令更新系统</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo pacman -Syyu
</span></span></code></pre></div><h3 id=安装base-devel>安装base-devel<a hidden class=anchor aria-hidden=true href=#安装base-devel>#</a></h3><p>安装基础构建包</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo pacman -S base-devel
</span></span></code></pre></div><p>到这里系统层面的设置基本上差不多了，下面介绍一些常用应用程序</p><p>一些常用的命令如vim等需要自行安装，使用命令行安装即可，不再多介绍。</p><h2 id=安装常用软件>安装常用软件<a hidden class=anchor aria-hidden=true href=#安装常用软件>#</a></h2><h3 id=科学上网>科学上网<a hidden class=anchor aria-hidden=true href=#科学上网>#</a></h3><p>搞定了科学上网之后，下载包，访问google， github才会丝滑。所以先搞定科学上网</p><p>科学上网有3个选项: Qv2ray、clash for windows、v2raya</p><p>其中qv2ray停止运营了，clash删库跑路了，v2raya还在正常更新。</p><p>我之前用过qv2ray和clash，目前一些历史版本还能用。所以也介绍下这2个的安装使用</p><h4 id=qv2ray>Qv2ray<a hidden class=anchor aria-hidden=true href=#qv2ray>#</a></h4><p>qv2ray的项目解散后，连官网也不维护了，烟消云散，好歹github的仓库还在，还能下载安装包</p><p>2.7.0下载地址: <a href=https://github.com/Qv2ray/Qv2ray/releases/tag/v2.7.0>https://github.com/Qv2ray/Qv2ray/releases/tag/v2.7.0</a></p><p>由于要安装在linux上，所以选择AppImage进行下载</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402070951175.png alt=image-20240207095145127></p><p>下载好之后，把AppImage拖到桌面，双击就能运行。由于这个版本比较老了，可能没对新的桌面框架做适配，所以桌面快捷方式会运行失败。</p><p>然后需要下载v2ray-core，最新的v2ray-core版本和qv2ray不兼容，所以要下载老版本的v2ray-core，才能运行。经过测试,4.45.2版本可以兼容，所以我们下载4.45.2版本的v2ray-core。</p><p>V2ray-core-4.45.2下载地址: <a href=https://github.com/v2fly/v2ray-core/releases/tag/v4.45.2>https://github.com/v2fly/v2ray-core/releases/tag/v4.45.2</a></p><p>下载64位的linux包即可。</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402070959322.png alt=image-20240207095932292></p><p>下载好v2ray-core之后解压，打开qv2ray首选项-内核设置，设置v2ray-core路径，然后点击检查v2ray核心设置，检查通过v2ray-core配对就成功了。</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402071003215.png alt=image-20240207100303182></p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402071004722.png alt=image-20240207100417665></p><p>接下来就是添加订阅链接，打开分组，添加新的组，或者修改默认分组，添加你的机场的订阅链接，添加之后更新订阅，如果更新失败，切换下订阅类型试试。</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402071010224.png alt=image-20240207101011187></p><p>如果是ssr之类的协议，可以去github下载对应的插件，放到本地的~/.config/qv2ray/plugins目录下，然后重启qv2ray，点击插件按钮即可加载插件。</p><p>ssr插件下载地址: <a href=https://github.com/Qv2ray/QvPlugin-SSR/releases/tag/v3.0.0>https://github.com/Qv2ray/QvPlugin-SSR/releases/tag/v3.0.0</a></p><p>其他插件可在github仓库自行搜索: <a href="https://github.com/orgs/Qv2ray/repositories?type=all">https://github.com/orgs/Qv2ray/repositories?type=all</a></p><p>最后需要去系统设置那手动设置下代理，让系统代理生效</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402071349852.png alt=image-20240207134916818></p><p>其他配置项不在赘述</p><h4 id=clash-for-windows>clash for windows<a hidden class=anchor aria-hidden=true href=#clash-for-windows>#</a></h4><p>说是for windows，不过linux也能用。不过clash作者删库跑路了，所以github无法下载，yay也无法安装，只能找互联网残存版本安装。</p><p>下载地址: <a href=https://archive.org/download/clash_for_windows_pkg>https://archive.org/download/clash_for_windows_pkg</a></p><p>下载linux 64位版本，解压之后就可以在命令行执行cfw命令启动clash</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402071317865.png alt=image-20240207131743826></p><p>也可以在桌面新建快捷方式，以下是我的clash桌面快捷方式配置, clash解压路径位/opt/app/clash-for-windows，路径需自行修改</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#f92672>[</span>Desktop Entry<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>Name<span style=color:#f92672>=</span>Clash <span style=color:#66d9ef>for</span> Windows
</span></span><span style=display:flex><span>Comment<span style=color:#f92672>=</span>Clash <span style=color:#66d9ef>for</span> Windows
</span></span><span style=display:flex><span>Exec<span style=color:#f92672>=</span>/opt/app/clash-for-windows/cfw
</span></span><span style=display:flex><span>Icon<span style=color:#f92672>=</span>/opt/app/clash-for-windows/logo.jpeg
</span></span><span style=display:flex><span>Terminal<span style=color:#f92672>=</span>false
</span></span><span style=display:flex><span>Type<span style=color:#f92672>=</span>Application
</span></span><span style=display:flex><span>Categories<span style=color:#f92672>=</span>Developer;
</span></span></code></pre></div><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402071323658.png alt=image-20240207132348592></p><p>首先拿到clash订阅链接，然后点击profiles, 粘贴订阅链接，点击download，就会下载订阅配置到本地</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402071330084.png alt=image-20240207133005052></p><p>然后在proxy选择可用节点，策略选择rule(规则模式)</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402071346148.png alt=image-20240207134625115></p><p>最后再打开系统设置，设置代理为clash端口，代理就倒腾完了</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402071349852.png alt=image-20240207134916818></p><h4 id=v2raya>v2raya<a hidden class=anchor aria-hidden=true href=#v2raya>#</a></h4><p>上面的2个都已经停止维护和跑路了，v2raya还没跑路，且用且珍惜</p><p>首先要安装v2ray-core，然后使用命令行安装v2raya</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>yay -S v2raya
</span></span></code></pre></div><p>安装完成之后，可以使用命令行启动v2raya，端口是2017，注意看提示，root和非root启动有不同的启动方式</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402071408350.png alt=image-20240207140831309></p><p>启动之后，浏览器访问localhost:2017，创建一个管理员用户</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402071409634.png alt=image-20240207140931593></p><p>然后导入订阅</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402071410287.png alt=image-20240207141020208></p><p>导入订阅之后，就可以选择节点了</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402071410542.png alt=image-20240207141048498></p><h4 id=命令行代理>命令行代理<a hidden class=anchor aria-hidden=true href=#命令行代理>#</a></h4><p>有些任务需要在终端下进行，所以也需要设置命令行代理。命令行代理有2种方式，一种是设置环境变量，另一种是使用工具，让工具走</p><p>代理。</p><h4 id=环境变量>环境变量<a hidden class=anchor aria-hidden=true href=#环境变量>#</a></h4><p>临时的直接执行以下命令，终端窗口关闭，变量清除，端口看使用的是哪种代理方式</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript3 data-lang=gdscript3><span style=display:flex><span><span style=color:#66d9ef>export</span> https_proxy<span style=color:#f92672>=</span>http:<span style=color:#f92672>//</span><span style=color:#ae81ff>127.0</span><span style=color:#f92672>.</span><span style=color:#ae81ff>0.1</span>:<span style=color:#ae81ff>7890</span> http_proxy<span style=color:#f92672>=</span>http:<span style=color:#f92672>//</span><span style=color:#ae81ff>127.0</span><span style=color:#f92672>.</span><span style=color:#ae81ff>0.1</span>:<span style=color:#ae81ff>7890</span> all_proxy<span style=color:#f92672>=</span>socks5:<span style=color:#f92672>//</span><span style=color:#ae81ff>127.0</span><span style=color:#f92672>.</span><span style=color:#ae81ff>0.1</span>:<span style=color:#ae81ff>7890</span>
</span></span></code></pre></div><p>长期的就把配置想到配置文件里，manajaro默认用的是zsh，那么修改~/.zshrc文件, 添加如下2行命令</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript3 data-lang=gdscript3><span style=display:flex><span>alias setproxy<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;export ALL_PROXY=socks5://127.0.0.1:7890; echo &#39;SET PROXY SUCCESS!!!&#39;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>alias unsetproxy<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;unset ALL_PROXY; echo &#39;UNSET PROXY SUCCESS!!!&#39;&#34;</span>
</span></span></code></pre></div><p>保存之后执行source命令<code>source ~/.zshrc</code></p><p>下次想用代理的时候，就在命令行执行setproxy，不想用代理就执行unsetproxy</p><h4 id=proxychains>proxychains<a hidden class=anchor aria-hidden=true href=#proxychains>#</a></h4><p>另一个是使用proxychains，proxychains设置代理，然后执行命令都加上proxychains</p><p>执行命令安装proxychains</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo pacman -S proxychains-ng
</span></span></code></pre></div><p>然后修改配置文件，设置代理, 最后一行将socks5代理设置为本地代理端口</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo vim /etc/proxychains.conf
</span></span></code></pre></div><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402071428065.png alt=image-20240207142856019></p><p>安装好之后，如果需要代理，可以在所有命令之前都加上proxychains，如</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>proxychains git clone xxx
</span></span></code></pre></div><h3 id=输入法>输入法<a hidden class=anchor aria-hidden=true href=#输入法>#</a></h3><p>在进行其他步骤之前首先是安装输入法，输入法我选择的是开源的rime框架，开源，安全，强大，可定制化程度高，但是也会带来不小的</p><p>学习和解决问题的成本。</p><p>本篇介绍我本人比较喜欢的一款基于rime的输入法，在manjaro可用，如需其他的比如搜狗linux输入法，本文不涉及。</p><p>选这款输入法主要是被它的颜值吸引，基于rime封装之后，解决了大部分的问题，当然在linux下的开源项目，总归会遇到各种各样千奇</p><p>百怪的bug。</p><p>既然选择了linux，就直面恐惧，直面问题吧。</p><p>这款输入法名字叫做四叶草输入法，好听颜值在我个人看来也很高</p><p>输入法开源地址如下: <a href=https://github.com/fkxxyz/rime-cloverpinyin>https://github.com/fkxxyz/rime-cloverpinyin</a></p><p>Linux安装教程地址如下: <a href=https://github.com/fkxxyz/rime-cloverpinyin/wiki/linux>https://github.com/fkxxyz/rime-cloverpinyin/wiki/linux</a></p><p>本部分基于项目的wiki，补充下安装过程，解决一些wiki上遗留的问题</p><h4 id=安装fcitx5>安装fcitx5<a hidden class=anchor aria-hidden=true href=#安装fcitx5>#</a></h4><p>在manjaro可以直接使用pacman安装fcitx5，fcitx5是目前最新的输入法框架，内核轻量，功能强大。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo pacman -S fcitx5 fcitx5-qt fcitx5-gtk fcitx5-configtool
</span></span></code></pre></div><p>然后需要修改配置，wiki上写着要将配置写入<code>~/.xprofile</code>，但是经过我的测试，光写到这个文件还不行，可能会导致无法展示这个输入法。</p><p>最好是在/etc/environment里也写一份同样的配置</p><p>配置项具体内容如下</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>export GTK_IM_MODULE<span style=color:#f92672>=</span>fcitx5
</span></span><span style=display:flex><span>export QT_IM_MODULE<span style=color:#f92672>=</span>fcitx5
</span></span><span style=display:flex><span>export XMODIFIERS<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;@im=fcitx5&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>export LANG<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;zh_CN.UTF-8&#34;</span>
</span></span><span style=display:flex><span>export LC_CTYPE<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;zh_CN.UTF-8&#34;</span>
</span></span></code></pre></div><p>改完配置之后，重新登录桌面使配置生效，当然重启电脑最好。</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402061642673.png alt=image-20240206164217643></p><p>如上图所示，fcitx5就启用了</p><h4 id=安装rime>安装rime<a hidden class=anchor aria-hidden=true href=#安装rime>#</a></h4><p>执行以下命令安装rime</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo pacman -S fcitx5-rime
</span></span></code></pre></div><p>然后右键托盘图标点开配置，将“中州韻”加入列表即可</p><p>点击配置，然后选择右下角的添加输入法，点击中州韵添加到分组即可</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402061642583.png alt=image-20240206164242555></p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402061646916.png alt=image-20240206164614889></p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402061646133.png alt=image-20240206164656103></p><h4 id=安装四叶草输入法>安装四叶草输入法<a hidden class=anchor aria-hidden=true href=#安装四叶草输入法>#</a></h4><p>以上2步，安装好输入法框架，rime和fcitx5，就可以安装最终的输入法方案了，即四叶草输入法</p><p>wiki上介绍使用yay安装，但是我这边没有成功，无法展示四叶草输入方案</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>yay -S rime-cloverpinyin
</span></span></code></pre></div><p>所以我选择手动下载安装包到用户目录进行安装, 下载地址: <a href=https://github.com/fkxxyz/rime-cloverpinyin/releases>https://github.com/fkxxyz/rime-cloverpinyin/releases</a></p><p>将压缩包下载到~/.local/share/fcitx5/rime，然后解压，将文件夹里的文件复制到~/.local/share/fcitx5/rime目录下</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402061718523.png alt=image-20240206171823495></p><h4 id=新增配置文件>新增配置文件<a hidden class=anchor aria-hidden=true href=#新增配置文件>#</a></h4><p>在~/.local/share/fcitx5/rime文件夹下新建default.custom.yaml ，内容为</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>patch</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;menu/page_size&#34;: </span><span style=color:#ae81ff>8</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>schema_list</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>schema</span>: <span style=color:#ae81ff>clover</span>
</span></span></code></pre></div><p>其中 8 表示打字的时候输入面板的每一页的候选词数目，可以设置成 1~9 任意数字。</p><p>写好该文件之后，点击右下角托盘图标右键菜单，点“重新部署”，然后再点右键，在方案列表里面应该就有“ 🍀️四叶草拼音输入法”的选项了。</p><p>关于 default.custom.yaml 文件的更多解释，可以参考<a href=https://github.com/rime/home/wiki/CustomizationGuide>官方文档定制指南</a></p><p>这里也有作者的一些配置供参考: <a href=https://www.fkxxyz.com/d/cloverpinyin/#%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE>四叶草输入法基本配置</a></p><h4 id=使用四叶草输入法>使用四叶草输入法<a hidden class=anchor aria-hidden=true href=#使用四叶草输入法>#</a></h4><p>写好该文件之后，点击右下角托盘图标右键菜单，点“重新部署”，然后再点右键，在方案列表里面应该就有🍀️四叶草拼音输入法的选项了。</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402061723413.png alt=image-20240206172329385></p><h4 id=美化输入法>美化输入法<a hidden class=anchor aria-hidden=true href=#美化输入法>#</a></h4><p>fcitx5可以使用搜狗皮肤美化，具体的可以参考如下的教程</p><p><a href=https://www.fkxxyz.com/d/ssfconv/>fcitx5使用搜狗皮肤</a></p><p>这里就说一点，转换之后得到的皮肤，是需要放到指定用户目录下的，不同的输入法框架用户目录不同</p><table><thead><tr><th>平台</th><th>rime用户资料夹位置</th></tr></thead><tbody><tr><td>ibus</td><td>~/.config/ibus/rime</td></tr><tr><td>fcitx</td><td>~/.config/fcitx/rime</td></tr><tr><td>fcitx5</td><td>~/.local/share/fcitx5/rime</td></tr></tbody></table><p>我这里使用的是fcitx5，但是皮肤最终的路径是在~/.local/share/fcitx5/themes，这个要注意下</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402061701245.png alt=image-20240206170148217></p><p>教程里介绍的fcitx的皮肤路径，ibus的需要自行搜索解决</p><p>其他关于用户资料夹的介绍，详见官方文档: <a href=https://github.com/rime/home/wiki/RimeWithSchemata#rime-%E4%B8%AD%E7%9A%84%E6%95%B8%E6%93%9A%E6%96%87%E4%BB%B6%E5%88%86%E4%BD%88%E5%8F%8A%E4%BD%9C%E7%94%A8>Rime 中的数据文件分布及作用</a></p><p>另外介绍2款做好的皮肤</p><p><a href=https://github.com/ayamir/fcitx5-nord>https://github.com/ayamir/fcitx5-nord</a></p><p><a href=https://github.com/ayamir/fcitx5-gruvbox>https://github.com/ayamir/fcitx5-gruvbox</a></p><h4 id=输入法配置项修改>输入法配置项修改<a hidden class=anchor aria-hidden=true href=#输入法配置项修改>#</a></h4><p>点击系统托盘-输入法-配置，或者从系统设置进入输入法配置页面，这里可以进行输入法的配置</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402061730867.png alt=image-20240206173004837></p><p>如果想修改输入法的字体和皮肤，可以选择经典用户界面设置，设置字体，字号，输入法皮肤等</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402061731837.png alt=image-20240206173102804></p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402061743093.png alt=image-20240206174352050></p><p>中州韵的配置在如下位置修改，红框圈出来的选项，如果选中的话，会导致光标一直固定在最前面，很别扭</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402070920301.png alt=image-20240207092006262></p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402070934619.png alt=image-20240207093451576></p><h3 id=截图工具>截图工具<a hidden class=anchor aria-hidden=true href=#截图工具>#</a></h3><p>下一个就是截图工具了，截图必不可少，推荐flameshot(火焰截图), 另一个我常用的截图工具snipaste，由于linux适配有问题，暂不推荐</p><p>执行以下命令安装flameshot</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo pacman -S flameshot
</span></span></code></pre></div><p>安装好后可以在搜索栏搜索flameshot启动, 启动之后可以在系统托盘处点击火焰截图进行截图</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402071438337.png alt=image-20240207143857294></p><p>上面使用起来会有点不方便，需要为火焰截图设置快捷键截图</p><p>打开系统设置，快捷键，如果搜不到火焰截图，就点击下方添加应用程序进行添加，添加好之后，设置截图快捷键，以后就可以使用快捷键截图了。</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402071443075.png alt=image-20240207144342026></p><h3 id=转换deb包>转换deb包<a hidden class=anchor aria-hidden=true href=#转换deb包>#</a></h3><p>有些只有deb包，没有manjaro安装包，为了能在manjaro上安装，所以要安装deb转换工具</p><p>执行以下命令安装debtap</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo pacman -S debtap
</span></span></code></pre></div><p>执行转换之前，需要有一次更新行为，这里可能会超时或失败，记得上代理</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo debtap -u
</span></span></code></pre></div><p>转换deb包</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo debtap xxx.deb
</span></span></code></pre></div><p>安装转换完成的包</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo pacman -U xxx.pkg.tar.zst
</span></span></code></pre></div><h3 id=安装ohmyzsh>安装ohmyzsh<a hidden class=anchor aria-hidden=true href=#安装ohmyzsh>#</a></h3><p>manjaro的默认shell是zsh，ohmyzsh对zsh做了进一步的封装</p><p>执行以下命令安装ohmyzsh,为了防止网络不通，使用proxychains做代理, 实在下载不下来，只能手动下载install.sh，然后执行安装脚本</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>proxychains sh -c <span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
</span></span></code></pre></div><p>然后下载如下的几个插件</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#75715e># 自动补全</span>
</span></span><span style=display:flex><span>git clone https://github.com/zsh-users/zsh-autosuggestions $ZSH_CUSTOM/plugins/zsh-autosuggestions
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>git clone https://github.com/zsh-users/zsh-syntax-highlighting.git $ZSH_CUSTOM/plugins/zsh-syntax-highlighting
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># zsh-vi-mod</span>
</span></span><span style=display:flex><span>git clone https://github.com/jeffreytse/zsh-vi-mode $ZSH_CUSTOM/plugins/zsh-vi-mode
</span></span></code></pre></div><p>下载好之后修改全新的~/.zshrc，历史的文件记得在安装的时候备份</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>plugins<span style=color:#f92672>=(</span>
</span></span><span style=display:flex><span>    git
</span></span><span style=display:flex><span>    zsh-syntax-highlighting
</span></span><span style=display:flex><span>    zsh-autosuggestions
</span></span><span style=display:flex><span>    zsh-vi-mode
</span></span><span style=display:flex><span><span style=color:#f92672>)</span>
</span></span></code></pre></div><p>如果想修改主题的话，修改~/.zshrc文件里的如下配置，默认主题是robbyrussell</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>ZSH_THEME<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;robbyrussell&#34;</span>
</span></span></code></pre></div><p>更多主题见如下地址: <a href=https://github.com/ohmyzsh/ohmyzsh/wiki/Themes>https://github.com/ohmyzsh/ohmyzsh/wiki/Themes</a></p><h3 id=安装typora>安装typora<a hidden class=anchor aria-hidden=true href=#安装typora>#</a></h3><p>typora是我个人比较喜欢的markdown编辑器</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo pacman -S typora
</span></span></code></pre></div><h3 id=安装chrome>安装chrome<a hidden class=anchor aria-hidden=true href=#安装chrome>#</a></h3><p>执行命令安装chrome, 安装好之后可以在命令行执行<code>google-chrome-stable</code>启动，也可以搜索chrome进行启动</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>yay -S google-chrome
</span></span></code></pre></div><p>chrome桌面快捷方式, 在桌面新建文本文件，写入如下配置</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#f92672>[</span>Desktop Entry<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>BinaryPattern<span style=color:#f92672>=</span>chrome;
</span></span><span style=display:flex><span>MimeType<span style=color:#f92672>=</span>
</span></span><span style=display:flex><span>Name<span style=color:#f92672>=</span>chrome
</span></span><span style=display:flex><span>Exec<span style=color:#f92672>=</span>google-chrome-stable
</span></span><span style=display:flex><span>Icon<span style=color:#f92672>=</span>/opt/app/chrome-logo.png
</span></span><span style=display:flex><span>Type<span style=color:#f92672>=</span>Application
</span></span><span style=display:flex><span>Terminal<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>
</span></span></code></pre></div><h3 id=安装vscode>安装vscode<a hidden class=anchor aria-hidden=true href=#安装vscode>#</a></h3><p>进入下载页，点击下载64位的tar包，由于不支持deb和rpm，所以手动下载tar包安装</p><p>下载地址: <a href=https://code.visualstudio.com/#alt-downloads>https://code.visualstudio.com/#alt-downloads</a></p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402071534976.png alt=image-20240207153414931></p><p>桌面快捷方式如下，新建文本文件，写入如下配置然后保存</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#f92672>[</span>Desktop Entry<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>Name<span style=color:#f92672>=</span>Visual Studio Code
</span></span><span style=display:flex><span>Comment<span style=color:#f92672>=</span>Code Editing. Refined.
</span></span><span style=display:flex><span>GenericName<span style=color:#f92672>=</span>Text Editor
</span></span><span style=display:flex><span>Exec<span style=color:#f92672>=</span>/opt/app/vscode/bin/code --unity-launch %F
</span></span><span style=display:flex><span>Icon<span style=color:#f92672>=</span>/opt/app/vscode/logo.png
</span></span><span style=display:flex><span>Type<span style=color:#f92672>=</span>Application
</span></span><span style=display:flex><span>StartupNotify<span style=color:#f92672>=</span>false
</span></span><span style=display:flex><span>StartupWMClass<span style=color:#f92672>=</span>Code
</span></span><span style=display:flex><span>Categories<span style=color:#f92672>=</span>TextEditor;Development;IDE;
</span></span><span style=display:flex><span>MimeType<span style=color:#f92672>=</span>text/plain;inode/directory;application/x-visual-studio-code-workspace;
</span></span><span style=display:flex><span>Actions<span style=color:#f92672>=</span>new-empty-window;
</span></span><span style=display:flex><span>Keywords<span style=color:#f92672>=</span>vscode;
</span></span></code></pre></div><h4 id=wifi>wifi<a hidden class=anchor aria-hidden=true href=#wifi>#</a></h4><p>使用linux开wifi，manjaro和arch的文档太复杂，找了个开源工具，可以创建wifi热点</p><p>项目地址如下: <a href=https://github.com/lakinduakash/linux-wifi-hotspot>https://github.com/lakinduakash/linux-wifi-hotspot</a></p><p>执行命令安装</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>yay -S linux-wifi-hotspot
</span></span></code></pre></div><p>安装之后可以在应用程序搜索wifi hotspot,即可启动</p><p>5Ghz可能会有bug，建议使用2.4G, SSID是你的wifi名称，password是wifi密码，其他默认即可</p><p><img loading=lazy src="https://github.com/lakinduakash/linux-wifi-hotspot/blob/master/docs/sc4.png?raw=true" alt=sc4.png></p><h3 id=美化系统>美化系统<a hidden class=anchor aria-hidden=true href=#美化系统>#</a></h3><p>kde的桌面ui排布和windows相似，本次美化的目标是把桌面美化成mac风格</p><h4 id=主题应用程序图标窗口风格>主题/应用程序/图标/窗口风格<a hidden class=anchor aria-hidden=true href=#主题应用程序图标窗口风格>#</a></h4><p>先说主题，系统设置-外观-plasma视觉风格-获取新plasma视觉风格，搜索<code>MacBreeze Shadowless</code>，然后点击安装，安装完成之后点击使用此主题</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402071552460.png alt=image-20240207155200413></p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402071719192.png alt=image-20240207155223499></p><p>然后设置应用程序风格，系统设置-外观-应用程序风格-配置GNOME/GTK应用程序风格-获取新GNOME/GTK应用程序风格，搜索<code>McMojave</code>， 选择喜欢的类型，安装然后使用。</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402071553228.png alt=image-20240207155302144></p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402071553230.png alt=image-20240207155318126></p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402071553288.png alt=image-20240207155348176></p><p>修改图标，系统设置-外观-全局主题-图标, 获取新图标，搜索<code>Mojave CT icons</code>安装并使用</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402071555273.png alt=image-20240207155505160></p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402071555229.png alt=image-20240207155535111></p><p>系统设置-外观-窗口装饰元素-获取新窗口装饰，搜索<code>McMojave Aurorae</code>,安装并使用</p><h4 id=顶栏设置>顶栏设置<a hidden class=anchor aria-hidden=true href=#顶栏设置>#</a></h4><p>Manjaro kde的任务面板和windows类似，是在底部，那么为了仿Mac，所以要删除底栏，添加一个顶栏</p><p>点击面板然后右键，选择进入编辑模式，然后更多选项，选择移除面板，即可删除面板，删除底部面板即可，避免和latte-dock冲突</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402071629711.png alt=image-20240207162936655></p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402071624795.png alt=image-20240207162423700></p><p>在桌面右键选择，添加面板-应用程序菜单栏。</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402071639416.png alt=image-20240207163935357></p><p>下面进行顶栏的设置，点击添加部件，添加如下部件: 应用程序启动器，锁定/注销、系统托盘、数字时钟等</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402071640365.png alt=image-20240207164023244></p><p>然后为顶栏添加2个间距用于使用时钟分隔左右，2个蓝色的条就是间距，全局菜单就是其他应用的设置按钮菜单</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402071643073.png alt=image-20240207164306007></p><p>然后调整顶栏布局，将应用程序启动器放在顶栏的最左边，然后在它的右边放全局菜单，然后再右边放间隔，后面依次放数字时钟、间</p><p>隔、锁定/注销、系统托盘。这样应用程序启动器就会固定在最左边</p><p>最终效果如下</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402071643417.png alt=image-20240207164336310></p><p>应用程序启动器的图标要改成mac，右键点击应用程序启动器，选择配置应用程序启动器</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402071645649.png alt=image-20240207164540551></p><p>修改图标，选择本地图标即可</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402071647944.png alt=image-20240207164735851></p><p>附一个LOGO</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402071649679.svg alt=icons8-mac-os></p><h4 id=安装latte-dock>安装latte-dock<a hidden class=anchor aria-hidden=true href=#安装latte-dock>#</a></h4><p>要想实现和mac一样的dock效果，需要安装latte-dock，安装好之后，应用程序搜索latte-dock启动即可</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo pacman -S latte-dock
</span></span></code></pre></div><p>启动之后效果如下，其他设置可以自行更改</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402071652577.png alt=image-20240207165217483></p><h4 id=安装nautilus>安装nautilus<a hidden class=anchor aria-hidden=true href=#安装nautilus>#</a></h4><p>安装nautilus替换dolphin，文件管理会更加美观</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo pacman -S nautilus
</span></span></code></pre></div><p>然后点击系统设置-应用程序-默认应用程序-文件管理器，选择文件即可</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202402071656914.png alt=image-20240207165612819></p><h4 id=更换壁纸>更换壁纸<a hidden class=anchor aria-hidden=true href=#更换壁纸>#</a></h4><p>桌面右键-配置桌面和壁纸，选择喜欢的壁纸即可</p><h2 id=小结>小结<a hidden class=anchor aria-hidden=true href=#小结>#</a></h2><p>经过如上的配置，一个基本可用的仿mac系统的manjaro就基本好了，后面有其他的更新就再补充</p><h2 id=参考链接>参考链接<a hidden class=anchor aria-hidden=true href=#参考链接>#</a></h2><ul><li>manjaro终端美化: <a href=https://segmentfault.com/a/1190000022863791>https://segmentfault.com/a/1190000022863791</a></li><li>manjaro配置: <a href=https://zhuanlan.zhihu.com/p/114296129>https://zhuanlan.zhihu.com/p/114296129</a></li><li>manjaro配置: <a href=https://zhuanlan.zhihu.com/p/460826583>https://zhuanlan.zhihu.com/p/460826583</a></li><li>manjaro配置: <a href=https://zhuanlan.zhihu.com/p/656733028>https://zhuanlan.zhihu.com/p/656733028</a></li><li>manjaro配置: <a href=https://blog.lyh543.cn/posts/2021-09-30-config-manjaro.html>https://blog.lyh543.cn/posts/2021-09-30-config-manjaro.html</a></li><li>kde仿mac美化: <a href=https://blog.csdn.net/Luo_Jin/article/details/88776326#t6>https://blog.csdn.net/Luo_Jin/article/details/88776326#t6</a></li><li>deb转换: <a href=https://www.redren.net/8146.html>https://www.redren.net/8146.html</a></li><li>deb换源: <a href=https://www.cnblogs.com/bluestorm/p/16988840.html>https://www.cnblogs.com/bluestorm/p/16988840.html</a></li><li>fcitx5介绍: <a href=https://wiki.archlinuxcn.org/wiki/Fcitx5>https://wiki.archlinuxcn.org/wiki/Fcitx5</a></li><li>Clash: <a href=https://help.hitun.io/zh/article/linux-clash-for-windows-1xajysh/>https://help.hitun.io/zh/article/linux-clash-for-windows-1xajysh/</a></li></ul></div><div class=post-reward><div style=padding:0;margin:0;width:100%;font-size:16px;text-align:center><div id=QR style=opacity:0><div id=wechat style=display:inline-block><a class=fancybox rel=group><img id=wechat_qr src=https://blog.thend03.com/img/wechat-pay.png alt=wechat_pay></a><p>微信</p></div><div id=alipay style=display:inline-block><a class=fancybox rel=group><img id=alipay_qr src=https://blog.thend03.com/img/alipay.png alt=alipay></a><p>支付宝</p></div></div><button id=rewardButton onclick='var qr=document.getElementById("QR");qr.style.opacity==="0"?qr.style.opacity="1":qr.style.opacity="0"'>
<span>🧧 鼓励</span></button></div></div><footer class=post-footer><nav class=paginav><a class=prev href=https://blog.thend03.com/posts/2024-q1-summary/><span class=title>« 上一页</span><br><span>2024年一季度总结</span>
</a><a class=next href=https://blog.thend03.com/posts/dual-system-installation-manjaro-and-windows/><span class=title>下一页 »</span><br><span>笔记本安装manjaro+windows双系统</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share manjaro环境配置 on twitter" href="https://twitter.com/intent/tweet/?text=manjaro%e7%8e%af%e5%a2%83%e9%85%8d%e7%bd%ae&amp;url=https%3a%2f%2fblog.thend03.com%2fposts%2fmanjaro-env-config%2f&amp;hashtags=manjaro"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg>
</a><a target=_blank rel="noopener noreferrer" aria-label="share manjaro环境配置 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fblog.thend03.com%2fposts%2fmanjaro-env-config%2f&amp;title=manjaro%e7%8e%af%e5%a2%83%e9%85%8d%e7%bd%ae&amp;summary=manjaro%e7%8e%af%e5%a2%83%e9%85%8d%e7%bd%ae&amp;source=https%3a%2f%2fblog.thend03.com%2fposts%2fmanjaro-env-config%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg>
</a><a target=_blank rel="noopener noreferrer" aria-label="share manjaro环境配置 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fblog.thend03.com%2fposts%2fmanjaro-env-config%2f&title=manjaro%e7%8e%af%e5%a2%83%e9%85%8d%e7%bd%ae"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg>
</a><a target=_blank rel="noopener noreferrer" aria-label="share manjaro环境配置 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.thend03.com%2fposts%2fmanjaro-env-config%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg>
</a><a target=_blank rel="noopener noreferrer" aria-label="share manjaro环境配置 on whatsapp" href="https://api.whatsapp.com/send?text=manjaro%e7%8e%af%e5%a2%83%e9%85%8d%e7%bd%ae%20-%20https%3a%2f%2fblog.thend03.com%2fposts%2fmanjaro-env-config%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg>
</a><a target=_blank rel="noopener noreferrer" aria-label="share manjaro环境配置 on telegram" href="https://telegram.me/share/url?text=manjaro%e7%8e%af%e5%a2%83%e9%85%8d%e7%bd%ae&amp;url=https%3a%2f%2fblog.thend03.com%2fposts%2fmanjaro-env-config%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></div><style>.comments_details summary::marker{font-size:20px;content:'👉展开评论';color:var(--content)}.comments_details[open] summary::marker{font-size:20px;content:'👇关闭评论';color:var(--content)}</style><div><details class=comments_details open><summary style="cursor:pointer;margin:50px 0 20px;width:130px"><span style=font-size:20px;color:var(--content)>...</span></summary><div id=tcomment></div></details><script src=https://cdn.staticfile.org/twikoo/1.5.8/twikoo.all.min.js></script><script>twikoo.init({envId:"https://twikoo-e1f2-2yfafx14j-thend03s-projects.vercel.app/",el:"#tcomment",lang:"zh-CN",region:null,path:window.TWIKOO_MAGIC_PATH||window.location.pathname})</script></div></article></main><footer class=footer><span>Copyright
&copy;
2020-2024
<a href=https://blog.thend03.com/ style=color:#939393>Fayy&amp;Fc's Blog</a>
All Rights Reserved
</span><a href=https://beian.miit.gov.cn/ target=_blank style=color:#939393></a>&nbsp;
<span><a target=_blank href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=null" style=display:inline-block;text-decoration:none;height:20px;color:#939393><img src style="float:left;margin:0 5px 0 0">
</a></span><span id=busuanzi_container><span class="fa fa-user"></span> <span id=busuanzi_value_site_uv></span>
<span class="fa fa-eye"></span> <span id=busuanzi_value_site_pv></span></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><span class=topInner><svg class="topSvg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
<span id=read_progress></span>
</span></a><script>document.addEventListener("scroll",function(){const t=document.getElementById("read_progress"),n=document.documentElement.scrollHeight,s=document.documentElement.clientHeight,o=document.documentElement.scrollTop||document.body.scrollTop;t.innerText=((o/(n-s)).toFixed(2)*100).toFixed(0)})</script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>let mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>200||document.documentElement.scrollTop>200?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{(function(){document.cookie="change-themes="+escape("false")})(),document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.body.addEventListener("copy",function(e){if(window.getSelection().toString()&&window.getSelection().toString().length>50){let t=e.clipboardData||window.clipboardData;if(t){e.preventDefault();let n=window.getSelection().toString(),s=window.getSelection().toString();t.setData("text/html",n),t.setData("text/plain",s)}}})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const s=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="复制";function i(){t.innerText="已复制！",setTimeout(()=>{t.innerText="复制"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){let t=e.textContent;navigator.clipboard.writeText(t),i();return}const n=document.createRange();n.selectNodeContents(e);const s=window.getSelection();s.removeAllRanges(),s.addRange(n);try{document.execCommand("copy"),i()}catch{}s.removeRange(n)});let l=e.className.replaceAll("language-",""),n=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div"),c=document.createElement("div"),o=document.createElement("div");o.innerText=l,n.setAttribute("class","mac-tool"),a.setAttribute("class","mac bb1"),r.setAttribute("class","mac bb2"),c.setAttribute("class","mac bb3"),o.setAttribute("class","language-type"),n.appendChild(a),n.appendChild(r),n.appendChild(c),n.appendChild(o),s.classList.contains("highlight")?(s.appendChild(t),s.appendChild(n)):s.parentNode.firstChild==s||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?(e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t),s.appendChild(n)):(e.parentNode.appendChild(t),s.appendChild(n)))})</script></body></html>