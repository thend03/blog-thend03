<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Ubuntu22.04å®‰è£…wordpress | Fayy&amp;Fc's Blog</title>
<meta name=keywords content="wordpress"><meta name=description content="å¦‚ä½•åœ¨ubuntu22.04ä¸Šå®‰è£…wordpress"><meta name=author content="since"><link rel=canonical href=https://blog.thend03.com/posts/install-wordpress-on-ubuntu22.04/><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.js onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://blog.thend03.com/img/logo.jpg><link rel=icon type=image/png sizes=16x16 href=https://blog.thend03.com/img/logo.jpg><link rel=icon type=image/png sizes=32x32 href=https://blog.thend03.com/img/logo.jpg><link rel=apple-touch-icon href=https://blog.thend03.com/img/logo.jpg><link rel=mask-icon href=https://blog.thend03.com/img/logo.jpg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh href=https://blog.thend03.com/posts/install-wordpress-on-ubuntu22.04/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css><script src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><script src=https://cdn.jsdelivr.net/npm/jquery@3.6.3/dist/jquery.min.js></script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><meta property="og:title" content="Ubuntu22.04å®‰è£…wordpress"><meta property="og:description" content="å¦‚ä½•åœ¨ubuntu22.04ä¸Šå®‰è£…wordpress"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.thend03.com/posts/install-wordpress-on-ubuntu22.04/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-12-12T08:43:49+08:00"><meta property="article:modified_time" content="2023-12-12T08:43:49+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Ubuntu22.04å®‰è£…wordpress"><meta name=twitter:description content="å¦‚ä½•åœ¨ubuntu22.04ä¸Šå®‰è£…wordpress"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"ğŸ“šæ–‡ç« ","item":"https://blog.thend03.com/posts/"},{"@type":"ListItem","position":2,"name":"Ubuntu22.04å®‰è£…wordpress","item":"https://blog.thend03.com/posts/install-wordpress-on-ubuntu22.04/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Ubuntu22.04å®‰è£…wordpress","name":"Ubuntu22.04å®‰è£…wordpress","description":"å¦‚ä½•åœ¨ubuntu22.04ä¸Šå®‰è£…wordpress","keywords":["wordpress"],"articleBody":"å‰è¨€ æœ€è¿‘åœ¨ç ”ç©¶å»ºç«™çš„äº‹æƒ…ï¼Œwordpressä¸è®ºä»ä¿æœ‰é‡è¿˜æ˜¯ç”Ÿæ€ä¸°å¯Œçš„å±‚é¢ï¼Œå¹¶ä¸”ä½œä¸ºä¸€ä¸ªè€ç‰Œçš„å¼€æºç³»ç»Ÿï¼Œè§£å†³æ–¹æ¡ˆéå¸¸ä¸°å¯Œï¼Œæ‰€ä»¥æˆ‘æ‰“\nç®—ä½¿ç”¨wordpressä½œä¸ºå»ºç«™å·¥å…·ï¼Œç ”ç©¶ä¸‹å¦‚ä½•ä½¿ç”¨wordpresså»ºç«™ã€‚\nç ”ç©¶è¿‡ç¨‹ä¸­è¸©äº†ä¸å°‘çš„å‘ï¼Œè®°å½•ä¸‹ï¼Œæä¾›ä¸‹ç®€æ´æ˜äº†å¯ç”¨çš„å®‰è£…è¿‡ç¨‹ã€‚\né‡åˆ°çš„å‘ phpç‰ˆæœ¬è¿‡é«˜çš„é—®é¢˜ æœ¬æ¥ä¹°çš„1c1gçš„å°æ°´ç®¡æœºå™¨ï¼Œä¸ºäº†èŠ‚çº¦æœºå™¨ï¼Œæ‰“ç®—ä½¿ç”¨å…è´¹çš„æ•°æ®åº“äº‘æœåŠ¡ã€‚\næ‰¾åˆ°äº†2ä¸ªäº§å“ï¼Œåˆ†åˆ«çš„plantscaleå’Œsupabaseï¼Œç¬¬ä¸€ä¸ªæ˜¯mysqlçš„äº‘æœåŠ¡ï¼Œä½†æ˜¯è¦ç»‘ä¿¡ç”¨å¡ï¼Œå°±æ”¾å¼ƒäº†ã€‚ç¬¬äºŒä¸ªæ˜¯postgressql,å…è´¹çš„æœåŠ¡ï¼Œä¸éœ€è¦ç»‘å®šä¿¡ç”¨å¡ï¼Œæ‰€ä»¥å°±æ³¨å†Œäº†ä¸€ä¸ªpgåº“ã€‚\næˆ‘åœ¨å†²æµªçš„æ—¶å€™çœ‹åˆ°åˆ«äººä¹Ÿæ¨èpgï¼Œå ç”¨èµ„æºå°‘ï¼Œæ€§èƒ½æ›´å¥½ï¼Œæ‰€ä»¥æˆ‘ä¹Ÿå€¾å‘äºä½¿ç”¨\nç„¶åç£¨äººçš„å°±æ¥äº†ï¼Œç”±äºwordpressåŸç”Ÿåªæ”¯æŒMySQLï¼Œæƒ³ä½¿ç”¨pgå°±å¾—æ‰¾ä¸ªæ’ä»¶ï¼Œè¿™ä¸€æ­¥å°±æ‰å‘é‡Œäº†ï¼Œæˆ‘å†²æµªçš„æ—¶å€™å‘ç°pg4wpè¿™ä¸ªæ’\nä»¶æœ€æ–°ç‰ˆéœ€è¦php8.1ä»¥ä¸Šï¼Œç„¶åå®‰è£…è¿™ä¸ªæ’ä»¶ä¹‹åå„ç§è¿æ¥è¶…æ—¶ï¼Œæƒé™é—®é¢˜ï¼Œæˆ‘æ˜¯çœŸçš„è¢«æŠ˜ç£¨çš„æœ‰ç‚¹æƒ¨ã€‚\né€šè¿‡Nginxè®¿é—®wp-admin/install.phpï¼ŒæŠ¥é”™connection timeoutï¼Œå„ç§æœç´¢è§£å†³ä¸äº†ã€‚åæ¥çµæœºä¸€åŠ¨ï¼ŒæŠŠpg4wpæ’ä»¶æŒªèµ°ï¼Œphpç‰ˆæœ¬ä»\n8.2é™åˆ°7.4å°±å¥½äº†ã€‚ã€‚ã€‚ã€‚\nå˜¿ï¼Œæœç„¶å®‰è£…è¿˜æ˜¯æŒ‰ç…§æ–‡æ¡£æ¥ï¼Œåˆ‡å¿Œä¸€ä¸Šæ¥å°±æƒ³æ³•æ¯”è¾ƒå¤šï¼Œä½¿ç”¨å…¶ä»–æœ€æ–°çš„ç»„ä»¶ï¼Œæ¯”å¦‚pgã€‚\nå„ç§403ï¼Œ404ï¼Œ502ï¼Œ504ï¼Œæœéè‹±æ–‡ç½‘ç«™æ‰¾ä¸åˆ°ç»“æœï¼Œè¯•äº†åˆè¯•ï¼Œé”™è¯¯ä¾æ—§ï¼Œç»æœ›ï¼Œæˆ‘éƒ½æœ‰ç‚¹æ€€ç–‘è‡ªå·±äº†ã€‚\nwordpress6.4.2è¦æ±‚php7.4+ï¼Œä½†æ˜¯pg4wpè¦æ±‚php8.1+ï¼Œè™½ç„¶ä¸€èˆ¬ä¼šç‰ˆæœ¬å‘ä¸‹å…¼å®¹ï¼Œä½†æ˜¯ä¸å…¼å®¹çš„äº‹è¿˜æ˜¯è¢«æˆ‘é‡åˆ°äº†,çœ‹pg4wpçš„\nreadmeï¼Œåœ¨6.4.1ä¸Šé€šè¿‡äº†å…¼å®¹æ€§æµ‹è¯•ï¼Œ6.4.2å°±å¤šäº†ä¸€ä¸ªå°ç‰ˆæœ¬ï¼ŒçœŸçš„æ˜¯ã€‚\nå®‰è£…æ–‡æ¡£ç¼ºå¤±å…³é”®æ­¥éª¤ wordpressæœ‰ä¸€ä¸ªç»å…¸çš„äº”æ­¥å®‰è£…æ³•ï¼Œä½†æ˜¯ç¼ºå°‘äº†ä¸€äº›å…³é”®çš„æè¿°ï¼Œæ¯”å¦‚å¦‚ä½•è®¿é—®install.phpï¼Œæ–‡æ¡£ä»‹ç»æ˜¯ä½¿ç”¨webæœåŠ¡å™¨ï¼Œä½†å…·ä½“æ€ä¹ˆ\nåšæ²¡æœ‰è¯¦ç»†ä»‹ç»ï¼Œå¯¼è‡´æˆ‘è¿›å»å°±æ‰å‘é‡Œäº†ã€‚è¿˜æœ‰ä¸€äº›å…¶ä»–çš„ç»†èŠ‚æ²¡æœ‰è¡¥å……ã€‚\nè€Œä¸”åŸºæœ¬æ˜¯è‹±æ–‡æ–‡æ¡£ï¼Œçœ‹ä¸‹æ¥ç•¥å¾®æœ‰ç‚¹åƒåŠ›ã€‚\nè¿™æ˜¯wordpresså¼€å‘è€…ç½‘ç«™çš„å®‰è£…æ­¥éª¤ï¼Œæˆ‘æœ€éœ€è¦çš„ä¸€æ­¥ï¼Œå¦‚ä½•åœ¨æµè§ˆå™¨é‡Œè®¿é—®install.phpæ²¡å†™ï¼Œè®©ä½ ç”¨webæµè§ˆå™¨å»è®¿é—®ï¼Œç”¨apacheè¿˜\næ˜¯ç”¨nginxè¿˜æ˜¯åˆ«çš„ï¼Œä¸€ç‚¹éƒ½æ²¡å†™ã€‚\nè‹±æ–‡æ–‡æ¡£çœ‹ä¸‹æ¥è¿˜æ˜¯è¦ç‚¹æ—¶é—´çš„ã€‚\næ–‡ä»¶æƒé™é—®é¢˜ ç”±äºæ˜¯ä½¿ç”¨rootç”¨æˆ·ç™»å½•çš„ï¼Œæ‰€ä»¥æˆ‘ç¬¬ä¸€æ¬¡å®‰è£…ç›®å½•æ˜¯/root/wordpressï¼Œnginxè®¿é—®æŠ¥æ–‡ä»¶æƒé™é—®é¢˜ï¼ŒæŒªåˆ°érootç›®å½•nginxè®¿é—®å°±æ­£å¸¸äº†ã€‚\næ‰€ä»¥çœäº‹èµ·è§ï¼Œwordpressä¸è¦æ”¾åœ¨rootã€‚\nå¦å¤–wordpressç›®å½•çš„ç”¨æˆ·ç»„å’Œç›®å½•æƒé™éœ€è¦ä¸ºwww-data:www-dataå’Œ755ã€‚å…¶ä¸­www-dataæ˜¯php7.4-fpmè¿›ç¨‹çš„ç”¨æˆ·ç»„ã€‚\næœ¬ç¯‡æ–‡ç« åŠ›æ±‚æŠŠä¸€äº›é…ç½®ï¼Œå…³é”®æ­¥éª¤è§£é‡Šæ¸…æ¥šï¼Œä¸è¸©æ— è°“çš„å‘ã€‚\nå‰ç½®ä¾èµ– Wordpressæ˜¯ä¸€ä¸ªæœåŠ¡ï¼Œéœ€è¦æˆ‘ä»¬éƒ¨ç½²æœåŠ¡ä¹‹åå»è®¿é—®wordpressçš„é¡µé¢ï¼Œæœ€å°‘éœ€è¦ä¸€å°æœºå™¨éƒ¨ç½²wordpressæ•´å¥—æœåŠ¡.\nå¦‚æœéœ€è¦ä½¿ç”¨åŸŸåè®¿é—®çš„è¯ï¼Œè¿˜éœ€è¦ä¹°ä¸€ä¸ªåŸŸåï¼Œè§£æåˆ°æˆ‘ä»¬æœºå™¨çš„ipä¸Šæ‰è¡Œã€‚\nwordpressè‡ªèº«éœ€è¦å¦‚ä¸‹çš„ç»„ä»¶\nä¸€å°linuxæœºå™¨ï¼Œæˆ‘è¿™æ¬¡å®‰è£…çš„æœºå™¨ç‰ˆæœ¬æ˜¯ubuntu222.04 wordpresså®‰è£…åŒ…ï¼Œåœ¨wordpress.orgä¸‹è½½æœ€æ–°çš„å®‰è£…åŒ…ï¼Œæœ€æ–°ç‰ˆæœ¬æ˜¯6.4.2 æœºå™¨ä¸Šå®‰è£…äº†phpï¼Œç‰ˆæœ¬æœ€å¥½æ˜¯7.4 ä¸€ä¸ªå¯ç”¨çš„mysqlæœåŠ¡ï¼Œç‰ˆæœ¬éœ€è¦5.7æˆ–è€…8.0+æˆ–è€…å¯¹åº”ç‰ˆæœ¬çš„mariadb(å’ŒmysqlåŒä¸€ä¸ªä½œè€…) æœºå™¨ä¸Šå®‰è£…Nginxï¼Œnginxç‰ˆæœ¬ä¸º1.18.0+ å¦‚æœéœ€è¦åŸŸåè®¿é—®ï¼Œåˆ™éœ€è¦è´­ä¹°ä¸€ä¸ªåŸŸåï¼Œè´­ä¹°åŸŸåä¹‹åè§£æåˆ°è‡ªå·±çš„linuxæœºå™¨ä¸Š\nè´­ä¹°ä¸€ä¸ªåŸŸå å°†åŸŸåè§£æåˆ°linuxæœºå™¨æ‰€åœ¨ip ä»¥ä¸‹å°†åŸºäºå¦‚ä¸Šçš„ä¾èµ–æ¡ä»¶ï¼Œé€æ­¥è¿›è¡Œå®‰è£…\næ‰‹åŠ¨å®‰è£… å®‰è£…çš„æœºå™¨ç³»ç»Ÿæ˜¯ubuntu22.04ï¼Œ1c1gçš„é…ç½®ï¼Œåœ¨racknerdä¸Šè´­ä¹°çš„ä¸€ä¸ªä½é…æœºå™¨\nubuntuçš„åŒ…ç®¡ç†å·¥å…·ä¸ºaptï¼Œå¯ä»¥ä½¿ç”¨aptæ‰§è¡Œå®‰è£…ã€æ›´æ–°ã€å¸è½½åº”ç”¨ç­‰åŠŸèƒ½\næ›´æ–°ç³»ç»Ÿ ç™»å½•æœºå™¨ä¹‹åï¼Œç»ˆç«¯æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼ŒæŸ¥çœ‹ç³»ç»Ÿç‰ˆæœ¬\nlsb_release -a å¯ä»¥çœ‹åˆ°å¦‚ä¸‹è¾“å‡ºï¼Œç³»ç»Ÿç‰ˆæœ¬ä¸ºubuntu22.04 LTS(é•¿æœŸæ”¯æŒç‰ˆæœ¬)\nNo LSB modules are available. Distributor ID:\tUbuntu Description:\tUbuntu 22.04.3 LTS Release:\t22.04 Codename:\tjammy ç„¶åæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå…ˆå°†ç³»ç»Ÿçš„åº”ç”¨æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬,å¦‚æœç¼ºå¤±å…¶ä»–çš„åŒ…ï¼Œä½¿ç”¨apt installè¿›è¡Œå®‰è£…å³å¯\nsudo apt update \u0026\u0026 sudo apt upgrade å®‰è£…nginx æˆ‘ä»¬éœ€è¦é€šè¿‡nginxè®¿é—®wordpressé¡µé¢ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å…ˆå®‰è£…ä¸€ä¸ªnginx\nåˆšå®‰è£…çš„ç³»ç»Ÿæ²¡æœ‰è‡ªå¸¦nginxï¼Œç³»ç»Ÿæç¤ºæˆ‘ä»¬å¯ä»¥è‡ªè¡Œå®‰è£…\nroot@racknerd-7c9c56:~# nginx -v Command 'nginx' not found, but can be installed with: apt install nginx-core # version 1.18.0-6ubuntu14.4, or apt install nginx-extras # version 1.18.0-6ubuntu14.4 apt install nginx-light # version 1.18.0-6ubuntu14.4 æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å®‰è£…nginx\nsudo apt install nginx å®‰è£…å®Œä¹‹åæŸ¥çœ‹nginxç‰ˆæœ¬,å¯ä»¥çœ‹åˆ°ä¸æŒ‡å®šç‰ˆæœ¬ï¼Œé»˜è®¤æ˜¯å®‰è£…äº†1.18.0\nroot@racknerd-7c9c56:~# nginx -v nginx version: nginx/1.18.0 (Ubuntu) æŸ¥çœ‹nginxæœåŠ¡çŠ¶æ€ï¼Œå½“å‰æœåŠ¡çŠ¶æ€æ­£å¸¸\nroot@racknerd-7c9c56:~# sudo systemctl status nginx â— nginx.service - A high performance web server and a reverse proxy server Loaded: loaded (/lib/systemd/system/nginx.service; enabled; vendor preset: enabled) Active: active (running) since Tue 2023-12-12 13:20:47 UTC; 3min 15s ago Docs: man:nginx(8) Process: 1415 ExecStartPre=/usr/sbin/nginx -t -q -g daemon on; master_process on; (code=exited, status=0/SUCCESS) Process: 1416 ExecStart=/usr/sbin/nginx -g daemon on; master_process on; (code=exited, status=0/SUCCESS) Main PID: 1511 (nginx) Tasks: 2 (limit: 1013) Memory: 6.3M CPU: 50ms CGroup: /system.slice/nginx.service â”œâ”€1511 \"nginx: master process /usr/sbin/nginx -g daemon on; master_process on;\" â””â”€1513 \"nginx: worker process\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" Dec 12 13:20:47 racknerd-7c9c56 systemd[1]: Starting A high performance web server and a reverse proxy server... Dec 12 13:20:47 racknerd-7c9c56 systemd[1]: Started A high performance web server and a reverse proxy server. å®‰è£…MySQL nginxå®‰è£…å¥½ä¹‹å,æˆ‘ä»¬éœ€è¦å®‰è£…mysqlã€‚ mysqlæ˜¯wordpressé»˜è®¤çš„æ•°æ®åº“ï¼Œå¦‚æœæƒ³å°‘æŠ˜è…¾ï¼Œå®‰è£…mysqlæ˜¯æœ€ç¨³å¦¥çš„æ–¹å¼ã€‚\nå®‰è£…æ­¥éª¤ æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å®‰è£…mysql\nsudo apt install mysql-server å®‰è£…å¥½ä¹‹åå¯åŠ¨mysqlæœåŠ¡\nsudo systemctl start mysql å¯åŠ¨ä¹‹åæŸ¥çœ‹mysqlæœåŠ¡çŠ¶æ€\nroot@racknerd-7c9c56:~# sudo systemctl status mysql â— mysql.service - MySQL Community Server Loaded: loaded (/lib/systemd/system/mysql.service; enabled; vendor preset: enabled) Active: active (running) since Tue 2023-12-12 13:28:53 UTC; 1min 57s ago Process: 2326 ExecStartPre=/usr/share/mysql/mysql-systemd-start pre (code=exited, status=0/SUCCESS) Main PID: 2334 (mysqld) Status: \"Server is operational\" Tasks: 37 (limit: 1013) Memory: 357.3M CPU: 3.053s CGroup: /system.slice/mysql.service â””â”€2334 /usr/sbin/mysqld Dec 12 13:28:52 racknerd-7c9c56 systemd[1]: Starting MySQL Community Server... Dec 12 13:28:53 racknerd-7c9c56 systemd[1]: Started MySQL Community Server. æŸ¥çœ‹mysqlç‰ˆæœ¬ï¼Œå¯ä»¥å‘ç°æ˜¯8.0\nroot@racknerd-7c9c56:~# mysql -v Welcome to the MySQL monitor. Commands end with ; or \\g. Your MySQL connection id is 8 Server version: 8.0.35-0ubuntu0.22.04.1 (Ubuntu) Copyright (c) 2000, 2023, Oracle and/or its affiliates. Oracle is a registered trademark of Oracle Corporation and/or its affiliates. Other names may be trademarks of their respective owners. Reading history-file /root/.mysql_history Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement. å®‰è£…ä»¥åŠå¯åŠ¨ä¹‹åæˆ‘ä»¬éœ€è¦ä¸ºrootç”¨æˆ·è®¾ç½®å¯†ç ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œä¼šè¿›è¡Œmysqlç»ˆç«¯\nsudo mysql è¿›å…¥ç»ˆç«¯ä¹‹åæˆ‘ä»¬éœ€è¦åœ¨ç»ˆç«¯ä¸ºrootç”¨æˆ·åˆ›å»ºå¯†ç ,æœ€åä¸€\nroot@racknerd-7c9c56:~# sudo mysql Welcome to the MySQL monitor. Commands end with ; or \\g. Your MySQL connection id is 9 Server version: 8.0.35-0ubuntu0.22.04.1 (Ubuntu) Copyright (c) 2000, 2023, Oracle and/or its affiliates. Oracle is a registered trademark of Oracle Corporation and/or its affiliates. Other names may be trademarks of their respective owners. Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement. mysql\u003e ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'password123'; å¦‚ä¸‹å‘½ä»¤ä¼šä¿®æ”¹rootç”¨æˆ·çš„å¯†ç ä¸ºpassword123\nmysql\u003e ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'password123'; ä¿®æ”¹å¥½rootå¯†ç ä¹‹åé€€å‡º\nmysql\u003e exit ç„¶åä½¿ç”¨è´¦å·å¯†ç é‡æ–°ç™»å½•ï¼Œè¾“å…¥rootå¯†ç ä¼šå†æ¬¡è¿›å…¥mysqlç»ˆç«¯\nmysql -u root -p åˆ›å»ºwordpressæ•°æ®åº“ ä¸ºwordpressåˆ›å»ºä¸€ä¸ªæ•°æ®åº“ï¼Œç”¨äºå­˜æ”¾wordpressæ•°æ®\nmysql\u003e create database wordpress; Query OK, 1 row affected (0.01 sec) å®‰å…¨é…ç½®(å¯é€‰) è™½ç„¶æ˜¯è‡ªç”¨çš„æœºå™¨å’ŒæœåŠ¡ï¼Œä¸è¿‡å®‰å…¨æœåŠ¡è¿˜æ˜¯è¦è€ƒè™‘ä¸€ä¸‹ï¼Œä¸‡ä¸€ä»¥ååšå¤§åšå¼ºäº†å‘¢\nå‘½ä»¤è¡Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤,ä¼šæœ‰ä¸€äº›äº¤äº’\néœ€è¦ä¸éœ€è¦æ ¡éªŒå¯†ç ï¼Œéœ€è¦çš„è¯ä¸‹ä¸€æ­¥ å¯†ç å¼ºåº¦çº§åˆ«é€‰æ‹©ï¼ŒLowçš„è¯ç›¸å½“äºå¼±å¯†ç ï¼Œæ¯”è¾ƒå±é™©ï¼Œçº§åˆ«è¶Šé«˜ï¼Œå¯†ç å¤æ‚åº¦è¦æ±‚è¶Šé«˜ æ˜¯å¦æ›´æ–°rootå¯†ç ï¼Œæ›´æ–°ä¹‹åä¼šæ ¹æ®ä¹‹å‰é€‰æ‹©çš„å¯†ç æ ¡éªŒçº§åˆ«ï¼Œè¦æ±‚ä½ è¾“å…¥æ–°çš„rootå¯†ç  æ˜¯å¦éœ€è¦ç§»é™¤åŒ¿åç”¨æˆ·ï¼Œç§»é™¤ä¹‹åç™»å½•mysqlå¿…é¡»è¦ä½¿ç”¨å¯†ç äº† æ˜¯å¦éœ€è¦ç¦ç”¨rootè¿œç¨‹ç™»å½•ï¼Œç¦ç”¨ä¹‹ååªèƒ½åœ¨æœ¬æœºç™»å½•mysql æ˜¯å¦éœ€è¦ç§»é™¤teståº“å’Œå…¶è®¿é—®æƒé™ï¼Œç§»é™¤ä¹‹åå°±æ— æ³•è®¿é—®teståº“äº† åˆ·æ–°æƒé™ä¹‹åä»¥ä¸Šä¿®æ”¹åˆ™ç”Ÿæ•ˆ root@racknerd-7c9c56:~# sudo mysql_secure_installation Securing the MySQL server deployment. Enter password for user root: VALIDATE PASSWORD COMPONENT can be used to test passwords and improve security. It checks the strength of password and allows the users to set only those passwords which are secure enough. Would you like to setup VALIDATE PASSWORD component? Press y|Y for Yes, any other key for No: y There are three levels of password validation policy: LOW Length \u003e= 8 MEDIUM Length \u003e= 8, numeric, mixed case, and special characters STRONG Length \u003e= 8, numeric, mixed case, special characters and dictionary file Please enter 0 = LOW, 1 = MEDIUM and 2 = STRONG: 2 Using existing password for root. Estimated strength of the password: 50 Change the password for root ? ((Press y|Y for Yes, any other key for No) : y New password: Re-enter new password: Estimated strength of the password: 100 Do you wish to continue with the password provided?(Press y|Y for Yes, any other key for No) : y By default, a MySQL installation has an anonymous user, allowing anyone to log into MySQL without having to have a user account created for them. This is intended only for testing, and to make the installation go a bit smoother. You should remove them before moving into a production environment. Remove anonymous users? (Press y|Y for Yes, any other key for No) : y Success. Normally, root should only be allowed to connect from 'localhost'. This ensures that someone cannot guess at the root password from the network. Disallow root login remotely? (Press y|Y for Yes, any other key for No) : y Success. By default, MySQL comes with a database named 'test' that anyone can access. This is also intended only for testing, and should be removed before moving into a production environment. Remove test database and access to it? (Press y|Y for Yes, any other key for No) : y - Dropping test database... Success. - Removing privileges on test database... Success. Reloading the privilege tables will ensure that all changes made so far will take effect immediately. Reload privilege tables now? (Press y|Y for Yes, any other key for No) : y Success. All done! root@racknerd-7c9c56:~# sudo mysql ERROR 1045 (28000): Access denied for user 'root'@'localhost' (using password: NO) root@racknerd-7c9c56:~# ä»¥ä¸Šmysqlå°±å®‰è£…å¥½äº†ï¼Œä¹Ÿä¸ºwordpressåˆ›å»ºäº†ä¸€ä¸ªåº“\nå®‰è£…php ç”±äºwordpressæ˜¯phpå†™çš„ï¼Œæ‰€ä»¥éœ€è¦åœ¨æœºå™¨ä¸Šå®‰è£…phpï¼Œç›®å‰æœ€æ–°çš„wordpressç‰ˆæœ¬æ˜¯6.4,å®‰è£…php7.4å°±å¥½äº†ï¼Œä¸è¦å®‰è£…8.0+çš„ç‰ˆæœ¬ï¼Œ\næ„Ÿè§‰å…¼å®¹æœ‰é—®é¢˜ï¼ŒæŠ˜ç£¨äº†æˆ‘å¥½ä¹…ã€‚\nå…ˆæ·»åŠ phpä»“åº“\nsudo add-apt-repository ppa:ondrej/php æ‰§è¡Œåˆ°ä¸‹é¢æœ€åä¸€è¡Œæç¤ºçš„æ—¶å€™æŒ‰enterç»§ç»­å®‰è£…\nCAVEATS: 1. If you are using php-gearman, you need to add ppa:ondrej/pkg-gearman 2. If you are using apache2, you are advised to add ppa:ondrej/apache2 3. If you are using nginx, you are advised to add ppa:ondrej/nginx-mainline or ppa:ondrej/nginx PLEASE READ: If you like my work and want to give me a little motivation, please consider donating regularly: https://donate.sury.org/ WARNING: add-apt-repository is broken with non-UTF-8 locales, see https://github.com/oerdnj/deb.sury.org/issues/56 for workaround: # LC_ALL=C.UTF-8 add-apt-repository ppa:ondrej/php More info: https://launchpad.net/~ondrej/+archive/ubuntu/php Adding repository. Press [ENTER] to continue or Ctrl-c to cancel. ä¸Šé¢æ‰§è¡Œå®Œåï¼Œå†æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…php7.4ä»¥åŠç›¸å…³æ’ä»¶å’ŒæœåŠ¡\nsudo apt install php7.4 php7.4-fpm php7.4-mysql php7.4-curl php7.4-xml ç„¶åä½¿ç”¨pså‘½ä»¤æŸ¥çœ‹fpmæœåŠ¡æ˜¯å¦å¯åŠ¨,å¯ä»¥çœ‹åˆ°å¦‚ä¸‹fpmæœåŠ¡ä»¥åŠåœ¨è¿è¡Œäº†\nroot@racknerd-7c9c56:~# ps -ef|grep fpm root 18996 1 0 14:04 ? 00:00:00 php-fpm: master process (/etc/php/7.4/fpm/php-fpm.conf) www-data 18997 18996 0 14:04 ? 00:00:00 php-fpm: pool www www-data 18998 18996 0 14:04 ? 00:00:00 php-fpm: pool www root 19118 2708 0 14:05 pts/0 00:00:00 grep --color=auto fpm åé¢nginxéœ€è¦é€šè¿‡unix socketè®¿é—®ï¼Œsocketåœ°å€å…·ä½“åœ¨/etc/php/7.4/fpm/pool.d/www.confæ–‡ä»¶é‡Œï¼Œè¿™ä¸ªé…ç½®æ–‡ä»¶æœ‰å¦‚ä¸‹å‡ ä¸ªé…ç½®é¡¹å€¼å¾—å…³æ³¨ä¸€ä¸‹\nlisten = /run/php/php7.4-fpm.sock listen.owner = www-data listen.group = www-data ;listen.mode = 0660 listen = /run/php/php7.4-fpm.sockè¿™ä¸ªæ˜¯åç»­è¦é…ç½®åˆ°nginxé…ç½®æ–‡ä»¶ä¸­çš„åœ°å€ï¼Œnginxé€šè¿‡è¿™ä¸ªåœ°å€è®¿é—®php-fpmæœåŠ¡ï¼Œç„¶åè®¿é—®æˆ‘ä»¬çš„wordpressæ–‡ä»¶ã€‚\nlistenæ”¯æŒunixå’Œport 2ç§é…ç½®æ–¹å¼ï¼ŒäºŒé€‰ä¸€\nlisten = /run/php/php7.4-fpm.sock æˆ–è€…\nlisten = 127.0.0.1:9000 è¿™é‡Œé…ç½®æˆå“ªç§æ ¼å¼åé¢Nginxå°±é…å“ªç§åœ°å€ï¼Œæˆ‘ä»¬è¿™é‡Œå°±é‡‡ç”¨é»˜è®¤çš„unix socketçš„æ¨¡å¼å°±è¡Œ\nlister.ownerå’Œlist.groupä»¥åŠlist.modeè¿™3ä¸ªé…ç½®é¡¹æ¶‰åŠfpmè¿›ç¨‹çš„æƒé™å’Œç”¨æˆ·ç»„é—®é¢˜ï¼Œnginxéœ€è¦å’Œè¿™é‡Œä¿æŒä¸€è‡´ï¼Œä¸ç„¶å¯èƒ½ä¼šæŠ¥\nå¥‡æ€ªçš„æ–‡ä»¶æƒé™é—®é¢˜ã€‚\nå¦‚ä¸Šè¿™å‡ ä¸ªé…ç½®é¡¹æˆ‘ä»¬ä¿æŒé»˜è®¤å³å¯ï¼Œä¸è¦å»åŠ¨ã€‚\nä¸‹è½½wordpress å…¶ä»–çš„ä¾èµ–ç»„ä»¶éƒ½å¤„ç†å¥½ä¹‹åï¼Œæˆ‘ä»¬ä¸‹è½½wordpresså®‰è£…åŒ…ï¼Œwordpresså®‰è£…åŒ…å¯ä»¥å»wordpress.orgä¸‹è½½\nç‚¹å‡»get wordpressï¼Œè·³è½¬åˆ°wordpressä¸‹è½½é¡µ\nä¸‹è½½é¡µå·¦è¾¹æ˜¯wordpressçš„å®‰è£…åŒ…ä¸‹è½½åœ°å€ï¼Œå½“å‰æœ€æ–°çš„ç‰ˆæœ¬æ˜¯6.4.2ï¼Œå®˜æ–¹æ¨èä½¿ç”¨php7.4+ï¼Œmysql5.7+æˆ–è€…mariadb10.4+ï¼Œ mysql\nå’Œmariadbç®—æ˜¯åŒä¸€ä¸ªä½œè€…å‡ºå“çš„ï¼Œ2è€…æ˜¯å…¼å®¹çš„ï¼Œå¯ä»¥ç®—åŒä¸€ç§ç±»å‹çš„æ•°æ®åº“ã€‚\nä¸‹è½½é¡µå³è¾¹æ˜¯ä¸»æœºå‚å•†æä¾›çš„ä»˜è´¹è§£å†³æ–¹æ¡ˆï¼Œwordpresså·²ç»å¸®ä½ æ­å¥½äº†ï¼Œéœ€è¦æŒ‰éœ€ä»˜è´¹è´­ä¹°ã€‚æˆ‘ä¸ºäº†çœé’±ä»¥åŠå¯æ§ï¼Œå°±é€‰æ‹©äº†è‡ªå·±æ­ã€‚\nå®‰è£…åŒ…ä¸‹è½½æ–¹å¼ é‚£ä¹ˆwordpresså®‰è£…åŒ…æœ‰2ç§ä¸‹è½½æ–¹å¼\nç¬¬ä¸€ç§æ˜¯æµè§ˆå™¨é¡µé¢ç‚¹å‡»ä¸‹è½½ï¼Œä¸‹è½½åˆ°æœ¬åœ°ä¹‹åï¼Œé€šè¿‡scpã€ftpç­‰æ–¹å¼ä¸Šä¼ åˆ°linuxä¸Š å¦ä¸€ç§æ˜¯åˆ°æœºå™¨ä¸Šä½¿ç”¨wgetä¸‹è½½å®‰è£…åŒ… æˆ‘è¿™é‡Œä½¿ç”¨ç¬¬äºŒç§ï¼Œå³é”®å¤åˆ¶é“¾æ¥åœ°å€ï¼Œå®‰è£…åŒ…ä¸‹è½½åœ°å€ä¸ºhttps://wordpress.org/latest.zip\nåˆ°æœºå™¨ä¸Šæ‰§è¡Œwget https://wordpress.org/latest.zipå°†å®‰è£…åŒ…ä¸‹è½½åˆ°linuxæœºå™¨ä¸Šï¼Œè¿™æ ·ä¸‹è½½ä¼šæ–¹ä¾¿ä¸€ç‚¹\nroot@racknerd-7c9c56:/opt# wget https://wordpress.org/latest.zip --2023-12-12 14:24:43-- https://wordpress.org/latest.zip Resolving wordpress.org (wordpress.org)... 198.143.164.252 Connecting to wordpress.org (wordpress.org)|198.143.164.252|:443... connected. HTTP request sent, awaiting response... 200 OK Length: 25954973 (25M) [application/zip] Saving to: â€˜latest.zipâ€™ latest.zip 100%[==================================================================================\u003e] 24.75M 30.0MB/s in 0.8s 2023-12-12 14:24:44 (30.0 MB/s) - â€˜latest.zipâ€™ saved [25954973/25954973] root@racknerd-7c9c56:/opt# ll total 25356 drwxr-xr-x 2 root root 4096 Dec 12 14:24 ./ drwxr-xr-x 19 root root 4096 Aug 10 2022 ../ -rw-r--r-- 1 root root 25954973 Dec 6 16:26 latest.zip æˆ‘å°†wordpressæ”¾åœ¨äº†optç›®å½•ï¼Œåˆ‡å¿Œwordpressä¸è¦æ”¾åœ¨/rootç›®å½•ï¼Œä¸ç„¶nginxä¼šæœ‰å¥‡æ€ªçš„æ–‡ä»¶æƒé™é—®é¢˜ï¼Œè§£å†³ä¸äº†çš„é‚£ç§\nè§£å‹å®‰è£…åŒ… è§£å‹wordpresså®‰è£…åŒ…ï¼Œwordpressæ–‡ä»¶éƒ½åœ¨/opt/wordpessç›®å½•ä¸‹\nsudo apt install unzip wordpressæ–‡ä»¶ç»“æ„å¦‚ä¸‹æ‰€ç¤º\nä¿®æ”¹wordpressç”¨æˆ·ç»„å’Œæƒé™ è¿™ä¸€æ­¥çš„æƒé™æ¯”è¾ƒé‡è¦ï¼Œä¸ç„¶ä¼šæœ‰å¥‡æ€ªçš„æƒé™é—®é¢˜ï¼Œåˆ°optç›®å½•ä¸‹æ‰§è¡Œå¦‚ä¸‹æˆæƒå‘½ä»¤ï¼Œè§£å‹ä¹‹åwordpressç›®å½•çš„ç”¨æˆ·ç»„éƒ½æ˜¯rootï¼Œéœ€è¦\nä¿®æ”¹ä¸ºwww-data:www-dataï¼Œç›®å½•æƒé™ä¿®æ”¹ä¸º755ï¼Œéœ€è¦ç”¨åˆ°chownå’Œchmodå‘½ä»¤ï¼Œ -Rä¸ºé€’å½’æ‰§è¡Œæ‰€æœ‰çš„å­ç›®å½•å’Œæ–‡ä»¶\nä¸ºä½•ç”¨æˆ·ç»„è¦ä¿®æ”¹ä¸ºwww-data:www-dataï¼Œå› ä¸ºphp7.4-fpmçš„poolçš„ç”¨æˆ·ç»„å°±æ˜¯www-data:www-data\nroot@racknerd-7c9c56:/opt# pwd /opt root@racknerd-7c9c56:/opt# ll total 25360 drwxr-xr-x 3 root root 4096 Dec 12 14:27 ./ drwxr-xr-x 19 root root 4096 Aug 10 2022 ../ -rw-r--r-- 1 root root 25954973 Dec 6 16:26 latest.zip drwxr-xr-x 5 root root 4096 Dec 6 16:25 wordpress/ root@racknerd-7c9c56:/opt# sudo chown -R www-data:www-data wordpress/ root@racknerd-7c9c56:/opt# sudo chmod -R 755 wordpress/ root@racknerd-7c9c56:/opt# ll total 25360 drwxr-xr-x 3 root root 4096 Dec 12 14:27 ./ drwxr-xr-x 19 root root 4096 Aug 10 2022 ../ -rw-r--r-- 1 root root 25954973 Dec 6 16:26 latest.zip drwxr-xr-x 5 www-data www-data 4096 Dec 6 16:25 wordpress/ ç”Ÿæˆwp-config.php ä»wp-config-sample.phpå¤åˆ¶ä¸€ä»½wp-config.phpå‡ºæ¥ï¼Œä¿®æ”¹é‡Œé¢çš„dbé…ç½®ï¼Œæ”¹ä¸ºä¹‹å‰æœ¬åœ°å®‰è£…çš„Mysqlçš„è´¦å·å¯†ç æ•°æ®åº“ã€‚\nè¿™ä¸€æ­¥å¦‚æœä¸åšçš„è¯ï¼Œåœ¨å®‰è£…é¡µé¢ä¼šå¼•å¯¼ä½ å¡«å†™é…ç½®ç”Ÿæˆä¸€ä¸ªwp-config.phpæ–‡ä»¶ã€‚\nroot@racknerd-7c9c56:/opt/wordpress# cp wp-config-sample.php wp-config.php root@racknerd-7c9c56:/opt/wordpress# vi wp-config.php é…ç½®nginx ä¸‹è½½å¥½wordpresså®‰è£…åŒ…ä¹‹åï¼Œä¸‹é¢å°±æ˜¯é…ç½®nginxè®¿é—®wordpressäº†ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨æµè§ˆå™¨é¡µé¢è®¿é—®wordpresså®‰è£…é¡µé¢\nnginxé…ç½®æ–‡ä»¶åœ¨/etc/nginx/nginx.confï¼Œ/etc/nginx/conf.d/ç”¨äºæ”¾è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ï¼Œnginxç‰ˆæœ¬ä¸º1.18.0\nè‡ªå®šä¹‰wordpressé…ç½®æ–‡ä»¶ ä¸ä¿®æ”¹é»˜è®¤çš„é…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬åœ¨/etc/nginx/conf.dç›®å½•ä¸‹æ–°å»ºwordpressè‡ªå·±çš„é…ç½®æ–‡ä»¶\nroot@racknerd-7c9c56:/etc/nginx/conf.d# touch wp.conf root@racknerd-7c9c56:/etc/nginx/conf.d# vi wp.conf å°†ä»¥ä¸‹é…ç½®æ›´æ–°åˆ°wp.confé‡Œ,æœ‰å‡ ä¸ªæ¯”è¾ƒé‡è¦çš„é…ç½®è§£é‡Šä¸€ä¸‹\nrootï¼Œè¿™ä¸ªåœ°æ–¹é…ç½®çš„ä½ çš„wordpresså®‰è£…åŒ…çš„è·¯å¾„ï¼Œé…ç½®é”™è¯¯ä¼šå‘ç”Ÿ404ç­‰é”™è¯¯ server_nameï¼Œè¿™ä¸ªå¦‚æœæ²¡åŸŸåçš„è¯å°±é…ç½®localhost fastcgi_passï¼Œ è¿™ä¸ªåœ°æ–¹è¦é…ç½®fpmçš„æœåŠ¡åœ°å€ï¼Œæ³¨æ„fpmçš„ç‰ˆæœ¬ï¼Œç”±äºå®‰è£…çš„æ˜¯7.4ï¼Œæ‰€ä»¥fastcpgié…ç½®çš„å¦‚ä¸‹unixåœ°å€ ä¿®æ”¹å¥½è‡ªå·±æœºå™¨çš„å®é™…é…ç½®ï¼Œç²˜è´´åˆ°wp.confï¼Œæ‰§è¡Œ:wp ä¿å­˜é…ç½®\nserver { listen 80; root /opt/wordpress; index index.php index.html; server_name localhost; location / { try_files $uri $uri/ /index.php?$args; } location ~ \\.php$ { include snippets/fastcgi-php.conf; fastcgi_pass unix:/run/php/php7.4-fpm.sock; } location ~ /\\.ht { deny all; } location = /favicon.ico { log_not_found off; access_log off; } location = /robots.txt { allow all; log_not_found off; access_log off; } location ~* \\.(js|css|png|jpg|jpeg|gif|ico)$ { expires max; log_not_found off; } } åˆ é™¤defaulté…ç½® nginxå®‰è£…å¥½ä¼šæœ‰ä¸€ä¸ªdefaulté…ç½®ï¼Œè¿™ä¸ªé…ç½®ä¼šå½±å“æˆ‘ä»¬è‡ªå®šä¹‰çš„é…ç½®ï¼Œéœ€è¦åˆ æ‰æˆ–è€…é‡å‘½åè¿™ä¸ªæ–‡ä»¶ï¼Œæ–‡ä»¶è·¯å¾„ä¸º/etc/nginx/sites-available/defaultï¼Œæ‰§è¡Œä»¥ä¸‹æ­¥éª¤å»æ‰default\n#åœ¨sites-enableç›®å½•å¤‡ä»½defaultæ–‡ä»¶ root@racknerd-7c9c56:/etc/nginx/sites-available# mv default default.bak root@racknerd-7c9c56:/etc/nginx/sites-available# cd ../sites-enabled/ root@racknerd-7c9c56:/etc/nginx/sites-enabled# ll total 8 drwxr-xr-x 2 root root 4096 Dec 12 13:20 ./ drwxr-xr-x 8 root root 4096 Dec 12 14:31 ../ lrwxrwxrwx 1 root root 34 Dec 12 13:20 default -\u003e /etc/nginx/sites-available/default #åœ¨sites-enabledç›®å½•åˆ æ‰è½¯é“¾æ¥ root@racknerd-7c9c56:/etc/nginx/sites-enabled# rm -f default ç¡®è®¤nginx workerçš„ç”¨æˆ· /etc/nginx/nginx.confçš„ç¬¬ä¸€è¡Œæœ‰å…³äºNginx userçš„è®¾ç½®ï¼Œè¿™ä¸ªéœ€è¦è®¾ç½®ä¸ºwww-dataï¼Œå’Œphp7.4-fpmä¿æŒä¸€è‡´ï¼Œnginxé»˜è®¤ç”¨æˆ·å°±æ˜¯www-dataï¼Œæ£€æŸ¥ä¸‹å³å¯\néªŒè¯é…ç½® æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤éªŒè¯nginxé…ç½®æ–‡ä»¶æ˜¯å¦æ­£ç¡®\nroot@racknerd-7c9c56:/etc/nginx# nginx -t nginx: the configuration file /etc/nginx/nginx.conf syntax is ok nginx: configuration file /etc/nginx/nginx.conf test is successful é‡å¯Nginx é…ç½®æ–‡ä»¶éªŒè¯æ²¡é—®é¢˜ä¹‹åï¼Œé‡å¯Nginx\nsudo systemctl restart nginx å¦‚æœå¯åŠ¨å¤±è´¥ï¼Œæ‰§è¡Œä»¥ä¸‹2ä¸ªå‘½ä»¤æ’æŸ¥é”™è¯¯åŸå› \nsudo systemctl status nginx.service journalctl -xe nginxé»˜è®¤æ—¥å¿—è·¯å¾„ä¸º/var/log/nginx/access.logå’Œ/var/log/nginx/error.log,ä¹Ÿå¯ä»¥é€šè¿‡nginxæ—¥å¿—æ’æŸ¥é—®é¢˜\nå®‰è£…wordpress ä¸Šé¢æ­¥éª¤ä¸€åˆ‡é¡ºåˆ©çš„è¯ï¼Œæ¥ä¸‹æ¥å°±åˆ°äº†å®‰è£…wordpressçš„ç¯èŠ‚äº†ï¼Œæ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥ä»¥ä¸‹åœ°å€ï¼Œå…¶ä¸­107.173.87.238æ˜¯æˆ‘æœºå™¨çš„ipï¼Œ80æ˜¯nginx httpçš„ç«¯å£,æ›¿æ¢ä¸ºè‡ªå·±çš„ipå³å¯\nhttp://107.173.87.238/wp-admin/install.php è¿›å…¥å®‰è£…é¡µé¢ï¼Œè¯­è¨€é€‰æ‹©ç®€ä½“ä¸­æ–‡\nè¾“å…¥å¿…è¦ä¿¡æ¯ä¹‹åè¿›è¡Œå®‰è£…ï¼Œå¯†ç å¯ä»¥è‡ªå®šä¹‰ï¼Œä¹Ÿå¯ä»¥ç”¨wpç”Ÿæˆçš„å¼ºå¯†ç \nä¹‹åè¿›è¡Œç™»å½•ï¼Œå°±ä¼šè¿›å…¥wordpressç®¡ç†åå°ï¼Œè£…ä¿®è‡ªå·±çš„ç½‘ç«™äº†\né…ç½®ssl ä¸Šè¿°æ­¥éª¤ä½¿ç”¨nginx+wordprss+mysqlå®‰è£…å¥½äº†wordpressï¼Œå·²ç»å¯ä»¥è®¿é—®äº†ã€‚\nä¸ºäº†ç½‘ç«™å®‰å…¨æ€§ä»¥åŠéšè—æœåŠ¡å™¨ipï¼Œä¸‹é¢ä¸ºæˆ‘ä»¬çš„ç½‘ç«™é…ç½®sslä»¥åŠåŸŸåè§£æã€‚\né…ç½®ssä¹‹åï¼Œæ‰€æœ‰çš„è¯·æ±‚éƒ½ä¼šèµ°httpsï¼Œå®‰å…¨ä¼šä¼šå¾—åˆ°å¾ˆå¤§çš„æé«˜ï¼Œé€šè¿‡åŸŸåè®¿é—®ï¼Œä¹Ÿä¼šæ˜¾å¾—æ›´åŠ çš„ä¸“ä¸šï¼Œä»¥åŠä¿æŠ¤æˆ‘ä»¬çš„æœåŠ¡å™¨çš„ipï¼Œå‡\nå°‘è¢«é»‘çš„é£é™©ã€‚é…åŸŸåç›¸æ¯”ipä¹Ÿæ¯”ipæ›´å®¹æ˜“è®°ä¸€ç‚¹ã€‚\nå‰ç½®ä¾èµ– ä¸€ä¸ªå±äºä½ çš„åŸŸåï¼ŒåŸŸåéœ€è¦è´­ä¹°ï¼Œä¾¿å®œçš„æ¯”å¦‚godaddyä¸Š10å—ï¼Œ20å—å·¦å³å°±èƒ½ä¹°åˆ°ä¸€ä¸ªåŸŸåäº†ã€‚å…¶ä»–çš„google,namecheapä¹‹ç±»çš„ä¹Ÿèƒ½ä¹°åˆ°ã€‚ ä¸€ä¸ªdnsè§£æå™¨ï¼Œå°†åŸŸåè§£æåˆ°æœåŠ¡å™¨ipã€‚ä¸€èˆ¬åŸŸåå‚å•†éƒ½æœ‰è¿™ä¸ªåŠŸèƒ½ã€‚ æˆ‘ä¸ªäººæ¯”è¾ƒå–œæ¬¢cloudflareï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œå›½é™…çŸ¥åå¤§å‚ï¼Œä¸ªäººå…è´¹ï¼Œè¿˜å¥½ä½¿ï¼Œæ”¯æŒä¸­æ–‡ï¼Œè¿˜èƒ½ç”Ÿæˆå…è´¹çš„sslè¯ä¹¦ã€‚\næ¥ä¸‹æ¥ä»¥cloudflareä¸ºä¾‹ï¼Œä»‹ç»å¦‚ä½•é…ç½®åŸŸåè§£æï¼Œç”Ÿæˆsslè¯ä¹¦ï¼Œä»¥åŠNginxå¦‚ä½•é…ç½®sslã€‚\nç”Ÿæˆsslè¯ä¹¦ æ²¡è´¦å·çš„å¯ä»¥å…ˆæ³¨å†Œä¸€ä¸ªcloudflareè´¦å·ï¼Œç”¨é‚®ç®±æ³¨å†Œã€‚\næ‰“å¼€cloudflareæ§åˆ¶å°ï¼Œéœ€è¦å…ˆå°†åŸŸåæ‰˜ç®¡åˆ°cloudflareï¼Œæ‰èƒ½é…ç½®åŸŸåè§£æã€‚å…¶ä»–å‚å•†è‡ªè¡Œæœç´¢è§£å†³ã€‚\né€‰ä¸­è¦é…ç½®è§£æçš„åŸŸåï¼Œæ‰“å¼€å·¦ä¾§çš„SSL/TLSï¼Œé€‰ä¸­æºæœåŠ¡å™¨ï¼Œå³ä¾§ç‚¹å‡»åˆ›å»ºè¯ä¹¦ã€‚è¿™ä¸ªè¯ä¹¦æ˜¯ç”¨æ¥å®‰è£…åˆ°æœåŠ¡å™¨ä¸Šçš„ã€‚\nè¿›å…¥åˆ›å»ºé¡µé¢ï¼Œä¼šæœ‰ä¸€äº›é€‰é¡¹ï¼Œé»˜è®¤å³å¯ã€‚ä¸»æœºåå¯¹åº”nginx server{}å—é‡Œçš„server_nameï¼Œå¯ä»¥è‡ªå®šä¹‰ï¼Œåˆ›å»ºè¯ä¹¦çš„æ—¶å€™å’ŒæœåŠ¡å™¨ä¸Šé…\nç½®çš„server_nameä¿æŒä¸€è‡´å³å¯ã€‚æ”¯æŒé€šé…ç¬¦ã€‚è¯ä¹¦æœ‰æ•ˆæœŸæœ€é•¿æ˜¯15å¹´ï¼Œå¤Ÿç”¨äº†ã€‚\nç‚¹å‡»åˆ›å»ºä¹‹åï¼Œä¼šç”Ÿæˆä¸€ä¸ªkeyå’Œpemæ–‡ä»¶ã€‚keyå’Œpeméƒ½æ˜¯è¦ä¿å­˜ä¸‹æ¥æ”¾åˆ°æœåŠ¡å™¨ä¸Šçš„ã€‚\nç§é’¥åªæœ‰è¿™ä¸€æ¬¡æœºä¼šå¯ä»¥å¤åˆ¶ï¼Œå…³é—­è¿™ä¸ªé¡µé¢ä¹‹åå°±æ‰¾ä¸åˆ°äº†ï¼Œæ‰€ä»¥ç§é’¥éœ€è¦å¦¥å–„ä¿ç®¡ï¼Œä¸¢å¤±æˆ–è€…é—å¿˜åªèƒ½é‡æ–°åˆ›å»ºè¯ä¹¦äº†ã€‚\nå’Œç§é’¥ä¸åŒï¼Œpemæ–‡ä»¶ä¹‹åè¿˜å¯ä»¥ä¸‹è½½ã€‚\nå°†æºè¯ä¹¦å†…å®¹å¤åˆ¶ï¼Œç²˜è´´åˆ°xxx.pemæ–‡ä»¶é‡Œã€‚\nå°†ç§é’¥å¤åˆ¶ï¼Œç²˜è´´åˆ°xxx.keyé‡Œã€‚\nç‚¹å‡»ç¡®å®šä¹‹åï¼Œä¼šå›åˆ°è¯ä¹¦é¡µé¢ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œåªèƒ½ä¸‹è½½pemæ–‡ä»¶ï¼Œkeyæ–‡ä»¶è¢«éšè—ï¼Œæ— æ³•ä¸‹è½½ä¸è®¿é—®äº†\nnginxé…ç½®å¼ºåˆ¶è·³è½¬https å‰é¢å‡ æ­¥ï¼Œæˆ‘ä»¬ç›‘å¬äº†80ç«¯å£ï¼Œè¿™æ˜¯Nginxçš„httpæ¥å£ï¼Œç°åœ¨æˆ‘ä»¬è¦ç›‘å¬443ç«¯å£(https)ï¼Œå°†80ç«¯å£çš„è¯·æ±‚å¼ºåˆ¶è·³è½¬åˆ°443ç«¯å£ã€‚\né¦–å…ˆè¿›å…¥/etc/nginx/config.d/ç›®å½•ï¼Œå°†wp.confé‡å‘½åä¸ºwp.conf.bakï¼Œè¿™æ ·åŸå…ˆçš„æ–‡ä»¶å°±ä¸ç”Ÿæ•ˆäº†ã€‚\nç„¶åæ‰§è¡Œtouch wp.confï¼Œé‡æ–°ç”Ÿæˆç©ºç™½çš„wp.confæ–‡ä»¶\ncd /etc/nginx/config.d mv wp.conf wp.conf.bak touch wp.conf ç„¶åå°†ä¸‹æ–¹çš„é…ç½®æ–‡ä»¶ä¿®æ”¹åç²˜è´´åˆ°wp.confé‡Œ\næœ‰å¦‚ä¸‹å‡ æ¬¡åœ°æ–¹éœ€è¦æ”¹æˆä½ è‡ªå·±çš„é…ç½®\n2ä¸ªserverå—é‡Œçš„server_nameï¼Œè¿™ä¸ªåœ°æ–¹è¦é…ç½®ä¸ºä¸Šä¸€æ­¥åˆ›å»ºè¯ä¹¦æ—¶é€‰æ‹©çš„ä¸»æœºåï¼Œæˆ‘è¿™é‡Œè¦ä¿æŠ¤çš„æ˜¯ä¸‰çº§åŸŸåï¼Œç¬¦åˆé€šé…æ¡ä»¶ è®°å¾—å°†ssl_certificateå’Œssl_certificate_keyçš„ä½ç½®é…ç½®æ­£ç¡® è¿™ä¸ªåŸŸåçš„æ—¥å¿—é‡æ–°å†™åˆ°æ–°çš„æ–‡ä»¶åäº†ï¼ŒæŒ‰éœ€æ”¾å¼€æˆ–è€…æ³¨é‡Šæ‰ å…¶ä»–çš„é…ç½®å’Œä¹‹å‰80çš„é…ç½®ä¸€è‡´ï¼Œæ²¡æœ‰æ”¹åŠ¨\n# Redirect HTTP -\u003e HTTPS server { listen 80; server_name www.racknerd.thend03.com racknerd.thend03.com; return 301 https://$host$request_uri; } server{ listen 443 ssl http2; server_name www.racknerd.thend03.com racknerd.thend03.com; root /opt/wordpress; index index.php index.html; # SSL parameters ssl_certificate /root/thend03.com.pem; ssl_certificate_key /root/thend03.com.key; # log files access_log /var/log/nginx/resource.thend03.com.access.log; error_log /var/log/nginx/resource.thend03.com.error.log; location = /favicon.ico { log_not_found off; access_log off; } location = /robots.txt { allow all; log_not_found off; access_log off; } location / { try_files $uri $uri/ /index.php?$args; } location ~ \\.php$ { include snippets/fastcgi-php.conf; fastcgi_pass unix:/run/php/php7.4-fpm.sock; } location ~* \\.(js|css|png|jpg|jpeg|gif|ico|svg)$ { expires max; log_not_found off; } } åœ¨æœåŠ¡å™¨ç”Ÿæˆè¯ä¹¦ åŸºäºä¸Šé¢nginxè¯ä¹¦çš„è·¯å¾„é…ç½®ï¼Œåœ¨/rootç›®å½•ç”Ÿæˆkeyå’Œpemè¯ä¹¦,å¹¶ä¸”ç¼–è¾‘æ–‡ä»¶ï¼Œå°†åœ¨cloudflareé¡µé¢ä¸Šç”Ÿæˆçš„keyå’Œpemå­—ç¬¦ä¸²å¤åˆ¶åˆ°å¯¹åº”çš„æ–‡ä»¶é‡Œã€‚\nroot@racknerd-7c9c56:/etc/nginx/conf.d# cd /root root@racknerd-7c9c56:~# touch thend03.com.pem root@racknerd-7c9c56:~# touch thend03.com.key root@racknerd-7c9c56:~# vi thend03.com.pem root@racknerd-7c9c56:~# vi thend03.com.key é‡å¯nginx é…ç½®å¥½nginx 443é…ç½®æ–‡ä»¶åï¼Œæ‰§è¡Œå‘½ä»¤é‡å¯nginx\nroot@racknerd-7c9c56:~# sudo systemctl restart nginx cloudflareé…ç½®åŸŸåè§£æ nginxå¤„ç†å¥½ä¹‹åï¼Œå›åˆ°cloudflareé¡µé¢ï¼Œé…ç½®åŸŸååˆ°ipçš„è§£æï¼Œæ·»åŠ ä¸€æ¡Aè®°å½•ï¼Œå°±å¯ä»¥åœ¨è®¿é—®åŸŸåçš„æ—¶å€™è¯·æ±‚åˆ°åç«¯æœåŠ¡å™¨ã€‚\næ·»åŠ å¥½ä¹‹åï¼Œåœ¨åŸŸåç®¡ç†é‚£å¯ä»¥çœ‹åˆ°æœ€æ–°æ·»åŠ çš„è§£æè®°å½•\né…ç½®ssl/tlså®¢æˆ·ç«¯ç­–ç•¥ æ‰“å¼€SSL/TLSæ¦‚è¿°ï¼Œè®¾ç½®ä¸‹å®¢æˆ·ç«¯ç­–ç•¥ï¼Œè¿™é‡Œé€‰æ‹©ç«¯åˆ°ç«¯ï¼ŒåŠ å¯†ç­‰çº§æ¯”è¾ƒé«˜ï¼Œå¹¶ä¸”æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯è‡ªç­¾åçš„è¯ä¹¦\næµè§ˆå™¨è®¿é—® è§£æé…ç½®å¥½ä¹‹åï¼Œå°±æ˜¯æµè§ˆå™¨ä½¿ç”¨åŸŸåè®¿é—®äº†ã€‚\nè®¿é—®wp-adminç®¡ç†åå°ï¼Œè¿™æ—¶ä¼šè·³è½¬åˆ°ipï¼Œéœ€è¦æˆ‘ä»¬ç™»å½•è¿›å»ä¹‹åè®¾ç½®ä¸€ä¸‹\nå¯ä»¥çœ‹åˆ°åŸŸåè·³è½¬åˆ°äº†ip\næ‰“å¼€è®¾ç½®ï¼Œå¯ä»¥çœ‹åˆ°ç°åœ¨çš„ç«™ç‚¹è¿˜æ˜¯ipçš„æ–¹å¼ã€‚éœ€è¦ä¿®æ”¹ä¸ºåŸŸåã€‚\nå†æ¬¡ç™»å½•ï¼Œåœ°å€æ å°±è¿˜æ˜¯åŸŸåï¼Œæ²¡æœ‰å˜æˆipã€‚ä»¥åéƒ½å¯ä»¥ç”¨åŸŸåçš„æ–¹å¼è®¿é—®äº†ã€‚\nè‡³æ­¤ï¼Œwordpressçš„æ‰‹åŠ¨éƒ¨ç½²å°±å‘Šä¸€æ®µè½äº†ã€‚åç»­å†ä»‹ç»å®å¡”é¢æ¿ï¼Œdocker,docker-composeä¹‹ç±»çš„å®‰è£…éƒ¨ç½²ã€‚\nä»¥åŠå¦‚ä½•é€‰æ‹©æ¨¡æ¿æ­å»ºè‡ªå·±çš„ç›®æ ‡ç«™ã€‚\nå‚è€ƒé“¾æ¥ wordpress+postgresql\npg4wp plugin\ndebianå®‰è£…php8.1\nubuntuå®‰è£…mysql\ndebianå®‰è£…mysql\nubuntu18.04å®‰è£…wordpress\nnginx+wordpress sslé…ç½®\nwordpressç»å…¸äº”æ­¥å®‰è£…æ³•\n","wordCount":"8491","inLanguage":"zh","datePublished":"2023-12-12T08:43:49+08:00","dateModified":"2023-12-12T08:43:49+08:00","author":{"@type":"Person","name":"since"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.thend03.com/posts/install-wordpress-on-ubuntu22.04/"},"publisher":{"@type":"Organization","name":"Fayy\u0026Fc's Blog","logo":{"@type":"ImageObject","url":"https://blog.thend03.com/img/logo.jpg"}}}</script></head><body id=top><script>(function(){let e,t=new RegExp("(^| )change-themes=([^;]*)(;|$)");(e=document.cookie.match(t))||((new Date).getHours()>=19||(new Date).getHours()<6?(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark")):(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")))})(),localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.thend03.com/ accesskey=h title="fayy&amp;fc (Alt + H)"><img src=https://blog.thend03.com/img/logo.jpg alt=logo aria-label=logo height=35>fayy&amp;fc</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li></ul></div></div><ul id=menu><li><a href=https://blog.thend03.com/search title="ğŸ” æœç´¢ (Alt + /)" accesskey=/><span>ğŸ” æœç´¢</span></a></li><li><a href=https://blog.thend03.com/ title="ğŸ  ä¸»é¡µ"><span>ğŸ  ä¸»é¡µ</span></a></li><li><a href=https://blog.thend03.com/archives/ title="â±ï¸ å½’æ¡£"><span>â±ï¸ å½’æ¡£</span></a></li><li><a href=https://blog.thend03.com/tags title="ğŸ§© æ ‡ç­¾"><span>ğŸ§© æ ‡ç­¾</span></a></li><li><a href=https://blog.thend03.com/about title="ğŸ™‹ğŸ»â€â™‚ï¸ å…³äº"><span>ğŸ™‹ğŸ»â€â™‚ï¸ å…³äº</span></a></li><li><a href=https://blog.thend03.com/links title="ğŸ¤ å‹é“¾"><span>ğŸ¤ å‹é“¾</span></a></li></ul></nav></header><main class="main page"><style>i[id*=post_meta_style]{display:flex;align-items:center;margin:0 0 10px}</style><article class=post-single><div id=single-content><header class=post-header><div class=breadcrumbs><a href=https://blog.thend03.com/>ğŸ  ä¸»é¡µ</a>&nbsp;Â»&nbsp;<a href=https://blog.thend03.com/posts/>ğŸ“šæ–‡ç« </a></div><h1 class=post-title>Ubuntu22.04å®‰è£…wordpress</h1><div class=post-description>å¦‚ä½•åœ¨ubuntu22.04ä¸Šå®‰è£…wordpress</div><div class=post-meta><style>i[id*=post_meta_style]{display:flex;align-items:center;margin:0 0 10px}.parent-post-meta{display:flex;flex-wrap:wrap;opacity:.8}</style><span class=parent-post-meta><span id=post_meta_style_1><span class="fa fa-calendar-check-o"></span>
<span>2023-12-12
&nbsp;&nbsp;
</span></span><span id=post_meta_style_3><span class="fa fa-file-word-o"></span>
<span>8491å­—
&nbsp;&nbsp;
</span></span><span id=post_meta_style_4><span class="fa fa-clock-o"></span>
<span>17åˆ†é’Ÿ
&nbsp;&nbsp;
</span></span><span id=post_meta_style_5><span class="fa fa-user-o"></span>
<span>since
&nbsp;&nbsp;
</span></span><span id=post_meta_style_6><span class="fa fa-tags" style=opacity:.8></span>
<span><span class=post-tags-meta><a href=https://blog.thend03.com/tags/wordpress/ style=color:var(--secondary)!important>Wordpress</a>
</span></span></span></span><span style=opacity:.8><span id=post_meta_style_7>&nbsp;&nbsp;
<span class="fa fa-eye"></span>
<span><span id=busuanzi_container_page_pv><span id=busuanzi_value_page_pv></span></span>
&nbsp;&nbsp;
</span></span><span id=post_meta_style_8><span class="fa fa-commenting-o"></span>
<span><script src=https://cdn.staticfile.org/twikoo/1.5.8/twikoo.all.min.js></script><script>let url=document.documentURI,dnsUrl="https://blog.thend03.com/",urlSplit=url.split(dnsUrl),finalUrl=urlSplit[1];finalUrl[0]!=="/"&&(finalUrl="/"+finalUrl),twikoo.getCommentsCount({envId:null,region:null,urls:[finalUrl],includeReply:!1}).then(function(e){let t=e[0].count;const n=document.getElementById("comment_count");n.innerText=t}).catch(function(e){console.error(e)})</script><span id=comment_count></span></span></span></span></div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>ç›®å½•</span></summary><div class=inner><ul><li><a href=#%e5%89%8d%e8%a8%80 aria-label=å‰è¨€>å‰è¨€</a></li><li><a href=#%e9%81%87%e5%88%b0%e7%9a%84%e5%9d%91 aria-label=é‡åˆ°çš„å‘>é‡åˆ°çš„å‘</a><ul><li><a href=#php%e7%89%88%e6%9c%ac%e8%bf%87%e9%ab%98%e7%9a%84%e9%97%ae%e9%a2%98 aria-label=phpç‰ˆæœ¬è¿‡é«˜çš„é—®é¢˜>phpç‰ˆæœ¬è¿‡é«˜çš„é—®é¢˜</a></li><li><a href=#%e5%ae%89%e8%a3%85%e6%96%87%e6%a1%a3%e7%bc%ba%e5%a4%b1%e5%85%b3%e9%94%ae%e6%ad%a5%e9%aa%a4 aria-label=å®‰è£…æ–‡æ¡£ç¼ºå¤±å…³é”®æ­¥éª¤>å®‰è£…æ–‡æ¡£ç¼ºå¤±å…³é”®æ­¥éª¤</a></li><li><a href=#%e6%96%87%e4%bb%b6%e6%9d%83%e9%99%90%e9%97%ae%e9%a2%98 aria-label=æ–‡ä»¶æƒé™é—®é¢˜>æ–‡ä»¶æƒé™é—®é¢˜</a></li></ul></li><li><a href=#%e5%89%8d%e7%bd%ae%e4%be%9d%e8%b5%96 aria-label=å‰ç½®ä¾èµ–>å‰ç½®ä¾èµ–</a></li><li><a href=#%e6%89%8b%e5%8a%a8%e5%ae%89%e8%a3%85 aria-label=æ‰‹åŠ¨å®‰è£…>æ‰‹åŠ¨å®‰è£…</a><ul><li><a href=#%e6%9b%b4%e6%96%b0%e7%b3%bb%e7%bb%9f aria-label=æ›´æ–°ç³»ç»Ÿ>æ›´æ–°ç³»ç»Ÿ</a></li><li><a href=#%e5%ae%89%e8%a3%85nginx aria-label=å®‰è£…nginx>å®‰è£…nginx</a></li><li><a href=#%e5%ae%89%e8%a3%85mysql aria-label=å®‰è£…MySQL>å®‰è£…MySQL</a><ul><li><a href=#%e5%ae%89%e8%a3%85%e6%ad%a5%e9%aa%a4 aria-label=å®‰è£…æ­¥éª¤>å®‰è£…æ­¥éª¤</a></li><li><a href=#%e5%88%9b%e5%bb%bawordpress%e6%95%b0%e6%8d%ae%e5%ba%93 aria-label=åˆ›å»ºwordpressæ•°æ®åº“>åˆ›å»ºwordpressæ•°æ®åº“</a></li><li><a href=#%e5%ae%89%e5%85%a8%e9%85%8d%e7%bd%ae%e5%8f%af%e9%80%89 aria-label=å®‰å…¨é…ç½®(å¯é€‰)>å®‰å…¨é…ç½®(å¯é€‰)</a></li></ul></li><li><a href=#%e5%ae%89%e8%a3%85php aria-label=å®‰è£…php>å®‰è£…php</a></li><li><a href=#%e4%b8%8b%e8%bd%bdwordpress aria-label=ä¸‹è½½wordpress>ä¸‹è½½wordpress</a><ul><li><a href=#%e5%ae%89%e8%a3%85%e5%8c%85%e4%b8%8b%e8%bd%bd%e6%96%b9%e5%bc%8f aria-label=å®‰è£…åŒ…ä¸‹è½½æ–¹å¼>å®‰è£…åŒ…ä¸‹è½½æ–¹å¼</a></li><li><a href=#%e8%a7%a3%e5%8e%8b%e5%ae%89%e8%a3%85%e5%8c%85 aria-label=è§£å‹å®‰è£…åŒ…>è§£å‹å®‰è£…åŒ…</a></li><li><a href=#%e4%bf%ae%e6%94%b9wordpress%e7%94%a8%e6%88%b7%e7%bb%84%e5%92%8c%e6%9d%83%e9%99%90 aria-label=ä¿®æ”¹wordpressç”¨æˆ·ç»„å’Œæƒé™>ä¿®æ”¹wordpressç”¨æˆ·ç»„å’Œæƒé™</a></li><li><a href=#%e7%94%9f%e6%88%90wp-configphp aria-label=ç”Ÿæˆwp-config.php>ç”Ÿæˆwp-config.php</a></li></ul></li><li><a href=#%e9%85%8d%e7%bd%aenginx aria-label=é…ç½®nginx>é…ç½®nginx</a><ul><li><a href=#%e8%87%aa%e5%ae%9a%e4%b9%89wordpress%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6 aria-label=è‡ªå®šä¹‰wordpressé…ç½®æ–‡ä»¶>è‡ªå®šä¹‰wordpressé…ç½®æ–‡ä»¶</a></li><li><a href=#%e5%88%a0%e9%99%a4default%e9%85%8d%e7%bd%ae aria-label=åˆ é™¤defaulté…ç½®>åˆ é™¤defaulté…ç½®</a></li><li><a href=#%e7%a1%ae%e8%ae%a4nginx-worker%e7%9a%84%e7%94%a8%e6%88%b7 aria-label="ç¡®è®¤nginx workerçš„ç”¨æˆ·">ç¡®è®¤nginx workerçš„ç”¨æˆ·</a></li><li><a href=#%e9%aa%8c%e8%af%81%e9%85%8d%e7%bd%ae aria-label=éªŒè¯é…ç½®>éªŒè¯é…ç½®</a></li><li><a href=#%e9%87%8d%e5%90%afnginx aria-label=é‡å¯Nginx>é‡å¯Nginx</a></li></ul></li><li><a href=#%e5%ae%89%e8%a3%85wordpress aria-label=å®‰è£…wordpress>å®‰è£…wordpress</a></li><li><a href=#%e9%85%8d%e7%bd%aessl aria-label=é…ç½®ssl>é…ç½®ssl</a><ul><li><a href=#%e5%89%8d%e7%bd%ae%e4%be%9d%e8%b5%96-1 aria-label=å‰ç½®ä¾èµ–>å‰ç½®ä¾èµ–</a></li><li><a href=#%e7%94%9f%e6%88%90ssl%e8%af%81%e4%b9%a6 aria-label=ç”Ÿæˆsslè¯ä¹¦>ç”Ÿæˆsslè¯ä¹¦</a></li><li><a href=#nginx%e9%85%8d%e7%bd%ae%e5%bc%ba%e5%88%b6%e8%b7%b3%e8%bd%achttps aria-label=nginxé…ç½®å¼ºåˆ¶è·³è½¬https>nginxé…ç½®å¼ºåˆ¶è·³è½¬https</a></li><li><a href=#%e5%9c%a8%e6%9c%8d%e5%8a%a1%e5%99%a8%e7%94%9f%e6%88%90%e8%af%81%e4%b9%a6 aria-label=åœ¨æœåŠ¡å™¨ç”Ÿæˆè¯ä¹¦>åœ¨æœåŠ¡å™¨ç”Ÿæˆè¯ä¹¦</a></li><li><a href=#%e9%87%8d%e5%90%afnginx-1 aria-label=é‡å¯nginx>é‡å¯nginx</a></li><li><a href=#cloudflare%e9%85%8d%e7%bd%ae%e5%9f%9f%e5%90%8d%e8%a7%a3%e6%9e%90 aria-label=cloudflareé…ç½®åŸŸåè§£æ>cloudflareé…ç½®åŸŸåè§£æ</a></li><li><a href=#%e9%85%8d%e7%bd%aessltls%e5%ae%a2%e6%88%b7%e7%ab%af%e7%ad%96%e7%95%a5 aria-label=é…ç½®ssl/tlså®¢æˆ·ç«¯ç­–ç•¥>é…ç½®ssl/tlså®¢æˆ·ç«¯ç­–ç•¥</a></li><li><a href=#%e6%b5%8f%e8%a7%88%e5%99%a8%e8%ae%bf%e9%97%ae aria-label=æµè§ˆå™¨è®¿é—®>æµè§ˆå™¨è®¿é—®</a></li></ul></li></ul></li><li><a href=#%e5%8f%82%e8%80%83%e9%93%be%e6%8e%a5 aria-label=å‚è€ƒé“¾æ¥>å‚è€ƒé“¾æ¥</a></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{elements&&(activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")}))},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><h2 id=å‰è¨€>å‰è¨€<a hidden class=anchor aria-hidden=true href=#å‰è¨€>#</a></h2><p>æœ€è¿‘åœ¨ç ”ç©¶å»ºç«™çš„äº‹æƒ…ï¼Œwordpressä¸è®ºä»ä¿æœ‰é‡è¿˜æ˜¯ç”Ÿæ€ä¸°å¯Œçš„å±‚é¢ï¼Œå¹¶ä¸”ä½œä¸ºä¸€ä¸ªè€ç‰Œçš„å¼€æºç³»ç»Ÿï¼Œè§£å†³æ–¹æ¡ˆéå¸¸ä¸°å¯Œï¼Œæ‰€ä»¥æˆ‘æ‰“</p><p>ç®—ä½¿ç”¨wordpressä½œä¸ºå»ºç«™å·¥å…·ï¼Œç ”ç©¶ä¸‹å¦‚ä½•ä½¿ç”¨wordpresså»ºç«™ã€‚</p><p>ç ”ç©¶è¿‡ç¨‹ä¸­è¸©äº†ä¸å°‘çš„å‘ï¼Œè®°å½•ä¸‹ï¼Œæä¾›ä¸‹ç®€æ´æ˜äº†å¯ç”¨çš„å®‰è£…è¿‡ç¨‹ã€‚</p><h2 id=é‡åˆ°çš„å‘>é‡åˆ°çš„å‘<a hidden class=anchor aria-hidden=true href=#é‡åˆ°çš„å‘>#</a></h2><h3 id=phpç‰ˆæœ¬è¿‡é«˜çš„é—®é¢˜>phpç‰ˆæœ¬è¿‡é«˜çš„é—®é¢˜<a hidden class=anchor aria-hidden=true href=#phpç‰ˆæœ¬è¿‡é«˜çš„é—®é¢˜>#</a></h3><p>æœ¬æ¥ä¹°çš„1c1gçš„å°æ°´ç®¡æœºå™¨ï¼Œä¸ºäº†èŠ‚çº¦æœºå™¨ï¼Œæ‰“ç®—ä½¿ç”¨å…è´¹çš„æ•°æ®åº“äº‘æœåŠ¡ã€‚</p><p>æ‰¾åˆ°äº†2ä¸ªäº§å“ï¼Œåˆ†åˆ«çš„plantscaleå’Œsupabaseï¼Œç¬¬ä¸€ä¸ªæ˜¯mysqlçš„äº‘æœåŠ¡ï¼Œä½†æ˜¯è¦ç»‘ä¿¡ç”¨å¡ï¼Œå°±æ”¾å¼ƒäº†ã€‚ç¬¬äºŒä¸ªæ˜¯postgressql,å…è´¹çš„æœåŠ¡ï¼Œä¸éœ€è¦ç»‘å®šä¿¡ç”¨å¡ï¼Œæ‰€ä»¥å°±æ³¨å†Œäº†ä¸€ä¸ªpgåº“ã€‚</p><p>æˆ‘åœ¨å†²æµªçš„æ—¶å€™çœ‹åˆ°åˆ«äººä¹Ÿæ¨èpgï¼Œå ç”¨èµ„æºå°‘ï¼Œæ€§èƒ½æ›´å¥½ï¼Œæ‰€ä»¥æˆ‘ä¹Ÿå€¾å‘äºä½¿ç”¨</p><p>ç„¶åç£¨äººçš„å°±æ¥äº†ï¼Œç”±äºwordpressåŸç”Ÿåªæ”¯æŒMySQLï¼Œæƒ³ä½¿ç”¨pgå°±å¾—æ‰¾ä¸ªæ’ä»¶ï¼Œè¿™ä¸€æ­¥å°±æ‰å‘é‡Œäº†ï¼Œæˆ‘å†²æµªçš„æ—¶å€™å‘ç°pg4wpè¿™ä¸ªæ’</p><p>ä»¶æœ€æ–°ç‰ˆéœ€è¦php8.1ä»¥ä¸Šï¼Œç„¶åå®‰è£…è¿™ä¸ªæ’ä»¶ä¹‹åå„ç§è¿æ¥è¶…æ—¶ï¼Œæƒé™é—®é¢˜ï¼Œæˆ‘æ˜¯çœŸçš„è¢«æŠ˜ç£¨çš„æœ‰ç‚¹æƒ¨ã€‚</p><p>é€šè¿‡Nginxè®¿é—®wp-admin/install.phpï¼ŒæŠ¥é”™connection timeoutï¼Œå„ç§æœç´¢è§£å†³ä¸äº†ã€‚åæ¥çµæœºä¸€åŠ¨ï¼ŒæŠŠpg4wpæ’ä»¶æŒªèµ°ï¼Œphpç‰ˆæœ¬ä»</p><p>8.2é™åˆ°7.4å°±å¥½äº†ã€‚ã€‚ã€‚ã€‚</p><p>å˜¿ï¼Œæœç„¶å®‰è£…è¿˜æ˜¯æŒ‰ç…§æ–‡æ¡£æ¥ï¼Œåˆ‡å¿Œä¸€ä¸Šæ¥å°±æƒ³æ³•æ¯”è¾ƒå¤šï¼Œä½¿ç”¨å…¶ä»–æœ€æ–°çš„ç»„ä»¶ï¼Œæ¯”å¦‚pgã€‚</p><p><em><strong>å„ç§403ï¼Œ404ï¼Œ502ï¼Œ504ï¼Œæœéè‹±æ–‡ç½‘ç«™æ‰¾ä¸åˆ°ç»“æœï¼Œè¯•äº†åˆè¯•ï¼Œé”™è¯¯ä¾æ—§ï¼Œç»æœ›ï¼Œæˆ‘éƒ½æœ‰ç‚¹æ€€ç–‘è‡ªå·±äº†ã€‚</strong></em></p><p>wordpress6.4.2è¦æ±‚php7.4+ï¼Œä½†æ˜¯pg4wpè¦æ±‚php8.1+ï¼Œè™½ç„¶ä¸€èˆ¬ä¼šç‰ˆæœ¬å‘ä¸‹å…¼å®¹ï¼Œä½†æ˜¯ä¸å…¼å®¹çš„äº‹è¿˜æ˜¯è¢«æˆ‘é‡åˆ°äº†,çœ‹pg4wpçš„</p><p>readmeï¼Œåœ¨6.4.1ä¸Šé€šè¿‡äº†å…¼å®¹æ€§æµ‹è¯•ï¼Œ6.4.2å°±å¤šäº†ä¸€ä¸ªå°ç‰ˆæœ¬ï¼ŒçœŸçš„æ˜¯ã€‚</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202312122220460.png alt=image-20231212222005424></p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202312142225048.png alt=image-20231214222557896></p><h3 id=å®‰è£…æ–‡æ¡£ç¼ºå¤±å…³é”®æ­¥éª¤>å®‰è£…æ–‡æ¡£ç¼ºå¤±å…³é”®æ­¥éª¤<a hidden class=anchor aria-hidden=true href=#å®‰è£…æ–‡æ¡£ç¼ºå¤±å…³é”®æ­¥éª¤>#</a></h3><p>wordpressæœ‰ä¸€ä¸ªç»å…¸çš„äº”æ­¥å®‰è£…æ³•ï¼Œä½†æ˜¯ç¼ºå°‘äº†ä¸€äº›å…³é”®çš„æè¿°ï¼Œæ¯”å¦‚å¦‚ä½•è®¿é—®install.phpï¼Œæ–‡æ¡£ä»‹ç»æ˜¯ä½¿ç”¨webæœåŠ¡å™¨ï¼Œä½†å…·ä½“æ€ä¹ˆ</p><p>åšæ²¡æœ‰è¯¦ç»†ä»‹ç»ï¼Œå¯¼è‡´æˆ‘è¿›å»å°±æ‰å‘é‡Œäº†ã€‚è¿˜æœ‰ä¸€äº›å…¶ä»–çš„ç»†èŠ‚æ²¡æœ‰è¡¥å……ã€‚</p><p>è€Œä¸”åŸºæœ¬æ˜¯è‹±æ–‡æ–‡æ¡£ï¼Œçœ‹ä¸‹æ¥ç•¥å¾®æœ‰ç‚¹åƒåŠ›ã€‚</p><p>è¿™æ˜¯wordpresså¼€å‘è€…ç½‘ç«™çš„å®‰è£…æ­¥éª¤ï¼Œæˆ‘æœ€éœ€è¦çš„ä¸€æ­¥ï¼Œå¦‚ä½•åœ¨æµè§ˆå™¨é‡Œè®¿é—®install.phpæ²¡å†™ï¼Œè®©ä½ ç”¨webæµè§ˆå™¨å»è®¿é—®ï¼Œç”¨apacheè¿˜</p><p>æ˜¯ç”¨nginxè¿˜æ˜¯åˆ«çš„ï¼Œä¸€ç‚¹éƒ½æ²¡å†™ã€‚</p><p>è‹±æ–‡æ–‡æ¡£çœ‹ä¸‹æ¥è¿˜æ˜¯è¦ç‚¹æ—¶é—´çš„ã€‚</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202312142228755.png alt=image-20231214222836660></p><h3 id=æ–‡ä»¶æƒé™é—®é¢˜>æ–‡ä»¶æƒé™é—®é¢˜<a hidden class=anchor aria-hidden=true href=#æ–‡ä»¶æƒé™é—®é¢˜>#</a></h3><p>ç”±äºæ˜¯ä½¿ç”¨rootç”¨æˆ·ç™»å½•çš„ï¼Œæ‰€ä»¥æˆ‘ç¬¬ä¸€æ¬¡å®‰è£…ç›®å½•æ˜¯/root/wordpressï¼Œnginxè®¿é—®æŠ¥æ–‡ä»¶æƒé™é—®é¢˜ï¼ŒæŒªåˆ°érootç›®å½•nginxè®¿é—®å°±æ­£å¸¸äº†ã€‚</p><p>æ‰€ä»¥çœäº‹èµ·è§ï¼Œwordpressä¸è¦æ”¾åœ¨rootã€‚</p><p>å¦å¤–wordpressç›®å½•çš„ç”¨æˆ·ç»„å’Œç›®å½•æƒé™éœ€è¦ä¸ºwww-data:www-dataå’Œ755ã€‚å…¶ä¸­www-dataæ˜¯php7.4-fpmè¿›ç¨‹çš„ç”¨æˆ·ç»„ã€‚</p><p>æœ¬ç¯‡æ–‡ç« åŠ›æ±‚æŠŠä¸€äº›é…ç½®ï¼Œå…³é”®æ­¥éª¤è§£é‡Šæ¸…æ¥šï¼Œä¸è¸©æ— è°“çš„å‘ã€‚</p><h2 id=å‰ç½®ä¾èµ–>å‰ç½®ä¾èµ–<a hidden class=anchor aria-hidden=true href=#å‰ç½®ä¾èµ–>#</a></h2><p>Wordpressæ˜¯ä¸€ä¸ªæœåŠ¡ï¼Œéœ€è¦æˆ‘ä»¬éƒ¨ç½²æœåŠ¡ä¹‹åå»è®¿é—®wordpressçš„é¡µé¢ï¼Œæœ€å°‘éœ€è¦ä¸€å°æœºå™¨éƒ¨ç½²wordpressæ•´å¥—æœåŠ¡.</p><p>å¦‚æœéœ€è¦ä½¿ç”¨åŸŸåè®¿é—®çš„è¯ï¼Œè¿˜éœ€è¦ä¹°ä¸€ä¸ªåŸŸåï¼Œè§£æåˆ°æˆ‘ä»¬æœºå™¨çš„ipä¸Šæ‰è¡Œã€‚</p><p>wordpressè‡ªèº«éœ€è¦å¦‚ä¸‹çš„ç»„ä»¶</p><ul><li>ä¸€å°linuxæœºå™¨ï¼Œæˆ‘è¿™æ¬¡å®‰è£…çš„æœºå™¨ç‰ˆæœ¬æ˜¯ubuntu222.04</li><li>wordpresså®‰è£…åŒ…ï¼Œåœ¨wordpress.orgä¸‹è½½æœ€æ–°çš„å®‰è£…åŒ…ï¼Œæœ€æ–°ç‰ˆæœ¬æ˜¯6.4.2</li><li>æœºå™¨ä¸Šå®‰è£…äº†phpï¼Œç‰ˆæœ¬æœ€å¥½æ˜¯7.4</li><li>ä¸€ä¸ªå¯ç”¨çš„mysqlæœåŠ¡ï¼Œç‰ˆæœ¬éœ€è¦5.7æˆ–è€…8.0+æˆ–è€…å¯¹åº”ç‰ˆæœ¬çš„mariadb(å’ŒmysqlåŒä¸€ä¸ªä½œè€…)</li><li>æœºå™¨ä¸Šå®‰è£…Nginxï¼Œnginxç‰ˆæœ¬ä¸º1.18.0+</li></ul><p>å¦‚æœéœ€è¦åŸŸåè®¿é—®ï¼Œåˆ™éœ€è¦è´­ä¹°ä¸€ä¸ªåŸŸåï¼Œè´­ä¹°åŸŸåä¹‹åè§£æåˆ°è‡ªå·±çš„linuxæœºå™¨ä¸Š</p><ul><li>è´­ä¹°ä¸€ä¸ªåŸŸå</li><li>å°†åŸŸåè§£æåˆ°linuxæœºå™¨æ‰€åœ¨ip</li></ul><p>ä»¥ä¸‹å°†åŸºäºå¦‚ä¸Šçš„ä¾èµ–æ¡ä»¶ï¼Œé€æ­¥è¿›è¡Œå®‰è£…</p><h2 id=æ‰‹åŠ¨å®‰è£…>æ‰‹åŠ¨å®‰è£…<a hidden class=anchor aria-hidden=true href=#æ‰‹åŠ¨å®‰è£…>#</a></h2><p>å®‰è£…çš„æœºå™¨ç³»ç»Ÿæ˜¯ubuntu22.04ï¼Œ1c1gçš„é…ç½®ï¼Œåœ¨racknerdä¸Šè´­ä¹°çš„ä¸€ä¸ªä½é…æœºå™¨</p><p>ubuntuçš„åŒ…ç®¡ç†å·¥å…·ä¸ºaptï¼Œå¯ä»¥ä½¿ç”¨aptæ‰§è¡Œå®‰è£…ã€æ›´æ–°ã€å¸è½½åº”ç”¨ç­‰åŠŸèƒ½</p><h3 id=æ›´æ–°ç³»ç»Ÿ>æ›´æ–°ç³»ç»Ÿ<a hidden class=anchor aria-hidden=true href=#æ›´æ–°ç³»ç»Ÿ>#</a></h3><p>ç™»å½•æœºå™¨ä¹‹åï¼Œç»ˆç«¯æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼ŒæŸ¥çœ‹ç³»ç»Ÿç‰ˆæœ¬</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>lsb_release -a
</span></span></code></pre></div><p>å¯ä»¥çœ‹åˆ°å¦‚ä¸‹è¾“å‡ºï¼Œç³»ç»Ÿç‰ˆæœ¬ä¸ºubuntu22.04 LTS(é•¿æœŸæ”¯æŒç‰ˆæœ¬)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>
</span></span><span style=display:flex><span>No LSB modules are available.
</span></span><span style=display:flex><span>Distributor ID:	Ubuntu
</span></span><span style=display:flex><span>Description:	Ubuntu 22.04.3 LTS
</span></span><span style=display:flex><span>Release:	22.04
</span></span><span style=display:flex><span>Codename:	jammy
</span></span></code></pre></div><p>ç„¶åæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå…ˆå°†ç³»ç»Ÿçš„åº”ç”¨æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬,å¦‚æœç¼ºå¤±å…¶ä»–çš„åŒ…ï¼Œä½¿ç”¨apt installè¿›è¡Œå®‰è£…å³å¯</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>sudo apt update <span style=color:#f92672>&amp;&amp;</span> sudo apt upgrade
</span></span></code></pre></div><h3 id=å®‰è£…nginx>å®‰è£…nginx<a hidden class=anchor aria-hidden=true href=#å®‰è£…nginx>#</a></h3><p>æˆ‘ä»¬éœ€è¦é€šè¿‡nginxè®¿é—®wordpressé¡µé¢ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å…ˆå®‰è£…ä¸€ä¸ªnginx</p><p>åˆšå®‰è£…çš„ç³»ç»Ÿæ²¡æœ‰è‡ªå¸¦nginxï¼Œç³»ç»Ÿæç¤ºæˆ‘ä»¬å¯ä»¥è‡ªè¡Œå®‰è£…</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>root@racknerd-7c9c56:~# nginx -v
</span></span><span style=display:flex><span>Command &#39;nginx&#39; not found, but can be installed with:
</span></span><span style=display:flex><span>apt install nginx-core    # version 1.18.0-6ubuntu14.4, or
</span></span><span style=display:flex><span>apt install nginx-extras  # version 1.18.0-6ubuntu14.4
</span></span><span style=display:flex><span>apt install nginx-light   # version 1.18.0-6ubuntu14.4
</span></span></code></pre></div><p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å®‰è£…nginx</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>sudo apt install nginx
</span></span></code></pre></div><p>å®‰è£…å®Œä¹‹åæŸ¥çœ‹nginxç‰ˆæœ¬,å¯ä»¥çœ‹åˆ°ä¸æŒ‡å®šç‰ˆæœ¬ï¼Œé»˜è®¤æ˜¯å®‰è£…äº†1.18.0</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>root@racknerd-7c9c56:~# nginx -v
</span></span><span style=display:flex><span>nginx version: nginx/1.18.0 (Ubuntu)
</span></span></code></pre></div><p>æŸ¥çœ‹nginxæœåŠ¡çŠ¶æ€ï¼Œå½“å‰æœåŠ¡çŠ¶æ€æ­£å¸¸</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript3 data-lang=gdscript3><span style=display:flex><span>root<span style=color:#960050;background-color:#1e0010>@</span>racknerd<span style=color:#f92672>-</span><span style=color:#ae81ff>7</span>c9c56:<span style=color:#f92672>~</span><span style=color:#75715e># sudo systemctl status nginx</span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>â—</span> nginx<span style=color:#f92672>.</span>service <span style=color:#f92672>-</span> A high performance web server <span style=color:#f92672>and</span> a reverse proxy server
</span></span><span style=display:flex><span>     Loaded: loaded (<span style=color:#f92672>/</span>lib<span style=color:#f92672>/</span>systemd<span style=color:#f92672>/</span>system<span style=color:#f92672>/</span>nginx<span style=color:#f92672>.</span>service; enabled; vendor preset: enabled)
</span></span><span style=display:flex><span>     Active: active (running) since Tue <span style=color:#ae81ff>2023</span><span style=color:#f92672>-</span><span style=color:#ae81ff>12</span><span style=color:#f92672>-</span><span style=color:#ae81ff>12</span> <span style=color:#ae81ff>13</span>:<span style=color:#ae81ff>20</span>:<span style=color:#ae81ff>47</span> UTC; <span style=color:#ae81ff>3</span>min <span style=color:#ae81ff>15</span>s ago
</span></span><span style=display:flex><span>       Docs: man:nginx(<span style=color:#ae81ff>8</span>)
</span></span><span style=display:flex><span>    Process: <span style=color:#ae81ff>1415</span> ExecStartPre<span style=color:#f92672>=/</span>usr<span style=color:#f92672>/</span>sbin<span style=color:#f92672>/</span>nginx <span style=color:#f92672>-</span>t <span style=color:#f92672>-</span>q <span style=color:#f92672>-</span>g daemon on; master_process on; (code<span style=color:#f92672>=</span>exited, status<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span><span style=color:#f92672>/</span>SUCCESS)
</span></span><span style=display:flex><span>    Process: <span style=color:#ae81ff>1416</span> ExecStart<span style=color:#f92672>=/</span>usr<span style=color:#f92672>/</span>sbin<span style=color:#f92672>/</span>nginx <span style=color:#f92672>-</span>g daemon on; master_process on; (code<span style=color:#f92672>=</span>exited, status<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span><span style=color:#f92672>/</span>SUCCESS)
</span></span><span style=display:flex><span>   Main PID: <span style=color:#ae81ff>1511</span> (nginx)
</span></span><span style=display:flex><span>      Tasks: <span style=color:#ae81ff>2</span> (limit: <span style=color:#ae81ff>1013</span>)
</span></span><span style=display:flex><span>     Memory: <span style=color:#ae81ff>6.3</span>M
</span></span><span style=display:flex><span>        CPU: <span style=color:#ae81ff>50</span>ms
</span></span><span style=display:flex><span>     CGroup: <span style=color:#f92672>/</span>system<span style=color:#f92672>.</span>slice<span style=color:#f92672>/</span>nginx<span style=color:#f92672>.</span>service
</span></span><span style=display:flex><span>             <span style=color:#960050;background-color:#1e0010>â”œâ”€</span><span style=color:#ae81ff>1511</span> <span style=color:#e6db74>&#34;nginx: master process /usr/sbin/nginx -g daemon on; master_process on;&#34;</span>
</span></span><span style=display:flex><span>             <span style=color:#960050;background-color:#1e0010>â””â”€</span><span style=color:#ae81ff>1513</span> <span style=color:#e6db74>&#34;nginx: worker process&#34;</span> <span style=color:#e6db74>&#34;&#34;</span> <span style=color:#e6db74>&#34;&#34;</span> <span style=color:#e6db74>&#34;&#34;</span> <span style=color:#e6db74>&#34;&#34;</span> <span style=color:#e6db74>&#34;&#34;</span> <span style=color:#e6db74>&#34;&#34;</span> <span style=color:#e6db74>&#34;&#34;</span> <span style=color:#e6db74>&#34;&#34;</span> <span style=color:#e6db74>&#34;&#34;</span> <span style=color:#e6db74>&#34;&#34;</span> <span style=color:#e6db74>&#34;&#34;</span> <span style=color:#e6db74>&#34;&#34;</span> <span style=color:#e6db74>&#34;&#34;</span> <span style=color:#e6db74>&#34;&#34;</span> <span style=color:#e6db74>&#34;&#34;</span> <span style=color:#e6db74>&#34;&#34;</span> <span style=color:#e6db74>&#34;&#34;</span> <span style=color:#e6db74>&#34;&#34;</span> <span style=color:#e6db74>&#34;&#34;</span> <span style=color:#e6db74>&#34;&#34;</span> <span style=color:#e6db74>&#34;&#34;</span> <span style=color:#e6db74>&#34;&#34;</span> <span style=color:#e6db74>&#34;&#34;</span> <span style=color:#e6db74>&#34;&#34;</span> <span style=color:#e6db74>&#34;&#34;</span> <span style=color:#e6db74>&#34;&#34;</span> <span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Dec <span style=color:#ae81ff>12</span> <span style=color:#ae81ff>13</span>:<span style=color:#ae81ff>20</span>:<span style=color:#ae81ff>47</span> racknerd<span style=color:#f92672>-</span><span style=color:#ae81ff>7</span>c9c56 systemd[<span style=color:#ae81ff>1</span>]: Starting A high performance web server <span style=color:#f92672>and</span> a reverse proxy server<span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>Dec <span style=color:#ae81ff>12</span> <span style=color:#ae81ff>13</span>:<span style=color:#ae81ff>20</span>:<span style=color:#ae81ff>47</span> racknerd<span style=color:#f92672>-</span><span style=color:#ae81ff>7</span>c9c56 systemd[<span style=color:#ae81ff>1</span>]: Started A high performance web server <span style=color:#f92672>and</span> a reverse proxy server<span style=color:#f92672>.</span>
</span></span></code></pre></div><img src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202312122125209.png alt=image-20231212212504858 style=zoom:50%><h3 id=å®‰è£…mysql>å®‰è£…MySQL<a hidden class=anchor aria-hidden=true href=#å®‰è£…mysql>#</a></h3><p>nginxå®‰è£…å¥½ä¹‹å,æˆ‘ä»¬éœ€è¦å®‰è£…mysqlã€‚ mysqlæ˜¯wordpressé»˜è®¤çš„æ•°æ®åº“ï¼Œå¦‚æœæƒ³å°‘æŠ˜è…¾ï¼Œå®‰è£…mysqlæ˜¯æœ€ç¨³å¦¥çš„æ–¹å¼ã€‚</p><h4 id=å®‰è£…æ­¥éª¤>å®‰è£…æ­¥éª¤<a hidden class=anchor aria-hidden=true href=#å®‰è£…æ­¥éª¤>#</a></h4><p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å®‰è£…mysql</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>sudo apt install mysql-server
</span></span></code></pre></div><p>å®‰è£…å¥½ä¹‹åå¯åŠ¨mysqlæœåŠ¡</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>sudo systemctl start mysql
</span></span></code></pre></div><p>å¯åŠ¨ä¹‹åæŸ¥çœ‹mysqlæœåŠ¡çŠ¶æ€</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript3 data-lang=gdscript3><span style=display:flex><span>root<span style=color:#960050;background-color:#1e0010>@</span>racknerd<span style=color:#f92672>-</span><span style=color:#ae81ff>7</span>c9c56:<span style=color:#f92672>~</span><span style=color:#75715e># sudo systemctl status mysql</span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>â—</span> mysql<span style=color:#f92672>.</span>service <span style=color:#f92672>-</span> MySQL Community Server
</span></span><span style=display:flex><span>     Loaded: loaded (<span style=color:#f92672>/</span>lib<span style=color:#f92672>/</span>systemd<span style=color:#f92672>/</span>system<span style=color:#f92672>/</span>mysql<span style=color:#f92672>.</span>service; enabled; vendor preset: enabled)
</span></span><span style=display:flex><span>     Active: active (running) since Tue <span style=color:#ae81ff>2023</span><span style=color:#f92672>-</span><span style=color:#ae81ff>12</span><span style=color:#f92672>-</span><span style=color:#ae81ff>12</span> <span style=color:#ae81ff>13</span>:<span style=color:#ae81ff>28</span>:<span style=color:#ae81ff>53</span> UTC; <span style=color:#ae81ff>1</span>min <span style=color:#ae81ff>57</span>s ago
</span></span><span style=display:flex><span>    Process: <span style=color:#ae81ff>2326</span> ExecStartPre<span style=color:#f92672>=/</span>usr<span style=color:#f92672>/</span>share<span style=color:#f92672>/</span>mysql<span style=color:#f92672>/</span>mysql<span style=color:#f92672>-</span>systemd<span style=color:#f92672>-</span>start pre (code<span style=color:#f92672>=</span>exited, status<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span><span style=color:#f92672>/</span>SUCCESS)
</span></span><span style=display:flex><span>   Main PID: <span style=color:#ae81ff>2334</span> (mysqld)
</span></span><span style=display:flex><span>     Status: <span style=color:#e6db74>&#34;Server is operational&#34;</span>
</span></span><span style=display:flex><span>      Tasks: <span style=color:#ae81ff>37</span> (limit: <span style=color:#ae81ff>1013</span>)
</span></span><span style=display:flex><span>     Memory: <span style=color:#ae81ff>357.3</span>M
</span></span><span style=display:flex><span>        CPU: <span style=color:#ae81ff>3.053</span>s
</span></span><span style=display:flex><span>     CGroup: <span style=color:#f92672>/</span>system<span style=color:#f92672>.</span>slice<span style=color:#f92672>/</span>mysql<span style=color:#f92672>.</span>service
</span></span><span style=display:flex><span>             <span style=color:#960050;background-color:#1e0010>â””â”€</span><span style=color:#ae81ff>2334</span> <span style=color:#f92672>/</span>usr<span style=color:#f92672>/</span>sbin<span style=color:#f92672>/</span>mysqld
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Dec <span style=color:#ae81ff>12</span> <span style=color:#ae81ff>13</span>:<span style=color:#ae81ff>28</span>:<span style=color:#ae81ff>52</span> racknerd<span style=color:#f92672>-</span><span style=color:#ae81ff>7</span>c9c56 systemd[<span style=color:#ae81ff>1</span>]: Starting MySQL Community Server<span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>Dec <span style=color:#ae81ff>12</span> <span style=color:#ae81ff>13</span>:<span style=color:#ae81ff>28</span>:<span style=color:#ae81ff>53</span> racknerd<span style=color:#f92672>-</span><span style=color:#ae81ff>7</span>c9c56 systemd[<span style=color:#ae81ff>1</span>]: Started MySQL Community Server<span style=color:#f92672>.</span>
</span></span></code></pre></div><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202312122131389.png alt=image-20231212213110357></p><p>æŸ¥çœ‹mysqlç‰ˆæœ¬ï¼Œå¯ä»¥å‘ç°æ˜¯8.0</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>root@racknerd-7c9c56:~# mysql -v
</span></span><span style=display:flex><span>Welcome to the MySQL monitor.  Commands end with ; or \g.
</span></span><span style=display:flex><span>Your MySQL connection id is 8
</span></span><span style=display:flex><span>Server version: 8.0.35-0ubuntu0.22.04.1 (Ubuntu)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Copyright (c) 2000, 2023, Oracle and/or its affiliates.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Oracle is a registered trademark of Oracle Corporation and/or its
</span></span><span style=display:flex><span>affiliates. Other names may be trademarks of their respective
</span></span><span style=display:flex><span>owners.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Reading history-file /root/.mysql_history
</span></span><span style=display:flex><span>Type &#39;help;&#39; or &#39;\h&#39; for help. Type &#39;\c&#39; to clear the current input statement.
</span></span></code></pre></div><p>å®‰è£…ä»¥åŠå¯åŠ¨ä¹‹åæˆ‘ä»¬éœ€è¦ä¸ºrootç”¨æˆ·è®¾ç½®å¯†ç ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œä¼šè¿›è¡Œmysqlç»ˆç«¯</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo mysql
</span></span></code></pre></div><p>è¿›å…¥ç»ˆç«¯ä¹‹åæˆ‘ä»¬éœ€è¦åœ¨ç»ˆç«¯ä¸ºrootç”¨æˆ·åˆ›å»ºå¯†ç ,æœ€åä¸€</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>root@racknerd-7c9c56:~# sudo mysql
</span></span><span style=display:flex><span>Welcome to the MySQL monitor.  Commands end with ; or <span style=color:#ae81ff>\g</span>.
</span></span><span style=display:flex><span>Your MySQL connection id is <span style=color:#ae81ff>9</span>
</span></span><span style=display:flex><span>Server version: 8.0.35-0ubuntu0.22.04.1 <span style=color:#f92672>(</span>Ubuntu<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Copyright <span style=color:#f92672>(</span>c<span style=color:#f92672>)</span> 2000, 2023, Oracle and/or its affiliates.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Oracle is a registered trademark of Oracle Corporation and/or its
</span></span><span style=display:flex><span>affiliates. Other names may be trademarks of their respective
</span></span><span style=display:flex><span>owners.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Type <span style=color:#e6db74>&#39;help;&#39;</span> or <span style=color:#e6db74>&#39;\h&#39;</span> <span style=color:#66d9ef>for</span> help. Type <span style=color:#e6db74>&#39;\c&#39;</span> to clear the current input statement.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>mysql&gt; ALTER USER <span style=color:#e6db74>&#39;root&#39;</span>@<span style=color:#e6db74>&#39;localhost&#39;</span> IDENTIFIED WITH mysql_native_password BY <span style=color:#e6db74>&#39;password123&#39;</span>;
</span></span></code></pre></div><p>å¦‚ä¸‹å‘½ä»¤ä¼šä¿®æ”¹rootç”¨æˆ·çš„å¯†ç ä¸ºpassword123</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span>mysql<span style=color:#f92672>&gt;</span> <span style=color:#66d9ef>ALTER</span> <span style=color:#66d9ef>USER</span> <span style=color:#e6db74>&#39;root&#39;</span><span style=color:#f92672>@</span><span style=color:#e6db74>&#39;localhost&#39;</span> IDENTIFIED <span style=color:#66d9ef>WITH</span> mysql_native_password <span style=color:#66d9ef>BY</span> <span style=color:#e6db74>&#39;password123&#39;</span>;
</span></span></code></pre></div><p>ä¿®æ”¹å¥½rootå¯†ç ä¹‹åé€€å‡º</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>mysql&gt; exit
</span></span></code></pre></div><p>ç„¶åä½¿ç”¨è´¦å·å¯†ç é‡æ–°ç™»å½•ï¼Œè¾“å…¥rootå¯†ç ä¼šå†æ¬¡è¿›å…¥mysqlç»ˆç«¯</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span> mysql -u root -p
</span></span></code></pre></div><h4 id=åˆ›å»ºwordpressæ•°æ®åº“>åˆ›å»ºwordpressæ•°æ®åº“<a hidden class=anchor aria-hidden=true href=#åˆ›å»ºwordpressæ•°æ®åº“>#</a></h4><p>ä¸ºwordpressåˆ›å»ºä¸€ä¸ªæ•°æ®åº“ï¼Œç”¨äºå­˜æ”¾wordpressæ•°æ®</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span>mysql<span style=color:#f92672>&gt;</span> <span style=color:#66d9ef>create</span> <span style=color:#66d9ef>database</span> wordpress;
</span></span><span style=display:flex><span>Query OK, <span style=color:#ae81ff>1</span> <span style=color:#66d9ef>row</span> affected (<span style=color:#ae81ff>0</span>.<span style=color:#ae81ff>01</span> sec)
</span></span></code></pre></div><h4 id=å®‰å…¨é…ç½®å¯é€‰>å®‰å…¨é…ç½®(å¯é€‰)<a hidden class=anchor aria-hidden=true href=#å®‰å…¨é…ç½®å¯é€‰>#</a></h4><p>è™½ç„¶æ˜¯è‡ªç”¨çš„æœºå™¨å’ŒæœåŠ¡ï¼Œä¸è¿‡å®‰å…¨æœåŠ¡è¿˜æ˜¯è¦è€ƒè™‘ä¸€ä¸‹ï¼Œä¸‡ä¸€ä»¥ååšå¤§åšå¼ºäº†å‘¢</p><p>å‘½ä»¤è¡Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤,ä¼šæœ‰ä¸€äº›äº¤äº’</p><ul><li>éœ€è¦ä¸éœ€è¦æ ¡éªŒå¯†ç ï¼Œéœ€è¦çš„è¯ä¸‹ä¸€æ­¥</li><li>å¯†ç å¼ºåº¦çº§åˆ«é€‰æ‹©ï¼ŒLowçš„è¯ç›¸å½“äºå¼±å¯†ç ï¼Œæ¯”è¾ƒå±é™©ï¼Œçº§åˆ«è¶Šé«˜ï¼Œå¯†ç å¤æ‚åº¦è¦æ±‚è¶Šé«˜</li><li>æ˜¯å¦æ›´æ–°rootå¯†ç ï¼Œæ›´æ–°ä¹‹åä¼šæ ¹æ®ä¹‹å‰é€‰æ‹©çš„å¯†ç æ ¡éªŒçº§åˆ«ï¼Œè¦æ±‚ä½ è¾“å…¥æ–°çš„rootå¯†ç </li><li>æ˜¯å¦éœ€è¦ç§»é™¤åŒ¿åç”¨æˆ·ï¼Œç§»é™¤ä¹‹åç™»å½•mysqlå¿…é¡»è¦ä½¿ç”¨å¯†ç äº†</li><li>æ˜¯å¦éœ€è¦ç¦ç”¨rootè¿œç¨‹ç™»å½•ï¼Œç¦ç”¨ä¹‹ååªèƒ½åœ¨æœ¬æœºç™»å½•mysql</li><li>æ˜¯å¦éœ€è¦ç§»é™¤teståº“å’Œå…¶è®¿é—®æƒé™ï¼Œç§»é™¤ä¹‹åå°±æ— æ³•è®¿é—®teståº“äº†</li><li>åˆ·æ–°æƒé™ä¹‹åä»¥ä¸Šä¿®æ”¹åˆ™ç”Ÿæ•ˆ</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>root@racknerd-7c9c56:~# sudo mysql_secure_installation
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Securing the MySQL server deployment.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Enter password <span style=color:#66d9ef>for</span> user root:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>VALIDATE PASSWORD COMPONENT can be used to test passwords
</span></span><span style=display:flex><span>and improve security. It checks the strength of password
</span></span><span style=display:flex><span>and allows the users to set only those passwords which are
</span></span><span style=display:flex><span>secure enough. Would you like to setup VALIDATE PASSWORD component?
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Press y|Y <span style=color:#66d9ef>for</span> Yes, any other key <span style=color:#66d9ef>for</span> No: y
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>There are three levels of password validation policy:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>LOW    Length &gt;<span style=color:#f92672>=</span> <span style=color:#ae81ff>8</span>
</span></span><span style=display:flex><span>MEDIUM Length &gt;<span style=color:#f92672>=</span> 8, numeric, mixed <span style=color:#66d9ef>case</span>, and special characters
</span></span><span style=display:flex><span>STRONG Length &gt;<span style=color:#f92672>=</span> 8, numeric, mixed <span style=color:#66d9ef>case</span>, special characters and dictionary                  file
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Please enter 0 <span style=color:#f92672>=</span> LOW, 1 <span style=color:#f92672>=</span> MEDIUM and 2 <span style=color:#f92672>=</span> STRONG: <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>Using existing password <span style=color:#66d9ef>for</span> root.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Estimated strength of the password: <span style=color:#ae81ff>50</span>
</span></span><span style=display:flex><span>Change the password <span style=color:#66d9ef>for</span> root ? <span style=color:#f92672>((</span>Press y|Y <span style=color:#66d9ef>for</span> Yes, any other key <span style=color:#66d9ef>for</span> No<span style=color:#f92672>)</span> : y
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>New password:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Re-enter new password:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Estimated strength of the password: <span style=color:#ae81ff>100</span>
</span></span><span style=display:flex><span>Do you wish to <span style=color:#66d9ef>continue</span> with the password provided?<span style=color:#f92672>(</span>Press y|Y <span style=color:#66d9ef>for</span> Yes, any other key <span style=color:#66d9ef>for</span> No<span style=color:#f92672>)</span> : y
</span></span><span style=display:flex><span>By default, a MySQL installation has an anonymous user,
</span></span><span style=display:flex><span>allowing anyone to log into MySQL without having to have
</span></span><span style=display:flex><span>a user account created <span style=color:#66d9ef>for</span> them. This is intended only <span style=color:#66d9ef>for</span>
</span></span><span style=display:flex><span>testing, and to make the installation go a bit smoother.
</span></span><span style=display:flex><span>You should remove them before moving into a production
</span></span><span style=display:flex><span>environment.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Remove anonymous users? <span style=color:#f92672>(</span>Press y|Y <span style=color:#66d9ef>for</span> Yes, any other key <span style=color:#66d9ef>for</span> No<span style=color:#f92672>)</span> : y
</span></span><span style=display:flex><span>Success.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Normally, root should only be allowed to connect from
</span></span><span style=display:flex><span><span style=color:#e6db74>&#39;localhost&#39;</span>. This ensures that someone cannot guess at
</span></span><span style=display:flex><span>the root password from the network.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Disallow root login remotely? <span style=color:#f92672>(</span>Press y|Y <span style=color:#66d9ef>for</span> Yes, any other key <span style=color:#66d9ef>for</span> No<span style=color:#f92672>)</span> : y
</span></span><span style=display:flex><span>Success.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>By default, MySQL comes with a database named <span style=color:#e6db74>&#39;test&#39;</span> that
</span></span><span style=display:flex><span>anyone can access. This is also intended only <span style=color:#66d9ef>for</span> testing,
</span></span><span style=display:flex><span>and should be removed before moving into a production
</span></span><span style=display:flex><span>environment.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Remove test database and access to it? <span style=color:#f92672>(</span>Press y|Y <span style=color:#66d9ef>for</span> Yes, any other key <span style=color:#66d9ef>for</span> No<span style=color:#f92672>)</span> : y
</span></span><span style=display:flex><span> - Dropping test database...
</span></span><span style=display:flex><span>Success.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> - Removing privileges on test database...
</span></span><span style=display:flex><span>Success.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Reloading the privilege tables will ensure that all changes
</span></span><span style=display:flex><span>made so far will take effect immediately.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Reload privilege tables now? <span style=color:#f92672>(</span>Press y|Y <span style=color:#66d9ef>for</span> Yes, any other key <span style=color:#66d9ef>for</span> No<span style=color:#f92672>)</span> : y
</span></span><span style=display:flex><span>Success.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>All <span style=color:#66d9ef>done</span>!
</span></span><span style=display:flex><span>root@racknerd-7c9c56:~# sudo mysql
</span></span><span style=display:flex><span>ERROR <span style=color:#ae81ff>1045</span> <span style=color:#f92672>(</span>28000<span style=color:#f92672>)</span>: Access denied <span style=color:#66d9ef>for</span> user <span style=color:#e6db74>&#39;root&#39;</span>@<span style=color:#e6db74>&#39;localhost&#39;</span> <span style=color:#f92672>(</span>using password: NO<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>root@racknerd-7c9c56:~#
</span></span></code></pre></div><p>ä»¥ä¸Šmysqlå°±å®‰è£…å¥½äº†ï¼Œä¹Ÿä¸ºwordpressåˆ›å»ºäº†ä¸€ä¸ªåº“</p><h3 id=å®‰è£…php>å®‰è£…php<a hidden class=anchor aria-hidden=true href=#å®‰è£…php>#</a></h3><p>ç”±äºwordpressæ˜¯phpå†™çš„ï¼Œæ‰€ä»¥éœ€è¦åœ¨æœºå™¨ä¸Šå®‰è£…phpï¼Œç›®å‰æœ€æ–°çš„wordpressç‰ˆæœ¬æ˜¯6.4,å®‰è£…php7.4å°±å¥½äº†ï¼Œä¸è¦å®‰è£…8.0+çš„ç‰ˆæœ¬ï¼Œ</p><p>æ„Ÿè§‰å…¼å®¹æœ‰é—®é¢˜ï¼ŒæŠ˜ç£¨äº†æˆ‘å¥½ä¹…ã€‚</p><p>å…ˆæ·»åŠ phpä»“åº“</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo add-apt-repository ppa:ondrej/php
</span></span></code></pre></div><p>æ‰§è¡Œåˆ°ä¸‹é¢æœ€åä¸€è¡Œæç¤ºçš„æ—¶å€™æŒ‰enterç»§ç»­å®‰è£…</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>CAVEATS:
</span></span><span style=display:flex><span>1. If you are using php-gearman, you need to add ppa:ondrej/pkg-gearman
</span></span><span style=display:flex><span>2. If you are using apache2, you are advised to add ppa:ondrej/apache2
</span></span><span style=display:flex><span>3. If you are using nginx, you are advised to add ppa:ondrej/nginx-mainline
</span></span><span style=display:flex><span>Â Â Â or ppa:ondrej/nginx
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>PLEASE READ: If you like my work and want to give me a little motivation, please consider donating regularly: https://donate.sury.org/
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>WARNING: add-apt-repository is broken with non-UTF-8 locales, see
</span></span><span style=display:flex><span>https://github.com/oerdnj/deb.sury.org/issues/56 for workaround:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span># LC_ALL=C.UTF-8 add-apt-repository ppa:ondrej/php
</span></span><span style=display:flex><span>More info: https://launchpad.net/~ondrej/+archive/ubuntu/php
</span></span><span style=display:flex><span>Adding repository.
</span></span><span style=display:flex><span>Press [ENTER] to continue or Ctrl-c to cancel.
</span></span></code></pre></div><p>ä¸Šé¢æ‰§è¡Œå®Œåï¼Œå†æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…php7.4ä»¥åŠç›¸å…³æ’ä»¶å’ŒæœåŠ¡</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo apt install php7.4 php7.4-fpm php7.4-mysql php7.4-curl php7.4-xml
</span></span></code></pre></div><p>ç„¶åä½¿ç”¨pså‘½ä»¤æŸ¥çœ‹fpmæœåŠ¡æ˜¯å¦å¯åŠ¨,å¯ä»¥çœ‹åˆ°å¦‚ä¸‹fpmæœåŠ¡ä»¥åŠåœ¨è¿è¡Œäº†</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>root@racknerd-7c9c56:~# ps -ef|grep fpm
</span></span><span style=display:flex><span>root       18996       1  0 14:04 ?        00:00:00 php-fpm: master process (/etc/php/7.4/fpm/php-fpm.conf)
</span></span><span style=display:flex><span>www-data   18997   18996  0 14:04 ?        00:00:00 php-fpm: pool www
</span></span><span style=display:flex><span>www-data   18998   18996  0 14:04 ?        00:00:00 php-fpm: pool www
</span></span><span style=display:flex><span>root       19118    2708  0 14:05 pts/0    00:00:00 grep --color=auto fpm
</span></span></code></pre></div><p>åé¢nginxéœ€è¦é€šè¿‡unix socketè®¿é—®ï¼Œsocketåœ°å€å…·ä½“åœ¨<code>/etc/php/7.4/fpm/pool.d/www.confæ–‡ä»¶é‡Œ</code>ï¼Œè¿™ä¸ªé…ç½®æ–‡ä»¶æœ‰å¦‚ä¸‹å‡ ä¸ªé…ç½®é¡¹å€¼å¾—å…³æ³¨ä¸€ä¸‹</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>listen = /run/php/php7.4-fpm.sock
</span></span><span style=display:flex><span>listen.owner = www-data
</span></span><span style=display:flex><span>listen.group = www-data
</span></span><span style=display:flex><span>;listen.mode = 0660
</span></span></code></pre></div><p><code>listen = /run/php/php7.4-fpm.sock</code>è¿™ä¸ªæ˜¯åç»­è¦é…ç½®åˆ°nginxé…ç½®æ–‡ä»¶ä¸­çš„åœ°å€ï¼Œnginxé€šè¿‡è¿™ä¸ªåœ°å€è®¿é—®php-fpmæœåŠ¡ï¼Œç„¶åè®¿é—®æˆ‘ä»¬çš„wordpressæ–‡ä»¶ã€‚</p><p>listenæ”¯æŒunixå’Œport 2ç§é…ç½®æ–¹å¼ï¼ŒäºŒé€‰ä¸€</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>listen = /run/php/php7.4-fpm.sock
</span></span></code></pre></div><p>æˆ–è€…</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>listen = 127.0.0.1:9000
</span></span></code></pre></div><p>è¿™é‡Œé…ç½®æˆå“ªç§æ ¼å¼åé¢Nginxå°±é…å“ªç§åœ°å€ï¼Œæˆ‘ä»¬è¿™é‡Œå°±é‡‡ç”¨é»˜è®¤çš„unix socketçš„æ¨¡å¼å°±è¡Œ</p><p><code>lister.owner</code>å’Œ<code>list.group</code>ä»¥åŠ<code>list.mode</code>è¿™3ä¸ªé…ç½®é¡¹æ¶‰åŠfpmè¿›ç¨‹çš„æƒé™å’Œç”¨æˆ·ç»„é—®é¢˜ï¼Œnginxéœ€è¦å’Œè¿™é‡Œä¿æŒä¸€è‡´ï¼Œä¸ç„¶å¯èƒ½ä¼šæŠ¥</p><p>å¥‡æ€ªçš„æ–‡ä»¶æƒé™é—®é¢˜ã€‚</p><p>å¦‚ä¸Šè¿™å‡ ä¸ªé…ç½®é¡¹æˆ‘ä»¬ä¿æŒé»˜è®¤å³å¯ï¼Œä¸è¦å»åŠ¨ã€‚</p><h3 id=ä¸‹è½½wordpress>ä¸‹è½½wordpress<a hidden class=anchor aria-hidden=true href=#ä¸‹è½½wordpress>#</a></h3><p>å…¶ä»–çš„ä¾èµ–ç»„ä»¶éƒ½å¤„ç†å¥½ä¹‹åï¼Œæˆ‘ä»¬ä¸‹è½½wordpresså®‰è£…åŒ…ï¼Œwordpresså®‰è£…åŒ…å¯ä»¥å»<a href=wordpress.org>wordpress.org</a>ä¸‹è½½</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202312122219938.png alt=image-20231212221910887></p><p>ç‚¹å‡»get wordpressï¼Œè·³è½¬åˆ°wordpressä¸‹è½½é¡µ</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202312122220460.png alt=image-20231212222005424></p><p>ä¸‹è½½é¡µå·¦è¾¹æ˜¯wordpressçš„å®‰è£…åŒ…ä¸‹è½½åœ°å€ï¼Œå½“å‰æœ€æ–°çš„ç‰ˆæœ¬æ˜¯6.4.2ï¼Œå®˜æ–¹æ¨èä½¿ç”¨php7.4+ï¼Œmysql5.7+æˆ–è€…mariadb10.4+ï¼Œ mysql</p><p>å’Œmariadbç®—æ˜¯åŒä¸€ä¸ªä½œè€…å‡ºå“çš„ï¼Œ2è€…æ˜¯å…¼å®¹çš„ï¼Œå¯ä»¥ç®—åŒä¸€ç§ç±»å‹çš„æ•°æ®åº“ã€‚</p><p>ä¸‹è½½é¡µå³è¾¹æ˜¯ä¸»æœºå‚å•†æä¾›çš„ä»˜è´¹è§£å†³æ–¹æ¡ˆï¼Œwordpresså·²ç»å¸®ä½ æ­å¥½äº†ï¼Œéœ€è¦æŒ‰éœ€ä»˜è´¹è´­ä¹°ã€‚æˆ‘ä¸ºäº†çœé’±ä»¥åŠå¯æ§ï¼Œå°±é€‰æ‹©äº†è‡ªå·±æ­ã€‚</p><h4 id=å®‰è£…åŒ…ä¸‹è½½æ–¹å¼>å®‰è£…åŒ…ä¸‹è½½æ–¹å¼<a hidden class=anchor aria-hidden=true href=#å®‰è£…åŒ…ä¸‹è½½æ–¹å¼>#</a></h4><p>é‚£ä¹ˆwordpresså®‰è£…åŒ…æœ‰2ç§ä¸‹è½½æ–¹å¼</p><ul><li>ç¬¬ä¸€ç§æ˜¯æµè§ˆå™¨é¡µé¢ç‚¹å‡»ä¸‹è½½ï¼Œä¸‹è½½åˆ°æœ¬åœ°ä¹‹åï¼Œé€šè¿‡scpã€ftpç­‰æ–¹å¼ä¸Šä¼ åˆ°linuxä¸Š</li><li>å¦ä¸€ç§æ˜¯åˆ°æœºå™¨ä¸Šä½¿ç”¨wgetä¸‹è½½å®‰è£…åŒ…</li></ul><p>æˆ‘è¿™é‡Œä½¿ç”¨ç¬¬äºŒç§ï¼Œå³é”®å¤åˆ¶é“¾æ¥åœ°å€ï¼Œå®‰è£…åŒ…ä¸‹è½½åœ°å€ä¸ºhttps://wordpress.org/latest.zip</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202312122223517.png alt=image-20231212222338476></p><p>åˆ°æœºå™¨ä¸Šæ‰§è¡Œ<code>wget https://wordpress.org/latest.zip</code>å°†å®‰è£…åŒ…ä¸‹è½½åˆ°linuxæœºå™¨ä¸Šï¼Œè¿™æ ·ä¸‹è½½ä¼šæ–¹ä¾¿ä¸€ç‚¹</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>root@racknerd-7c9c56:/opt# wget https://wordpress.org/latest.zip
</span></span><span style=display:flex><span>--2023-12-12 14:24:43--  https://wordpress.org/latest.zip
</span></span><span style=display:flex><span>Resolving wordpress.org (wordpress.org)... 198.143.164.252
</span></span><span style=display:flex><span>Connecting to wordpress.org (wordpress.org)|198.143.164.252|:443... connected.
</span></span><span style=display:flex><span>HTTP request sent, awaiting response... 200 OK
</span></span><span style=display:flex><span>Length: 25954973 (25M) [application/zip]
</span></span><span style=display:flex><span>Saving to: â€˜latest.zipâ€™
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>latest.zip                               100%[==================================================================================&gt;]  24.75M  30.0MB/s    in 0.8s
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>2023-12-12 14:24:44 (30.0 MB/s) - â€˜latest.zipâ€™ saved [25954973/25954973]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>root@racknerd-7c9c56:/opt# ll
</span></span><span style=display:flex><span>total 25356
</span></span><span style=display:flex><span>drwxr-xr-x  2 root root     4096 Dec 12 14:24 ./
</span></span><span style=display:flex><span>drwxr-xr-x 19 root root     4096 Aug 10  2022 ../
</span></span><span style=display:flex><span>-rw-r--r--  1 root root 25954973 Dec  6 16:26 latest.zip
</span></span></code></pre></div><p>æˆ‘å°†wordpressæ”¾åœ¨äº†optç›®å½•ï¼Œ<em><strong>åˆ‡å¿Œwordpressä¸è¦æ”¾åœ¨/rootç›®å½•</strong></em>ï¼Œä¸ç„¶nginxä¼šæœ‰å¥‡æ€ªçš„æ–‡ä»¶æƒé™é—®é¢˜ï¼Œè§£å†³ä¸äº†çš„é‚£ç§</p><h4 id=è§£å‹å®‰è£…åŒ…>è§£å‹å®‰è£…åŒ…<a hidden class=anchor aria-hidden=true href=#è§£å‹å®‰è£…åŒ…>#</a></h4><p>è§£å‹wordpresså®‰è£…åŒ…ï¼Œwordpressæ–‡ä»¶éƒ½åœ¨/opt/wordpessç›®å½•ä¸‹</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>sudo apt install unzip
</span></span></code></pre></div><p>wordpressæ–‡ä»¶ç»“æ„å¦‚ä¸‹æ‰€ç¤º</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202312122228332.png alt=image-20231212222818291></p><h4 id=ä¿®æ”¹wordpressç”¨æˆ·ç»„å’Œæƒé™>ä¿®æ”¹wordpressç”¨æˆ·ç»„å’Œæƒé™<a hidden class=anchor aria-hidden=true href=#ä¿®æ”¹wordpressç”¨æˆ·ç»„å’Œæƒé™>#</a></h4><p>è¿™ä¸€æ­¥çš„æƒé™æ¯”è¾ƒé‡è¦ï¼Œä¸ç„¶ä¼šæœ‰å¥‡æ€ªçš„æƒé™é—®é¢˜ï¼Œåˆ°optç›®å½•ä¸‹æ‰§è¡Œå¦‚ä¸‹æˆæƒå‘½ä»¤ï¼Œè§£å‹ä¹‹åwordpressç›®å½•çš„ç”¨æˆ·ç»„éƒ½æ˜¯rootï¼Œéœ€è¦</p><p>ä¿®æ”¹ä¸ºwww-data:www-dataï¼Œç›®å½•æƒé™ä¿®æ”¹ä¸º755ï¼Œéœ€è¦ç”¨åˆ°chownå’Œchmodå‘½ä»¤ï¼Œ -Rä¸ºé€’å½’æ‰§è¡Œæ‰€æœ‰çš„å­ç›®å½•å’Œæ–‡ä»¶</p><p>ä¸ºä½•ç”¨æˆ·ç»„è¦ä¿®æ”¹ä¸ºwww-data:www-dataï¼Œå› ä¸ºphp7.4-fpmçš„poolçš„ç”¨æˆ·ç»„å°±æ˜¯www-data:www-data</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>root@racknerd-7c9c56:/opt# pwd
</span></span><span style=display:flex><span>/opt
</span></span><span style=display:flex><span>root@racknerd-7c9c56:/opt# ll
</span></span><span style=display:flex><span>total 25360
</span></span><span style=display:flex><span>drwxr-xr-x  3 root root     4096 Dec 12 14:27 ./
</span></span><span style=display:flex><span>drwxr-xr-x 19 root root     4096 Aug 10  2022 ../
</span></span><span style=display:flex><span>-rw-r--r--  1 root root 25954973 Dec  6 16:26 latest.zip
</span></span><span style=display:flex><span>drwxr-xr-x  5 root root     4096 Dec  6 16:25 wordpress/
</span></span><span style=display:flex><span>root@racknerd-7c9c56:/opt# sudo chown -R www-data:www-data wordpress/
</span></span><span style=display:flex><span>root@racknerd-7c9c56:/opt# sudo chmod -R 755 wordpress/
</span></span><span style=display:flex><span>root@racknerd-7c9c56:/opt# ll
</span></span><span style=display:flex><span>total 25360
</span></span><span style=display:flex><span>drwxr-xr-x  3 root     root         4096 Dec 12 14:27 ./
</span></span><span style=display:flex><span>drwxr-xr-x 19 root     root         4096 Aug 10  2022 ../
</span></span><span style=display:flex><span>-rw-r--r--  1 root     root     25954973 Dec  6 16:26 latest.zip
</span></span><span style=display:flex><span>drwxr-xr-x  5 www-data www-data     4096 Dec  6 16:25 wordpress/
</span></span></code></pre></div><h4 id=ç”Ÿæˆwp-configphp>ç”Ÿæˆwp-config.php<a hidden class=anchor aria-hidden=true href=#ç”Ÿæˆwp-configphp>#</a></h4><p>ä»wp-config-sample.phpå¤åˆ¶ä¸€ä»½wp-config.phpå‡ºæ¥ï¼Œä¿®æ”¹é‡Œé¢çš„dbé…ç½®ï¼Œæ”¹ä¸ºä¹‹å‰æœ¬åœ°å®‰è£…çš„Mysqlçš„è´¦å·å¯†ç æ•°æ®åº“ã€‚</p><p>è¿™ä¸€æ­¥å¦‚æœä¸åšçš„è¯ï¼Œåœ¨å®‰è£…é¡µé¢ä¼šå¼•å¯¼ä½ å¡«å†™é…ç½®ç”Ÿæˆä¸€ä¸ªwp-config.phpæ–‡ä»¶ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>root@racknerd-7c9c56:/opt/wordpress# cp wp-config-sample.php wp-config.php
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>root@racknerd-7c9c56:/opt/wordpress# vi wp-config.php
</span></span></code></pre></div><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202312122315725.png alt=image-20231212231519691></p><h3 id=é…ç½®nginx>é…ç½®nginx<a hidden class=anchor aria-hidden=true href=#é…ç½®nginx>#</a></h3><p>ä¸‹è½½å¥½wordpresså®‰è£…åŒ…ä¹‹åï¼Œä¸‹é¢å°±æ˜¯é…ç½®nginxè®¿é—®wordpressäº†ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨æµè§ˆå™¨é¡µé¢è®¿é—®wordpresså®‰è£…é¡µé¢</p><p>nginxé…ç½®æ–‡ä»¶åœ¨/etc/nginx/nginx.confï¼Œ/etc/nginx/conf.d/ç”¨äºæ”¾è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ï¼Œnginxç‰ˆæœ¬ä¸º1.18.0</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202312122230518.png alt=image-20231212223029466></p><h4 id=è‡ªå®šä¹‰wordpressé…ç½®æ–‡ä»¶>è‡ªå®šä¹‰wordpressé…ç½®æ–‡ä»¶<a hidden class=anchor aria-hidden=true href=#è‡ªå®šä¹‰wordpressé…ç½®æ–‡ä»¶>#</a></h4><p>ä¸ä¿®æ”¹é»˜è®¤çš„é…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬åœ¨/etc/nginx/conf.dç›®å½•ä¸‹æ–°å»ºwordpressè‡ªå·±çš„é…ç½®æ–‡ä»¶</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>root@racknerd-7c9c56:/etc/nginx/conf.d# touch wp.conf
</span></span><span style=display:flex><span>root@racknerd-7c9c56:/etc/nginx/conf.d# vi wp.conf
</span></span></code></pre></div><p>å°†ä»¥ä¸‹é…ç½®æ›´æ–°åˆ°wp.confé‡Œ,æœ‰å‡ ä¸ªæ¯”è¾ƒé‡è¦çš„é…ç½®è§£é‡Šä¸€ä¸‹</p><ul><li>rootï¼Œè¿™ä¸ªåœ°æ–¹é…ç½®çš„ä½ çš„wordpresså®‰è£…åŒ…çš„è·¯å¾„ï¼Œé…ç½®é”™è¯¯ä¼šå‘ç”Ÿ404ç­‰é”™è¯¯</li><li>server_nameï¼Œè¿™ä¸ªå¦‚æœæ²¡åŸŸåçš„è¯å°±é…ç½®localhost</li><li>fastcgi_passï¼Œ è¿™ä¸ªåœ°æ–¹è¦é…ç½®fpmçš„æœåŠ¡åœ°å€ï¼Œæ³¨æ„fpmçš„ç‰ˆæœ¬ï¼Œç”±äºå®‰è£…çš„æ˜¯7.4ï¼Œæ‰€ä»¥fastcpgié…ç½®çš„å¦‚ä¸‹unixåœ°å€</li></ul><p>ä¿®æ”¹å¥½è‡ªå·±æœºå™¨çš„å®é™…é…ç½®ï¼Œç²˜è´´åˆ°wp.confï¼Œæ‰§è¡Œ:wp ä¿å­˜é…ç½®</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nginx data-lang=nginx><span style=display:flex><span><span style=color:#66d9ef>server</span> {
</span></span><span style=display:flex><span>            <span style=color:#f92672>listen</span> <span style=color:#ae81ff>80</span>;
</span></span><span style=display:flex><span>            <span style=color:#f92672>root</span> <span style=color:#e6db74>/opt/wordpress</span>;
</span></span><span style=display:flex><span>            <span style=color:#f92672>index</span> <span style=color:#e6db74>index.php</span> <span style=color:#e6db74>index.html</span>;
</span></span><span style=display:flex><span>            <span style=color:#f92672>server_name</span> <span style=color:#e6db74>localhost</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>location</span> <span style=color:#e6db74>/</span> {
</span></span><span style=display:flex><span>                 <span style=color:#f92672>try_files</span> $uri $uri/ <span style=color:#e6db74>/index.php?</span>$args;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>location</span> ~ <span style=color:#e6db74>\.php$</span> {
</span></span><span style=display:flex><span>                 <span style=color:#f92672>include</span> <span style=color:#e6db74>snippets/fastcgi-php.conf</span>;
</span></span><span style=display:flex><span>                 <span style=color:#f92672>fastcgi_pass</span> <span style=color:#e6db74>unix:/run/php/php7.4-fpm.sock</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>            <span style=color:#f92672>location</span> ~ <span style=color:#e6db74>/\.ht</span> {
</span></span><span style=display:flex><span>                <span style=color:#f92672>deny</span> <span style=color:#e6db74>all</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>location</span> = <span style=color:#e6db74>/favicon.ico</span> {
</span></span><span style=display:flex><span>                  <span style=color:#f92672>log_not_found</span> <span style=color:#66d9ef>off</span>;
</span></span><span style=display:flex><span>                  <span style=color:#f92672>access_log</span> <span style=color:#66d9ef>off</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>location</span> = <span style=color:#e6db74>/robots.txt</span> {
</span></span><span style=display:flex><span>                  <span style=color:#f92672>allow</span> <span style=color:#e6db74>all</span>;
</span></span><span style=display:flex><span>                  <span style=color:#f92672>log_not_found</span> <span style=color:#66d9ef>off</span>;
</span></span><span style=display:flex><span>                  <span style=color:#f92672>access_log</span> <span style=color:#66d9ef>off</span>;
</span></span><span style=display:flex><span>           }
</span></span><span style=display:flex><span>       
</span></span><span style=display:flex><span>            <span style=color:#f92672>location</span> ~<span style=color:#e6db74>*</span> <span style=color:#e6db74>\.(js|css|png|jpg|jpeg|gif|ico)</span>$ {
</span></span><span style=display:flex><span>                  <span style=color:#f92672>expires</span> <span style=color:#e6db74>max</span>;
</span></span><span style=display:flex><span>                  <span style=color:#f92672>log_not_found</span> <span style=color:#66d9ef>off</span>;
</span></span><span style=display:flex><span>           }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=åˆ é™¤defaulté…ç½®>åˆ é™¤defaulté…ç½®<a hidden class=anchor aria-hidden=true href=#åˆ é™¤defaulté…ç½®>#</a></h4><p>nginxå®‰è£…å¥½ä¼šæœ‰ä¸€ä¸ªdefaulté…ç½®ï¼Œè¿™ä¸ªé…ç½®ä¼šå½±å“æˆ‘ä»¬è‡ªå®šä¹‰çš„é…ç½®ï¼Œéœ€è¦åˆ æ‰æˆ–è€…é‡å‘½åè¿™ä¸ªæ–‡ä»¶ï¼Œæ–‡ä»¶è·¯å¾„ä¸º<code>/etc/nginx/sites-available/default</code>ï¼Œæ‰§è¡Œä»¥ä¸‹æ­¥éª¤å»æ‰default</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>#åœ¨sites-enableç›®å½•å¤‡ä»½defaultæ–‡ä»¶
</span></span><span style=display:flex><span>root@racknerd-7c9c56:/etc/nginx/sites-available# mv default default.bak
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>root@racknerd-7c9c56:/etc/nginx/sites-available# cd ../sites-enabled/
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>root@racknerd-7c9c56:/etc/nginx/sites-enabled# ll
</span></span><span style=display:flex><span>total 8
</span></span><span style=display:flex><span>drwxr-xr-x 2 root root 4096 Dec 12 13:20 ./
</span></span><span style=display:flex><span>drwxr-xr-x 8 root root 4096 Dec 12 14:31 ../
</span></span><span style=display:flex><span>lrwxrwxrwx 1 root root   34 Dec 12 13:20 default -&gt; /etc/nginx/sites-available/default
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>#åœ¨sites-enabledç›®å½•åˆ æ‰è½¯é“¾æ¥
</span></span><span style=display:flex><span>root@racknerd-7c9c56:/etc/nginx/sites-enabled# rm -f default
</span></span></code></pre></div><h4 id=ç¡®è®¤nginx-workerçš„ç”¨æˆ·>ç¡®è®¤nginx workerçš„ç”¨æˆ·<a hidden class=anchor aria-hidden=true href=#ç¡®è®¤nginx-workerçš„ç”¨æˆ·>#</a></h4><p><code>/etc/nginx/nginx.conf</code>çš„ç¬¬ä¸€è¡Œæœ‰å…³äºNginx userçš„è®¾ç½®ï¼Œè¿™ä¸ªéœ€è¦è®¾ç½®ä¸ºwww-dataï¼Œå’Œphp7.4-fpmä¿æŒä¸€è‡´ï¼Œnginxé»˜è®¤ç”¨æˆ·å°±æ˜¯www-dataï¼Œæ£€æŸ¥ä¸‹å³å¯</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202312122307418.png alt=image-20231212230724371></p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202312122307134.png alt=image-20231212230754091></p><h4 id=éªŒè¯é…ç½®>éªŒè¯é…ç½®<a hidden class=anchor aria-hidden=true href=#éªŒè¯é…ç½®>#</a></h4><p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤éªŒè¯nginxé…ç½®æ–‡ä»¶æ˜¯å¦æ­£ç¡®</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>root@racknerd-7c9c56:/etc/nginx# nginx -t
</span></span><span style=display:flex><span>nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
</span></span><span style=display:flex><span>nginx: configuration file /etc/nginx/nginx.conf test is successful
</span></span></code></pre></div><h4 id=é‡å¯nginx>é‡å¯Nginx<a hidden class=anchor aria-hidden=true href=#é‡å¯nginx>#</a></h4><p>é…ç½®æ–‡ä»¶éªŒè¯æ²¡é—®é¢˜ä¹‹åï¼Œé‡å¯Nginx</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>sudo systemctl restart nginx
</span></span></code></pre></div><p>å¦‚æœå¯åŠ¨å¤±è´¥ï¼Œæ‰§è¡Œä»¥ä¸‹2ä¸ªå‘½ä»¤æ’æŸ¥é”™è¯¯åŸå› </p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>sudo systemctl status nginx.service
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>journalctl -xe
</span></span></code></pre></div><p>nginxé»˜è®¤æ—¥å¿—è·¯å¾„ä¸º<code>/var/log/nginx/access.log</code>å’Œ<code>/var/log/nginx/error.log</code>,ä¹Ÿå¯ä»¥é€šè¿‡nginxæ—¥å¿—æ’æŸ¥é—®é¢˜</p><h3 id=å®‰è£…wordpress>å®‰è£…wordpress<a hidden class=anchor aria-hidden=true href=#å®‰è£…wordpress>#</a></h3><p>ä¸Šé¢æ­¥éª¤ä¸€åˆ‡é¡ºåˆ©çš„è¯ï¼Œæ¥ä¸‹æ¥å°±åˆ°äº†å®‰è£…wordpressçš„ç¯èŠ‚äº†ï¼Œæ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥ä»¥ä¸‹åœ°å€ï¼Œå…¶ä¸­<code>107.173.87.238</code>æ˜¯æˆ‘æœºå™¨çš„ipï¼Œ80æ˜¯nginx httpçš„ç«¯å£,æ›¿æ¢ä¸ºè‡ªå·±çš„ipå³å¯</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>http://107.173.87.238/wp-admin/install.php
</span></span></code></pre></div><p>è¿›å…¥å®‰è£…é¡µé¢ï¼Œè¯­è¨€é€‰æ‹©ç®€ä½“ä¸­æ–‡</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202312122317427.png alt=image-20231212231737375></p><p>è¾“å…¥å¿…è¦ä¿¡æ¯ä¹‹åè¿›è¡Œå®‰è£…ï¼Œå¯†ç å¯ä»¥è‡ªå®šä¹‰ï¼Œä¹Ÿå¯ä»¥ç”¨wpç”Ÿæˆçš„å¼ºå¯†ç </p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202312122318793.png alt=image-20231212231852741></p><p>ä¹‹åè¿›è¡Œç™»å½•ï¼Œå°±ä¼šè¿›å…¥wordpressç®¡ç†åå°ï¼Œè£…ä¿®è‡ªå·±çš„ç½‘ç«™äº†</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202312122320967.png alt></p><h3 id=é…ç½®ssl>é…ç½®ssl<a hidden class=anchor aria-hidden=true href=#é…ç½®ssl>#</a></h3><p>ä¸Šè¿°æ­¥éª¤ä½¿ç”¨nginx+wordprss+mysqlå®‰è£…å¥½äº†wordpressï¼Œå·²ç»å¯ä»¥è®¿é—®äº†ã€‚</p><p>ä¸ºäº†ç½‘ç«™å®‰å…¨æ€§ä»¥åŠéšè—æœåŠ¡å™¨ipï¼Œä¸‹é¢ä¸ºæˆ‘ä»¬çš„ç½‘ç«™é…ç½®sslä»¥åŠåŸŸåè§£æã€‚</p><p>é…ç½®ssä¹‹åï¼Œæ‰€æœ‰çš„è¯·æ±‚éƒ½ä¼šèµ°httpsï¼Œå®‰å…¨ä¼šä¼šå¾—åˆ°å¾ˆå¤§çš„æé«˜ï¼Œé€šè¿‡åŸŸåè®¿é—®ï¼Œä¹Ÿä¼šæ˜¾å¾—æ›´åŠ çš„ä¸“ä¸šï¼Œä»¥åŠä¿æŠ¤æˆ‘ä»¬çš„æœåŠ¡å™¨çš„ipï¼Œå‡</p><p>å°‘è¢«é»‘çš„é£é™©ã€‚é…åŸŸåç›¸æ¯”ipä¹Ÿæ¯”ipæ›´å®¹æ˜“è®°ä¸€ç‚¹ã€‚</p><h4 id=å‰ç½®ä¾èµ–-1>å‰ç½®ä¾èµ–<a hidden class=anchor aria-hidden=true href=#å‰ç½®ä¾èµ–-1>#</a></h4><ul><li>ä¸€ä¸ªå±äºä½ çš„åŸŸåï¼ŒåŸŸåéœ€è¦è´­ä¹°ï¼Œä¾¿å®œçš„æ¯”å¦‚godaddyä¸Š10å—ï¼Œ20å—å·¦å³å°±èƒ½ä¹°åˆ°ä¸€ä¸ªåŸŸåäº†ã€‚å…¶ä»–çš„google,namecheapä¹‹ç±»çš„ä¹Ÿèƒ½ä¹°åˆ°ã€‚</li><li>ä¸€ä¸ªdnsè§£æå™¨ï¼Œå°†åŸŸåè§£æåˆ°æœåŠ¡å™¨ipã€‚ä¸€èˆ¬åŸŸåå‚å•†éƒ½æœ‰è¿™ä¸ªåŠŸèƒ½ã€‚</li></ul><p>æˆ‘ä¸ªäººæ¯”è¾ƒå–œæ¬¢cloudflareï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œå›½é™…çŸ¥åå¤§å‚ï¼Œä¸ªäººå…è´¹ï¼Œè¿˜å¥½ä½¿ï¼Œæ”¯æŒä¸­æ–‡ï¼Œè¿˜èƒ½ç”Ÿæˆå…è´¹çš„sslè¯ä¹¦ã€‚</p><p>æ¥ä¸‹æ¥ä»¥cloudflareä¸ºä¾‹ï¼Œä»‹ç»å¦‚ä½•é…ç½®åŸŸåè§£æï¼Œç”Ÿæˆsslè¯ä¹¦ï¼Œä»¥åŠNginxå¦‚ä½•é…ç½®sslã€‚</p><h4 id=ç”Ÿæˆsslè¯ä¹¦>ç”Ÿæˆsslè¯ä¹¦<a hidden class=anchor aria-hidden=true href=#ç”Ÿæˆsslè¯ä¹¦>#</a></h4><p>æ²¡è´¦å·çš„å¯ä»¥å…ˆæ³¨å†Œä¸€ä¸ªcloudflareè´¦å·ï¼Œç”¨é‚®ç®±æ³¨å†Œã€‚</p><p>æ‰“å¼€<a href=https://dash.cloudflare.com/>cloudflareæ§åˆ¶å°</a>ï¼Œéœ€è¦å…ˆå°†åŸŸåæ‰˜ç®¡åˆ°cloudflareï¼Œæ‰èƒ½é…ç½®åŸŸåè§£æã€‚å…¶ä»–å‚å•†è‡ªè¡Œæœç´¢è§£å†³ã€‚</p><p>é€‰ä¸­è¦é…ç½®è§£æçš„åŸŸåï¼Œæ‰“å¼€å·¦ä¾§çš„SSL/TLSï¼Œé€‰ä¸­æºæœåŠ¡å™¨ï¼Œå³ä¾§ç‚¹å‡»åˆ›å»ºè¯ä¹¦ã€‚è¿™ä¸ªè¯ä¹¦æ˜¯ç”¨æ¥å®‰è£…åˆ°æœåŠ¡å™¨ä¸Šçš„ã€‚</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202312142240415.png alt=image-20231214224027324></p><p>è¿›å…¥åˆ›å»ºé¡µé¢ï¼Œä¼šæœ‰ä¸€äº›é€‰é¡¹ï¼Œé»˜è®¤å³å¯ã€‚ä¸»æœºåå¯¹åº”nginx server{}å—é‡Œçš„server_nameï¼Œå¯ä»¥è‡ªå®šä¹‰ï¼Œåˆ›å»ºè¯ä¹¦çš„æ—¶å€™å’ŒæœåŠ¡å™¨ä¸Šé…</p><p>ç½®çš„server_nameä¿æŒä¸€è‡´å³å¯ã€‚æ”¯æŒé€šé…ç¬¦ã€‚è¯ä¹¦æœ‰æ•ˆæœŸæœ€é•¿æ˜¯15å¹´ï¼Œå¤Ÿç”¨äº†ã€‚</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202312142243934.png alt=image-20231214224312848></p><p>ç‚¹å‡»åˆ›å»ºä¹‹åï¼Œä¼šç”Ÿæˆä¸€ä¸ªkeyå’Œpemæ–‡ä»¶ã€‚keyå’Œpeméƒ½æ˜¯è¦ä¿å­˜ä¸‹æ¥æ”¾åˆ°æœåŠ¡å™¨ä¸Šçš„ã€‚</p><p>ç§é’¥åªæœ‰è¿™ä¸€æ¬¡æœºä¼šå¯ä»¥å¤åˆ¶ï¼Œå…³é—­è¿™ä¸ªé¡µé¢ä¹‹åå°±æ‰¾ä¸åˆ°äº†ï¼Œæ‰€ä»¥ç§é’¥éœ€è¦å¦¥å–„ä¿ç®¡ï¼Œä¸¢å¤±æˆ–è€…é—å¿˜åªèƒ½é‡æ–°åˆ›å»ºè¯ä¹¦äº†ã€‚</p><p>å’Œç§é’¥ä¸åŒï¼Œpemæ–‡ä»¶ä¹‹åè¿˜å¯ä»¥ä¸‹è½½ã€‚</p><p>å°†æºè¯ä¹¦å†…å®¹å¤åˆ¶ï¼Œç²˜è´´åˆ°xxx.pemæ–‡ä»¶é‡Œã€‚</p><p>å°†ç§é’¥å¤åˆ¶ï¼Œç²˜è´´åˆ°xxx.keyé‡Œã€‚</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202312142246713.png alt=image-20231214224625637></p><p>ç‚¹å‡»ç¡®å®šä¹‹åï¼Œä¼šå›åˆ°è¯ä¹¦é¡µé¢ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œåªèƒ½ä¸‹è½½pemæ–‡ä»¶ï¼Œkeyæ–‡ä»¶è¢«éšè—ï¼Œæ— æ³•ä¸‹è½½ä¸è®¿é—®äº†</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202312142251054.png alt=image-20231214225104969></p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202312142251832.png alt=image-20231214225118743></p><h4 id=nginxé…ç½®å¼ºåˆ¶è·³è½¬https>nginxé…ç½®å¼ºåˆ¶è·³è½¬https<a hidden class=anchor aria-hidden=true href=#nginxé…ç½®å¼ºåˆ¶è·³è½¬https>#</a></h4><p>å‰é¢å‡ æ­¥ï¼Œæˆ‘ä»¬ç›‘å¬äº†80ç«¯å£ï¼Œè¿™æ˜¯Nginxçš„httpæ¥å£ï¼Œç°åœ¨æˆ‘ä»¬è¦ç›‘å¬443ç«¯å£(https)ï¼Œå°†80ç«¯å£çš„è¯·æ±‚å¼ºåˆ¶è·³è½¬åˆ°443ç«¯å£ã€‚</p><p>é¦–å…ˆè¿›å…¥<code>/etc/nginx/config.d/</code>ç›®å½•ï¼Œå°†wp.confé‡å‘½åä¸ºwp.conf.bakï¼Œè¿™æ ·åŸå…ˆçš„æ–‡ä»¶å°±ä¸ç”Ÿæ•ˆäº†ã€‚</p><p>ç„¶åæ‰§è¡Œ<code>touch wp.conf</code>ï¼Œé‡æ–°ç”Ÿæˆç©ºç™½çš„wp.confæ–‡ä»¶</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>cd /etc/nginx/config.d
</span></span><span style=display:flex><span>mv wp.conf wp.conf.bak
</span></span><span style=display:flex><span>touch wp.conf
</span></span></code></pre></div><p>ç„¶åå°†ä¸‹æ–¹çš„é…ç½®æ–‡ä»¶ä¿®æ”¹åç²˜è´´åˆ°wp.confé‡Œ</p><p>æœ‰å¦‚ä¸‹å‡ æ¬¡åœ°æ–¹éœ€è¦æ”¹æˆä½ è‡ªå·±çš„é…ç½®</p><ul><li>2ä¸ªserverå—é‡Œçš„server_nameï¼Œè¿™ä¸ªåœ°æ–¹è¦é…ç½®ä¸ºä¸Šä¸€æ­¥åˆ›å»ºè¯ä¹¦æ—¶é€‰æ‹©çš„ä¸»æœºåï¼Œæˆ‘è¿™é‡Œè¦ä¿æŠ¤çš„æ˜¯ä¸‰çº§åŸŸåï¼Œç¬¦åˆé€šé…æ¡ä»¶</li><li>è®°å¾—å°†ssl_certificateå’Œssl_certificate_keyçš„ä½ç½®é…ç½®æ­£ç¡®</li><li>è¿™ä¸ªåŸŸåçš„æ—¥å¿—é‡æ–°å†™åˆ°æ–°çš„æ–‡ä»¶åäº†ï¼ŒæŒ‰éœ€æ”¾å¼€æˆ–è€…æ³¨é‡Šæ‰</li></ul><p>å…¶ä»–çš„é…ç½®å’Œä¹‹å‰80çš„é…ç½®ä¸€è‡´ï¼Œæ²¡æœ‰æ”¹åŠ¨</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript3 data-lang=gdscript3><span style=display:flex><span><span style=color:#75715e># Redirect HTTP -&gt; HTTPS</span>
</span></span><span style=display:flex><span>server {
</span></span><span style=display:flex><span>	listen <span style=color:#ae81ff>80</span>;
</span></span><span style=display:flex><span>	server_name www<span style=color:#f92672>.</span>racknerd<span style=color:#f92672>.</span>thend03<span style=color:#f92672>.</span>com racknerd<span style=color:#f92672>.</span>thend03<span style=color:#f92672>.</span>com;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>301</span>   https:<span style=color:#f92672>//$</span>host<span style=color:#f92672>$</span>request_uri;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>server{
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	listen <span style=color:#ae81ff>443</span> ssl http2;
</span></span><span style=display:flex><span>	server_name www<span style=color:#f92672>.</span>racknerd<span style=color:#f92672>.</span>thend03<span style=color:#f92672>.</span>com  racknerd<span style=color:#f92672>.</span>thend03<span style=color:#f92672>.</span>com;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	root <span style=color:#f92672>/</span>opt<span style=color:#f92672>/</span>wordpress;
</span></span><span style=display:flex><span>	index index<span style=color:#f92672>.</span>php index<span style=color:#f92672>.</span>html;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#75715e># SSL parameters</span>
</span></span><span style=display:flex><span>	ssl_certificate <span style=color:#f92672>/</span>root<span style=color:#f92672>/</span>thend03<span style=color:#f92672>.</span>com<span style=color:#f92672>.</span>pem;
</span></span><span style=display:flex><span>	ssl_certificate_key <span style=color:#f92672>/</span>root<span style=color:#f92672>/</span>thend03<span style=color:#f92672>.</span>com<span style=color:#f92672>.</span>key;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#75715e># log files</span>
</span></span><span style=display:flex><span>	access_log <span style=color:#f92672>/</span><span style=color:#66d9ef>var</span><span style=color:#f92672>/</span>log<span style=color:#f92672>/</span>nginx<span style=color:#f92672>/</span>resource<span style=color:#f92672>.</span>thend03<span style=color:#f92672>.</span>com<span style=color:#f92672>.</span>access<span style=color:#f92672>.</span>log;
</span></span><span style=display:flex><span>	error_log <span style=color:#f92672>/</span><span style=color:#66d9ef>var</span><span style=color:#f92672>/</span>log<span style=color:#f92672>/</span>nginx<span style=color:#f92672>/</span>resource<span style=color:#f92672>.</span>thend03<span style=color:#f92672>.</span>com<span style=color:#f92672>.</span>error<span style=color:#f92672>.</span>log;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	location <span style=color:#f92672>=</span> <span style=color:#f92672>/</span>favicon<span style=color:#f92672>.</span>ico {
</span></span><span style=display:flex><span>		log_not_found off;
</span></span><span style=display:flex><span>		access_log off;
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	location <span style=color:#f92672>=</span> <span style=color:#f92672>/</span>robots<span style=color:#f92672>.</span>txt {
</span></span><span style=display:flex><span>		allow all;
</span></span><span style=display:flex><span>		log_not_found off;
</span></span><span style=display:flex><span>		access_log off;
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	location <span style=color:#f92672>/</span> {
</span></span><span style=display:flex><span>		try_files <span style=color:#f92672>$</span>uri <span style=color:#f92672>$</span>uri<span style=color:#f92672>/</span> <span style=color:#f92672>/</span>index<span style=color:#f92672>.</span>php<span style=color:#960050;background-color:#1e0010>?</span><span style=color:#f92672>$</span>args;
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	location <span style=color:#f92672>~</span> \<span style=color:#f92672>.</span>php<span style=color:#f92672>$</span> {
</span></span><span style=display:flex><span>		include snippets<span style=color:#f92672>/</span>fastcgi<span style=color:#f92672>-</span>php<span style=color:#f92672>.</span>conf;
</span></span><span style=display:flex><span>		fastcgi_pass unix:<span style=color:#f92672>/</span>run<span style=color:#f92672>/</span>php<span style=color:#f92672>/</span>php7<span style=color:#f92672>.</span><span style=color:#ae81ff>4</span><span style=color:#f92672>-</span>fpm<span style=color:#f92672>.</span>sock;
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	location <span style=color:#f92672>~*</span> \<span style=color:#f92672>.</span>(js<span style=color:#f92672>|</span>css<span style=color:#f92672>|</span>png<span style=color:#f92672>|</span>jpg<span style=color:#f92672>|</span>jpeg<span style=color:#f92672>|</span>gif<span style=color:#f92672>|</span>ico<span style=color:#f92672>|</span>svg)<span style=color:#f92672>$</span> {
</span></span><span style=display:flex><span>		expires max;
</span></span><span style=display:flex><span>		log_not_found off;
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=åœ¨æœåŠ¡å™¨ç”Ÿæˆè¯ä¹¦>åœ¨æœåŠ¡å™¨ç”Ÿæˆè¯ä¹¦<a hidden class=anchor aria-hidden=true href=#åœ¨æœåŠ¡å™¨ç”Ÿæˆè¯ä¹¦>#</a></h4><p>åŸºäºä¸Šé¢nginxè¯ä¹¦çš„è·¯å¾„é…ç½®ï¼Œåœ¨/rootç›®å½•ç”Ÿæˆkeyå’Œpemè¯ä¹¦,å¹¶ä¸”ç¼–è¾‘æ–‡ä»¶ï¼Œå°†åœ¨cloudflareé¡µé¢ä¸Šç”Ÿæˆçš„keyå’Œpemå­—ç¬¦ä¸²å¤åˆ¶åˆ°å¯¹åº”çš„æ–‡ä»¶é‡Œã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>root@racknerd-7c9c56:/etc/nginx/conf.d# cd /root
</span></span><span style=display:flex><span>root@racknerd-7c9c56:~# touch thend03.com.pem
</span></span><span style=display:flex><span>root@racknerd-7c9c56:~# touch thend03.com.key
</span></span><span style=display:flex><span>root@racknerd-7c9c56:~# vi thend03.com.pem
</span></span><span style=display:flex><span>root@racknerd-7c9c56:~# vi thend03.com.key
</span></span></code></pre></div><h4 id=é‡å¯nginx-1>é‡å¯nginx<a hidden class=anchor aria-hidden=true href=#é‡å¯nginx-1>#</a></h4><p>é…ç½®å¥½nginx 443é…ç½®æ–‡ä»¶åï¼Œæ‰§è¡Œå‘½ä»¤é‡å¯nginx</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>root@racknerd-7c9c56:~# sudo systemctl restart nginx
</span></span></code></pre></div><h4 id=cloudflareé…ç½®åŸŸåè§£æ>cloudflareé…ç½®åŸŸåè§£æ<a hidden class=anchor aria-hidden=true href=#cloudflareé…ç½®åŸŸåè§£æ>#</a></h4><p>nginxå¤„ç†å¥½ä¹‹åï¼Œå›åˆ°cloudflareé¡µé¢ï¼Œé…ç½®åŸŸååˆ°ipçš„è§£æï¼Œæ·»åŠ ä¸€æ¡Aè®°å½•ï¼Œå°±å¯ä»¥åœ¨è®¿é—®åŸŸåçš„æ—¶å€™è¯·æ±‚åˆ°åç«¯æœåŠ¡å™¨ã€‚</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202312142305079.png alt=image-20231214230521978></p><p>æ·»åŠ å¥½ä¹‹åï¼Œåœ¨åŸŸåç®¡ç†é‚£å¯ä»¥çœ‹åˆ°æœ€æ–°æ·»åŠ çš„è§£æè®°å½•</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202312142305173.png alt=image-20231214230543082></p><h4 id=é…ç½®ssltlså®¢æˆ·ç«¯ç­–ç•¥>é…ç½®ssl/tlså®¢æˆ·ç«¯ç­–ç•¥<a hidden class=anchor aria-hidden=true href=#é…ç½®ssltlså®¢æˆ·ç«¯ç­–ç•¥>#</a></h4><p>æ‰“å¼€SSL/TLSæ¦‚è¿°ï¼Œè®¾ç½®ä¸‹å®¢æˆ·ç«¯ç­–ç•¥ï¼Œè¿™é‡Œé€‰æ‹©ç«¯åˆ°ç«¯ï¼ŒåŠ å¯†ç­‰çº§æ¯”è¾ƒé«˜ï¼Œå¹¶ä¸”æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯è‡ªç­¾åçš„è¯ä¹¦</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202312142308546.png alt=image-20231214230802451></p><h4 id=æµè§ˆå™¨è®¿é—®>æµè§ˆå™¨è®¿é—®<a hidden class=anchor aria-hidden=true href=#æµè§ˆå™¨è®¿é—®>#</a></h4><p>è§£æé…ç½®å¥½ä¹‹åï¼Œå°±æ˜¯æµè§ˆå™¨ä½¿ç”¨åŸŸåè®¿é—®äº†ã€‚</p><p>è®¿é—®wp-adminç®¡ç†åå°ï¼Œè¿™æ—¶ä¼šè·³è½¬åˆ°ipï¼Œéœ€è¦æˆ‘ä»¬ç™»å½•è¿›å»ä¹‹åè®¾ç½®ä¸€ä¸‹</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202312142313302.png alt=image-20231214231300189></p><p>å¯ä»¥çœ‹åˆ°åŸŸåè·³è½¬åˆ°äº†ip</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202312142313438.png alt=image-20231214231356326></p><p>æ‰“å¼€è®¾ç½®ï¼Œå¯ä»¥çœ‹åˆ°ç°åœ¨çš„ç«™ç‚¹è¿˜æ˜¯ipçš„æ–¹å¼ã€‚éœ€è¦ä¿®æ”¹ä¸ºåŸŸåã€‚</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202312142320536.png alt=image-20231214232013465></p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202312142318072.png alt></p><p>å†æ¬¡ç™»å½•ï¼Œåœ°å€æ å°±è¿˜æ˜¯åŸŸåï¼Œæ²¡æœ‰å˜æˆipã€‚ä»¥åéƒ½å¯ä»¥ç”¨åŸŸåçš„æ–¹å¼è®¿é—®äº†ã€‚</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202312142317238.png alt=image-20231214231714118></p><p>è‡³æ­¤ï¼Œwordpressçš„æ‰‹åŠ¨éƒ¨ç½²å°±å‘Šä¸€æ®µè½äº†ã€‚åç»­å†ä»‹ç»å®å¡”é¢æ¿ï¼Œdocker,docker-composeä¹‹ç±»çš„å®‰è£…éƒ¨ç½²ã€‚</p><p>ä»¥åŠå¦‚ä½•é€‰æ‹©æ¨¡æ¿æ­å»ºè‡ªå·±çš„ç›®æ ‡ç«™ã€‚</p><h2 id=å‚è€ƒé“¾æ¥>å‚è€ƒé“¾æ¥<a hidden class=anchor aria-hidden=true href=#å‚è€ƒé“¾æ¥>#</a></h2><p><a href=https://zhangwensheng.cn/posts/20190710_pg_with_wordpress_blog_site/>wordpress+postgresql</a></p><p><a href=https://github.com/PostgreSQL-For-Wordpress/postgresql-for-wordpress>pg4wp plugin</a></p><p><a href=https://www.myfreax.com/how-to-install-php-8-1-on-debian-11/>debianå®‰è£…php8.1</a></p><p><a href=https://www.digitalocean.com/community/tutorials/how-to-install-mysql-on-ubuntu-20-04>ubuntuå®‰è£…mysql</a></p><p><a href=https://www.digitalocean.com/community/tutorials/how-to-install-the-latest-mysql-on-debian-10>debianå®‰è£…mysql</a></p><p><a href=https://www.digitalocean.com/community/tutorials/install-wordpress-nginx-ubuntu>ubuntu18.04å®‰è£…wordpress</a></p><p><a href=https://www.hostinger.com/tutorials/how-to-install-wordpress-with-nginx-on-ubuntu/>nginx+wordpress sslé…ç½®</a></p><p><a href=https://developer.wordpress.org/advanced-administration/before-install/howto-install/#step-5-run-the-install-script>wordpressç»å…¸äº”æ­¥å®‰è£…æ³•</a></p></div><div class=post-reward><div style=padding:0;margin:0;width:100%;font-size:16px;text-align:center><div id=QR style=opacity:0><div id=wechat style=display:inline-block><a class=fancybox rel=group><img id=wechat_qr src=https://blog.thend03.com/img/wechat-pay.png alt=wechat_pay></a><p>å¾®ä¿¡</p></div><div id=alipay style=display:inline-block><a class=fancybox rel=group><img id=alipay_qr src=https://blog.thend03.com/img/alipay.png alt=alipay></a><p>æ”¯ä»˜å®</p></div></div><button id=rewardButton onclick='var qr=document.getElementById("QR");qr.style.opacity==="0"?qr.style.opacity="1":qr.style.opacity="0"'>
<span>ğŸ§§ é¼“åŠ±</span></button></div></div><footer class=post-footer><nav class=paginav><a class=prev href=https://blog.thend03.com/posts/second-half-of-2023/><span class=title>Â« ä¸Šä¸€é¡µ</span><br><span>2023å¹´ä¸‹åŠå¹´æ€»ç»“</span>
</a><a class=next href=https://blog.thend03.com/posts/goal-setting-and-self-reflection/><span class=title>ä¸‹ä¸€é¡µ Â»</span><br><span>goal-setting and reflection</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Ubuntu22.04å®‰è£…wordpress on twitter" href="https://twitter.com/intent/tweet/?text=Ubuntu22.04%e5%ae%89%e8%a3%85wordpress&amp;url=https%3a%2f%2fblog.thend03.com%2fposts%2finstall-wordpress-on-ubuntu22.04%2f&amp;hashtags=wordpress"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg>
</a><a target=_blank rel="noopener noreferrer" aria-label="share Ubuntu22.04å®‰è£…wordpress on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fblog.thend03.com%2fposts%2finstall-wordpress-on-ubuntu22.04%2f&amp;title=Ubuntu22.04%e5%ae%89%e8%a3%85wordpress&amp;summary=Ubuntu22.04%e5%ae%89%e8%a3%85wordpress&amp;source=https%3a%2f%2fblog.thend03.com%2fposts%2finstall-wordpress-on-ubuntu22.04%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg>
</a><a target=_blank rel="noopener noreferrer" aria-label="share Ubuntu22.04å®‰è£…wordpress on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fblog.thend03.com%2fposts%2finstall-wordpress-on-ubuntu22.04%2f&title=Ubuntu22.04%e5%ae%89%e8%a3%85wordpress"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg>
</a><a target=_blank rel="noopener noreferrer" aria-label="share Ubuntu22.04å®‰è£…wordpress on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.thend03.com%2fposts%2finstall-wordpress-on-ubuntu22.04%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg>
</a><a target=_blank rel="noopener noreferrer" aria-label="share Ubuntu22.04å®‰è£…wordpress on whatsapp" href="https://api.whatsapp.com/send?text=Ubuntu22.04%e5%ae%89%e8%a3%85wordpress%20-%20https%3a%2f%2fblog.thend03.com%2fposts%2finstall-wordpress-on-ubuntu22.04%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg>
</a><a target=_blank rel="noopener noreferrer" aria-label="share Ubuntu22.04å®‰è£…wordpress on telegram" href="https://telegram.me/share/url?text=Ubuntu22.04%e5%ae%89%e8%a3%85wordpress&amp;url=https%3a%2f%2fblog.thend03.com%2fposts%2finstall-wordpress-on-ubuntu22.04%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></div><style>.comments_details summary::marker{font-size:20px;content:'ğŸ‘‰å±•å¼€è¯„è®º';color:var(--content)}.comments_details[open] summary::marker{font-size:20px;content:'ğŸ‘‡å…³é—­è¯„è®º';color:var(--content)}</style><div><details class=comments_details><summary style="cursor:pointer;margin:50px 0 20px;width:130px"><span style=font-size:20px;color:var(--content)>...</span></summary><div id=tcomment></div></details><script src=https://cdn.staticfile.org/twikoo/1.5.8/twikoo.all.min.js></script><script>twikoo.init({envId:null,el:"#tcomment",lang:"zh-CN",region:null,path:window.TWIKOO_MAGIC_PATH||window.location.pathname})</script></div></article></main><footer class=footer><span>Copyright
&copy;
2020-2024
<a href=https://blog.thend03.com/ style=color:#939393>Fayy&amp;Fc's Blog</a>
All Rights Reserved
</span><a href=https://beian.miit.gov.cn/ target=_blank style=color:#939393></a>&nbsp;
<span><a target=_blank href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=null" style=display:inline-block;text-decoration:none;height:20px;color:#939393><img src style="float:left;margin:0 5px 0 0">
</a></span><span id=busuanzi_container><span class="fa fa-user"></span> <span id=busuanzi_value_site_uv></span>
<span class="fa fa-eye"></span> <span id=busuanzi_value_site_pv></span></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><span class=topInner><svg class="topSvg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
<span id=read_progress></span>
</span></a><script>document.addEventListener("scroll",function(){const t=document.getElementById("read_progress"),n=document.documentElement.scrollHeight,s=document.documentElement.clientHeight,o=document.documentElement.scrollTop||document.body.scrollTop;t.innerText=((o/(n-s)).toFixed(2)*100).toFixed(0)})</script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>let mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>200||document.documentElement.scrollTop>200?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{(function(){document.cookie="change-themes="+escape("false")})(),document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.body.addEventListener("copy",function(e){if(window.getSelection().toString()&&window.getSelection().toString().length>50){let t=e.clipboardData||window.clipboardData;if(t){e.preventDefault();let n=window.getSelection().toString(),s=window.getSelection().toString();t.setData("text/html",n),t.setData("text/plain",s)}}})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const s=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="å¤åˆ¶";function i(){t.innerText="å·²å¤åˆ¶ï¼",setTimeout(()=>{t.innerText="å¤åˆ¶"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){let t=e.textContent;navigator.clipboard.writeText(t),i();return}const n=document.createRange();n.selectNodeContents(e);const s=window.getSelection();s.removeAllRanges(),s.addRange(n);try{document.execCommand("copy"),i()}catch{}s.removeRange(n)});let l=e.className.replaceAll("language-",""),n=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div"),c=document.createElement("div"),o=document.createElement("div");o.innerText=l,n.setAttribute("class","mac-tool"),a.setAttribute("class","mac bb1"),r.setAttribute("class","mac bb2"),c.setAttribute("class","mac bb3"),o.setAttribute("class","language-type"),n.appendChild(a),n.appendChild(r),n.appendChild(c),n.appendChild(o),s.classList.contains("highlight")?(s.appendChild(t),s.appendChild(n)):s.parentNode.firstChild==s||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?(e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t),s.appendChild(n)):(e.parentNode.appendChild(t),s.appendChild(n)))})</script></body></html>